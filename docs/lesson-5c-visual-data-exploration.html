<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>20 Lesson 5c: Visual data exploration | Data Wrangling with R</title>
  <meta name="description" content="Master the art of data wrangling with the R programming language." />
  <meta name="generator" content="bookdown 0.26 and GitBook 2.6.7" />

  <meta property="og:title" content="20 Lesson 5c: Visual data exploration | Data Wrangling with R" />
  <meta property="og:type" content="book" />
  
  <meta property="og:description" content="Master the art of data wrangling with the R programming language." />
  <meta name="github-repo" content="bradleyboehmke/uc-bana-7025" />

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="20 Lesson 5c: Visual data exploration | Data Wrangling with R" />
  <meta name="twitter:site" content="@bradleyboehmke" />
  <meta name="twitter:description" content="Master the art of data wrangling with the R programming language." />
  

<meta name="author" content="Bradley Boehmke" />



  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="lesson-5b-handling-factors.html"/>
<link rel="next" href="overview-5.html"/>
<script src="libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/fuse.js@6.4.6/dist/fuse.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />








<link href="libs/anchor-sections-1.1.0/anchor-sections.css" rel="stylesheet" />
<link href="libs/anchor-sections-1.1.0/anchor-sections-hash.css" rel="stylesheet" />
<script src="libs/anchor-sections-1.1.0/anchor-sections.js"></script>
<script src="libs/kePrint-0.0.1/kePrint.js"></script>
<link href="libs/lightable-0.0.1/lightable.css" rel="stylesheet" />
<link href="libs/bsTable-3.3.7/bootstrapTable.min.css" rel="stylesheet" />
<script src="libs/bsTable-3.3.7/bootstrapTable.js"></script>


<style type="text/css">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>

<style type="text/css">
/* Used with Pandoc 2.11+ new --citeproc when CSL is used */
div.csl-bib-body { }
div.csl-entry {
  clear: both;
}
.hanging div.csl-entry {
  margin-left:2em;
  text-indent:-2em;
}
div.csl-left-margin {
  min-width:2em;
  float:left;
}
div.csl-right-inline {
  margin-left:2em;
  padding-left:1em;
}
div.csl-indent {
  margin-left: 2em;
}
</style>

<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">UC BANA 7025: Data Wrangling</a></li>

<li class="divider"></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i>Syllabus</a>
<ul>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#learning-objectives"><i class="fa fa-check"></i>Learning Objectives</a></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#material"><i class="fa fa-check"></i>Material</a></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#class-structure"><i class="fa fa-check"></i>Class Structure</a></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#schedule"><i class="fa fa-check"></i>Schedule</a></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#conventions-used-in-this-book"><i class="fa fa-check"></i>Conventions used in this book</a></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#feedback"><i class="fa fa-check"></i>Feedback</a></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#acknowledgements"><i class="fa fa-check"></i>Acknowledgements</a></li>
</ul></li>
<li class="part"><span><b>I Module 1</b></span></li>
<li class="chapter" data-level="1" data-path="overview.html"><a href="overview.html"><i class="fa fa-check"></i><b>1</b> Overview</a>
<ul>
<li class="chapter" data-level="1.1" data-path="overview.html"><a href="overview.html#learning-objectives-1"><i class="fa fa-check"></i><b>1.1</b> Learning objectives</a></li>
<li class="chapter" data-level="1.2" data-path="overview.html"><a href="overview.html#estimated-time-requirement"><i class="fa fa-check"></i><b>1.2</b> Estimated time requirement</a></li>
<li class="chapter" data-level="1.3" data-path="overview.html"><a href="overview.html#tasks"><i class="fa fa-check"></i><b>1.3</b> Tasks</a></li>
</ul></li>
<li class="chapter" data-level="2" data-path="lesson-1a-r-rstudio.html"><a href="lesson-1a-r-rstudio.html"><i class="fa fa-check"></i><b>2</b> Lesson 1a: R &amp; RStudio</a>
<ul>
<li class="chapter" data-level="2.1" data-path="lesson-1a-r-rstudio.html"><a href="lesson-1a-r-rstudio.html#learning-objectives-2"><i class="fa fa-check"></i><b>2.1</b> Learning objectives</a></li>
<li class="chapter" data-level="2.2" data-path="lesson-1a-r-rstudio.html"><a href="lesson-1a-r-rstudio.html#r-vs.-rstudio"><i class="fa fa-check"></i><b>2.2</b> R vs.Â RStudio</a></li>
<li class="chapter" data-level="2.3" data-path="lesson-1a-r-rstudio.html"><a href="lesson-1a-r-rstudio.html#installing-r-and-rstudio"><i class="fa fa-check"></i><b>2.3</b> Installing R and RStudio</a></li>
<li class="chapter" data-level="2.4" data-path="lesson-1a-r-rstudio.html"><a href="lesson-1a-r-rstudio.html#understanding-the-rstudio-ide"><i class="fa fa-check"></i><b>2.4</b> Understanding the RStudio IDE</a>
<ul>
<li class="chapter" data-level="2.4.1" data-path="lesson-1a-r-rstudio.html"><a href="lesson-1a-r-rstudio.html#script-editor"><i class="fa fa-check"></i><b>2.4.1</b> Script Editor</a></li>
<li class="chapter" data-level="2.4.2" data-path="lesson-1a-r-rstudio.html"><a href="lesson-1a-r-rstudio.html#workspace-environment"><i class="fa fa-check"></i><b>2.4.2</b> Workspace Environment</a></li>
<li class="chapter" data-level="2.4.3" data-path="lesson-1a-r-rstudio.html"><a href="lesson-1a-r-rstudio.html#console"><i class="fa fa-check"></i><b>2.4.3</b> Console</a></li>
<li class="chapter" data-level="2.4.4" data-path="lesson-1a-r-rstudio.html"><a href="lesson-1a-r-rstudio.html#misc.-displays"><i class="fa fa-check"></i><b>2.4.4</b> Misc. Displays</a></li>
<li class="chapter" data-level="2.4.5" data-path="lesson-1a-r-rstudio.html"><a href="lesson-1a-r-rstudio.html#workspace-options-shortcuts"><i class="fa fa-check"></i><b>2.4.5</b> Workspace Options &amp; Shortcuts</a></li>
<li class="chapter" data-level="2.4.6" data-path="lesson-1a-r-rstudio.html"><a href="lesson-1a-r-rstudio.html#knowledge-check"><i class="fa fa-check"></i><b>2.4.6</b> Knowledge check</a></li>
</ul></li>
<li class="chapter" data-level="2.5" data-path="lesson-1a-r-rstudio.html"><a href="lesson-1a-r-rstudio.html#getting-help"><i class="fa fa-check"></i><b>2.5</b> Getting help</a>
<ul>
<li class="chapter" data-level="2.5.1" data-path="lesson-1a-r-rstudio.html"><a href="lesson-1a-r-rstudio.html#general-help"><i class="fa fa-check"></i><b>2.5.1</b> General Help</a></li>
<li class="chapter" data-level="2.5.2" data-path="lesson-1a-r-rstudio.html"><a href="lesson-1a-r-rstudio.html#getting-help-from-the-web"><i class="fa fa-check"></i><b>2.5.2</b> Getting Help From the Web</a></li>
<li class="chapter" data-level="2.5.3" data-path="lesson-1a-r-rstudio.html"><a href="lesson-1a-r-rstudio.html#knowledge-check-1"><i class="fa fa-check"></i><b>2.5.3</b> Knowledge check</a></li>
</ul></li>
<li class="chapter" data-level="2.6" data-path="lesson-1a-r-rstudio.html"><a href="lesson-1a-r-rstudio.html#errors-warnings-and-messages"><i class="fa fa-check"></i><b>2.6</b> Errors, warnings, and messages</a></li>
<li class="chapter" data-level="2.7" data-path="lesson-1a-r-rstudio.html"><a href="lesson-1a-r-rstudio.html#exercises"><i class="fa fa-check"></i><b>2.7</b> Exercises</a></li>
</ul></li>
<li class="chapter" data-level="3" data-path="lesson-1b-r-fundamentals.html"><a href="lesson-1b-r-fundamentals.html"><i class="fa fa-check"></i><b>3</b> Lesson 1b: R fundamentals</a>
<ul>
<li class="chapter" data-level="3.1" data-path="lesson-1b-r-fundamentals.html"><a href="lesson-1b-r-fundamentals.html#learning-objectives-3"><i class="fa fa-check"></i><b>3.1</b> Learning objectives</a></li>
<li class="chapter" data-level="3.2" data-path="lesson-1b-r-fundamentals.html"><a href="lesson-1b-r-fundamentals.html#assignment-evaluation"><i class="fa fa-check"></i><b>3.2</b> Assignment &amp; evaluation</a>
<ul>
<li class="chapter" data-level="3.2.1" data-path="lesson-1b-r-fundamentals.html"><a href="lesson-1b-r-fundamentals.html#assignment"><i class="fa fa-check"></i><b>3.2.1</b> Assignment</a></li>
<li class="chapter" data-level="3.2.2" data-path="lesson-1b-r-fundamentals.html"><a href="lesson-1b-r-fundamentals.html#evaluation"><i class="fa fa-check"></i><b>3.2.2</b> Evaluation</a></li>
<li class="chapter" data-level="3.2.3" data-path="lesson-1b-r-fundamentals.html"><a href="lesson-1b-r-fundamentals.html#case-sensitivity"><i class="fa fa-check"></i><b>3.2.3</b> Case Sensitivity</a></li>
<li class="chapter" data-level="3.2.4" data-path="lesson-1b-r-fundamentals.html"><a href="lesson-1b-r-fundamentals.html#knowledge-check-2"><i class="fa fa-check"></i><b>3.2.4</b> Knowledge check</a></li>
</ul></li>
<li class="chapter" data-level="3.3" data-path="lesson-1b-r-fundamentals.html"><a href="lesson-1b-r-fundamentals.html#r-as-a-calculator"><i class="fa fa-check"></i><b>3.3</b> R as a calculator</a>
<ul>
<li class="chapter" data-level="3.3.1" data-path="lesson-1b-r-fundamentals.html"><a href="lesson-1b-r-fundamentals.html#basic-arithmetic"><i class="fa fa-check"></i><b>3.3.1</b> Basic Arithmetic</a></li>
<li class="chapter" data-level="3.3.2" data-path="lesson-1b-r-fundamentals.html"><a href="lesson-1b-r-fundamentals.html#miscellaneous-mathematical-functions"><i class="fa fa-check"></i><b>3.3.2</b> Miscellaneous Mathematical Functions</a></li>
<li class="chapter" data-level="3.3.3" data-path="lesson-1b-r-fundamentals.html"><a href="lesson-1b-r-fundamentals.html#infinite-and-nan-numbers"><i class="fa fa-check"></i><b>3.3.3</b> Infinite, and NaN Numbers</a></li>
<li class="chapter" data-level="3.3.4" data-path="lesson-1b-r-fundamentals.html"><a href="lesson-1b-r-fundamentals.html#knowledge-check-3"><i class="fa fa-check"></i><b>3.3.4</b> Knowledge check</a></li>
</ul></li>
<li class="chapter" data-level="3.4" data-path="lesson-1b-r-fundamentals.html"><a href="lesson-1b-r-fundamentals.html#working-with-packages"><i class="fa fa-check"></i><b>3.4</b> Working with packages</a>
<ul>
<li class="chapter" data-level="3.4.1" data-path="lesson-1b-r-fundamentals.html"><a href="lesson-1b-r-fundamentals.html#installing-packages"><i class="fa fa-check"></i><b>3.4.1</b> Installing Packages</a></li>
<li class="chapter" data-level="3.4.2" data-path="lesson-1b-r-fundamentals.html"><a href="lesson-1b-r-fundamentals.html#loading-packages"><i class="fa fa-check"></i><b>3.4.2</b> Loading Packages</a></li>
<li class="chapter" data-level="3.4.3" data-path="lesson-1b-r-fundamentals.html"><a href="lesson-1b-r-fundamentals.html#getting-help-on-packages"><i class="fa fa-check"></i><b>3.4.3</b> Getting Help on Packages</a></li>
<li class="chapter" data-level="3.4.4" data-path="lesson-1b-r-fundamentals.html"><a href="lesson-1b-r-fundamentals.html#useful-packages"><i class="fa fa-check"></i><b>3.4.4</b> Useful Packages</a></li>
<li class="chapter" data-level="3.4.5" data-path="lesson-1b-r-fundamentals.html"><a href="lesson-1b-r-fundamentals.html#knowledge-check-4"><i class="fa fa-check"></i><b>3.4.5</b> Knowledge check</a></li>
<li class="chapter" data-level="3.4.6" data-path="lesson-1b-r-fundamentals.html"><a href="lesson-1b-r-fundamentals.html#tidyverse"><i class="fa fa-check"></i><b>3.4.6</b> Tidyverse</a></li>
</ul></li>
<li class="chapter" data-level="3.5" data-path="lesson-1b-r-fundamentals.html"><a href="lesson-1b-r-fundamentals.html#style-guide"><i class="fa fa-check"></i><b>3.5</b> Style guide</a>
<ul>
<li class="chapter" data-level="3.5.1" data-path="lesson-1b-r-fundamentals.html"><a href="lesson-1b-r-fundamentals.html#notation-and-naming"><i class="fa fa-check"></i><b>3.5.1</b> Notation and Naming</a></li>
<li class="chapter" data-level="3.5.2" data-path="lesson-1b-r-fundamentals.html"><a href="lesson-1b-r-fundamentals.html#organization"><i class="fa fa-check"></i><b>3.5.2</b> Organization</a></li>
<li class="chapter" data-level="3.5.3" data-path="lesson-1b-r-fundamentals.html"><a href="lesson-1b-r-fundamentals.html#syntax"><i class="fa fa-check"></i><b>3.5.3</b> Syntax</a></li>
<li class="chapter" data-level="3.5.4" data-path="lesson-1b-r-fundamentals.html"><a href="lesson-1b-r-fundamentals.html#knowledge-check-5"><i class="fa fa-check"></i><b>3.5.4</b> Knowledge check</a></li>
</ul></li>
<li class="chapter" data-level="3.6" data-path="lesson-1b-r-fundamentals.html"><a href="lesson-1b-r-fundamentals.html#exercises-1"><i class="fa fa-check"></i><b>3.6</b> Exercises</a></li>
</ul></li>
<li class="chapter" data-level="4" data-path="lesson-1c-vectors.html"><a href="lesson-1c-vectors.html"><i class="fa fa-check"></i><b>4</b> Lesson 1c: Vectors</a>
<ul>
<li class="chapter" data-level="4.1" data-path="lesson-1c-vectors.html"><a href="lesson-1c-vectors.html#learning-objectives-4"><i class="fa fa-check"></i><b>4.1</b> Learning objectives</a></li>
<li class="chapter" data-level="4.2" data-path="lesson-1c-vectors.html"><a href="lesson-1c-vectors.html#creating-vectors"><i class="fa fa-check"></i><b>4.2</b> Creating vectors</a>
<ul>
<li class="chapter" data-level="4.2.1" data-path="lesson-1c-vectors.html"><a href="lesson-1c-vectors.html#creating-sequences"><i class="fa fa-check"></i><b>4.2.1</b> Creating sequences</a></li>
<li class="chapter" data-level="4.2.2" data-path="lesson-1c-vectors.html"><a href="lesson-1c-vectors.html#knowledge-check-6"><i class="fa fa-check"></i><b>4.2.2</b> Knowledge check</a></li>
</ul></li>
<li class="chapter" data-level="4.3" data-path="lesson-1c-vectors.html"><a href="lesson-1c-vectors.html#extracting-elements"><i class="fa fa-check"></i><b>4.3</b> Extracting elements</a>
<ul>
<li class="chapter" data-level="4.3.1" data-path="lesson-1c-vectors.html"><a href="lesson-1c-vectors.html#positional-indexing"><i class="fa fa-check"></i><b>4.3.1</b> Positional indexing</a></li>
<li class="chapter" data-level="4.3.2" data-path="lesson-1c-vectors.html"><a href="lesson-1c-vectors.html#logical-indexing"><i class="fa fa-check"></i><b>4.3.2</b> Logical indexing</a></li>
<li class="chapter" data-level="4.3.3" data-path="lesson-1c-vectors.html"><a href="lesson-1c-vectors.html#knowledge-check-7"><i class="fa fa-check"></i><b>4.3.3</b> Knowledge check</a></li>
</ul></li>
<li class="chapter" data-level="4.4" data-path="lesson-1c-vectors.html"><a href="lesson-1c-vectors.html#replacing-elements"><i class="fa fa-check"></i><b>4.4</b> Replacing elements</a>
<ul>
<li class="chapter" data-level="4.4.1" data-path="lesson-1c-vectors.html"><a href="lesson-1c-vectors.html#knowledge-check-8"><i class="fa fa-check"></i><b>4.4.1</b> Knowledge check</a></li>
</ul></li>
<li class="chapter" data-level="4.5" data-path="lesson-1c-vectors.html"><a href="lesson-1c-vectors.html#operations"><i class="fa fa-check"></i><b>4.5</b> Operations</a>
<ul>
<li class="chapter" data-level="4.5.1" data-path="lesson-1c-vectors.html"><a href="lesson-1c-vectors.html#knowledge-check-9"><i class="fa fa-check"></i><b>4.5.1</b> Knowledge check</a></li>
</ul></li>
<li class="chapter" data-level="4.6" data-path="lesson-1c-vectors.html"><a href="lesson-1c-vectors.html#missing-data"><i class="fa fa-check"></i><b>4.6</b> Missing data</a>
<ul>
<li class="chapter" data-level="4.6.1" data-path="lesson-1c-vectors.html"><a href="lesson-1c-vectors.html#knowledge-check-10"><i class="fa fa-check"></i><b>4.6.1</b> Knowledge check</a></li>
</ul></li>
<li class="chapter" data-level="4.7" data-path="lesson-1c-vectors.html"><a href="lesson-1c-vectors.html#vectorization"><i class="fa fa-check"></i><b>4.7</b> Vectorization</a>
<ul>
<li class="chapter" data-level="4.7.1" data-path="lesson-1c-vectors.html"><a href="lesson-1c-vectors.html#looping-versus-vectorization"><i class="fa fa-check"></i><b>4.7.1</b> Looping versus Vectorization</a></li>
<li class="chapter" data-level="4.7.2" data-path="lesson-1c-vectors.html"><a href="lesson-1c-vectors.html#recycling"><i class="fa fa-check"></i><b>4.7.2</b> Recycling</a></li>
<li class="chapter" data-level="4.7.3" data-path="lesson-1c-vectors.html"><a href="lesson-1c-vectors.html#knowledge-check-11"><i class="fa fa-check"></i><b>4.7.3</b> Knowledge check</a></li>
</ul></li>
<li class="chapter" data-level="4.8" data-path="lesson-1c-vectors.html"><a href="lesson-1c-vectors.html#exercises-2"><i class="fa fa-check"></i><b>4.8</b> Exercises</a></li>
</ul></li>
<li class="part"><span><b>II Module 2</b></span></li>
<li class="chapter" data-level="5" data-path="overview-1.html"><a href="overview-1.html"><i class="fa fa-check"></i><b>5</b> Overview</a>
<ul>
<li class="chapter" data-level="5.1" data-path="overview-1.html"><a href="overview-1.html#learning-objectives-5"><i class="fa fa-check"></i><b>5.1</b> Learning objectives</a></li>
<li class="chapter" data-level="5.2" data-path="overview-1.html"><a href="overview-1.html#estimated-time-requirement-1"><i class="fa fa-check"></i><b>5.2</b> Estimated time requirement</a></li>
<li class="chapter" data-level="5.3" data-path="overview-1.html"><a href="overview-1.html#tasks-1"><i class="fa fa-check"></i><b>5.3</b> Tasks</a></li>
</ul></li>
<li class="chapter" data-level="6" data-path="lesson-2a-workflow.html"><a href="lesson-2a-workflow.html"><i class="fa fa-check"></i><b>6</b> Lesson 2a: Workflow</a>
<ul>
<li class="chapter" data-level="6.1" data-path="lesson-2a-workflow.html"><a href="lesson-2a-workflow.html#learning-objectives-6"><i class="fa fa-check"></i><b>6.1</b> Learning objectives</a></li>
<li class="chapter" data-level="6.2" data-path="lesson-2a-workflow.html"><a href="lesson-2a-workflow.html#r-projects"><i class="fa fa-check"></i><b>6.2</b> R Projects</a>
<ul>
<li class="chapter" data-level="6.2.1" data-path="lesson-2a-workflow.html"><a href="lesson-2a-workflow.html#creating-projects"><i class="fa fa-check"></i><b>6.2.1</b> Creating Projects</a></li>
<li class="chapter" data-level="6.2.2" data-path="lesson-2a-workflow.html"><a href="lesson-2a-workflow.html#so-whats-different"><i class="fa fa-check"></i><b>6.2.2</b> So Whatâs Different?</a></li>
<li class="chapter" data-level="6.2.3" data-path="lesson-2a-workflow.html"><a href="lesson-2a-workflow.html#knowledge-check-12"><i class="fa fa-check"></i><b>6.2.3</b> Knowledge check</a></li>
</ul></li>
<li class="chapter" data-level="6.3" data-path="lesson-2a-workflow.html"><a href="lesson-2a-workflow.html#r-markdown"><i class="fa fa-check"></i><b>6.3</b> R Markdown</a>
<ul>
<li class="chapter" data-level="6.3.1" data-path="lesson-2a-workflow.html"><a href="lesson-2a-workflow.html#creating-an-r-markdown-file"><i class="fa fa-check"></i><b>6.3.1</b> Creating an R Markdown File</a></li>
<li class="chapter" data-level="6.3.2" data-path="lesson-2a-workflow.html"><a href="lesson-2a-workflow.html#components-of-an-r-markdown-file"><i class="fa fa-check"></i><b>6.3.2</b> Components of an R Markdown File</a></li>
<li class="chapter" data-level="6.3.3" data-path="lesson-2a-workflow.html"><a href="lesson-2a-workflow.html#knitting-the-r-markdown-file"><i class="fa fa-check"></i><b>6.3.3</b> Knitting the R Markdown File</a></li>
<li class="chapter" data-level="6.3.4" data-path="lesson-2a-workflow.html"><a href="lesson-2a-workflow.html#additional-resources"><i class="fa fa-check"></i><b>6.3.4</b> Additional Resources</a></li>
<li class="chapter" data-level="6.3.5" data-path="lesson-2a-workflow.html"><a href="lesson-2a-workflow.html#knowledge-check-13"><i class="fa fa-check"></i><b>6.3.5</b> Knowledge check</a></li>
</ul></li>
<li class="chapter" data-level="6.4" data-path="lesson-2a-workflow.html"><a href="lesson-2a-workflow.html#r-notebooks"><i class="fa fa-check"></i><b>6.4</b> R Notebooks</a>
<ul>
<li class="chapter" data-level="6.4.1" data-path="lesson-2a-workflow.html"><a href="lesson-2a-workflow.html#creating-an-r-notebook"><i class="fa fa-check"></i><b>6.4.1</b> Creating an R Notebook</a></li>
<li class="chapter" data-level="6.4.2" data-path="lesson-2a-workflow.html"><a href="lesson-2a-workflow.html#interactiveness-of-an-r-notebook"><i class="fa fa-check"></i><b>6.4.2</b> Interactiveness of an R Notebook</a></li>
<li class="chapter" data-level="6.4.3" data-path="lesson-2a-workflow.html"><a href="lesson-2a-workflow.html#saving-sharing-previewing-knitting-an-r-notebook"><i class="fa fa-check"></i><b>6.4.3</b> Saving, Sharing, Previewing &amp; Knitting an R Notebook</a></li>
<li class="chapter" data-level="6.4.4" data-path="lesson-2a-workflow.html"><a href="lesson-2a-workflow.html#additional-resources-1"><i class="fa fa-check"></i><b>6.4.4</b> Additional Resources</a></li>
<li class="chapter" data-level="6.4.5" data-path="lesson-2a-workflow.html"><a href="lesson-2a-workflow.html#knowledge-check-14"><i class="fa fa-check"></i><b>6.4.5</b> Knowledge check</a></li>
</ul></li>
<li class="chapter" data-level="6.5" data-path="lesson-2a-workflow.html"><a href="lesson-2a-workflow.html#exercises-3"><i class="fa fa-check"></i><b>6.5</b> Exercises</a></li>
<li class="chapter" data-level="6.6" data-path="lesson-2a-workflow.html"><a href="lesson-2a-workflow.html#computing-environment"><i class="fa fa-check"></i><b>6.6</b> Computing environment</a></li>
</ul></li>
<li class="chapter" data-level="7" data-path="lesson-2b-data-types-structures.html"><a href="lesson-2b-data-types-structures.html"><i class="fa fa-check"></i><b>7</b> Lesson 2b: Data types &amp; structures</a>
<ul>
<li class="chapter" data-level="7.1" data-path="lesson-2b-data-types-structures.html"><a href="lesson-2b-data-types-structures.html#learning-objectives-7"><i class="fa fa-check"></i><b>7.1</b> Learning objectives</a></li>
<li class="chapter" data-level="7.2" data-path="lesson-2b-data-types-structures.html"><a href="lesson-2b-data-types-structures.html#data-types"><i class="fa fa-check"></i><b>7.2</b> Data types</a>
<ul>
<li class="chapter" data-level="7.2.1" data-path="lesson-2b-data-types-structures.html"><a href="lesson-2b-data-types-structures.html#determining-the-type"><i class="fa fa-check"></i><b>7.2.1</b> Determining the type</a></li>
<li class="chapter" data-level="7.2.2" data-path="lesson-2b-data-types-structures.html"><a href="lesson-2b-data-types-structures.html#type-conversion"><i class="fa fa-check"></i><b>7.2.2</b> Type conversion</a></li>
<li class="chapter" data-level="7.2.3" data-path="lesson-2b-data-types-structures.html"><a href="lesson-2b-data-types-structures.html#knowledge-check-15"><i class="fa fa-check"></i><b>7.2.3</b> Knowledge check</a></li>
</ul></li>
<li class="chapter" data-level="7.3" data-path="lesson-2b-data-types-structures.html"><a href="lesson-2b-data-types-structures.html#data-structures"><i class="fa fa-check"></i><b>7.3</b> Data structures</a>
<ul>
<li class="chapter" data-level="7.3.1" data-path="lesson-2b-data-types-structures.html"><a href="lesson-2b-data-types-structures.html#scalars-and-vectors"><i class="fa fa-check"></i><b>7.3.1</b> Scalars and vectors</a></li>
<li class="chapter" data-level="7.3.2" data-path="lesson-2b-data-types-structures.html"><a href="lesson-2b-data-types-structures.html#matrices-and-arrays"><i class="fa fa-check"></i><b>7.3.2</b> Matrices and arrays</a></li>
<li class="chapter" data-level="7.3.3" data-path="lesson-2b-data-types-structures.html"><a href="lesson-2b-data-types-structures.html#lists"><i class="fa fa-check"></i><b>7.3.3</b> Lists</a></li>
<li class="chapter" data-level="7.3.4" data-path="lesson-2b-data-types-structures.html"><a href="lesson-2b-data-types-structures.html#data-frames"><i class="fa fa-check"></i><b>7.3.4</b> Data frames</a></li>
</ul></li>
<li class="chapter" data-level="7.4" data-path="lesson-2b-data-types-structures.html"><a href="lesson-2b-data-types-structures.html#exercises-4"><i class="fa fa-check"></i><b>7.4</b> Exercises</a></li>
</ul></li>
<li class="chapter" data-level="8" data-path="lesson-2c-importing-data.html"><a href="lesson-2c-importing-data.html"><i class="fa fa-check"></i><b>8</b> Lesson 2c: Importing data</a>
<ul>
<li class="chapter" data-level="8.1" data-path="lesson-2c-importing-data.html"><a href="lesson-2c-importing-data.html#learning-objectives-8"><i class="fa fa-check"></i><b>8.1</b> Learning objectives</a></li>
<li class="chapter" data-level="8.2" data-path="lesson-2c-importing-data.html"><a href="lesson-2c-importing-data.html#data-memory"><i class="fa fa-check"></i><b>8.2</b> Data &amp; memory</a></li>
<li class="chapter" data-level="8.3" data-path="lesson-2c-importing-data.html"><a href="lesson-2c-importing-data.html#delimited-files"><i class="fa fa-check"></i><b>8.3</b> Delimited files</a>
<ul>
<li class="chapter" data-level="8.3.1" data-path="lesson-2c-importing-data.html"><a href="lesson-2c-importing-data.html#tibbles"><i class="fa fa-check"></i><b>8.3.1</b> Tibbles</a></li>
<li class="chapter" data-level="8.3.2" data-path="lesson-2c-importing-data.html"><a href="lesson-2c-importing-data.html#file-paths"><i class="fa fa-check"></i><b>8.3.2</b> File paths</a></li>
<li class="chapter" data-level="8.3.3" data-path="lesson-2c-importing-data.html"><a href="lesson-2c-importing-data.html#metadata"><i class="fa fa-check"></i><b>8.3.3</b> Metadata</a></li>
<li class="chapter" data-level="8.3.4" data-path="lesson-2c-importing-data.html"><a href="lesson-2c-importing-data.html#knowledge-check-18"><i class="fa fa-check"></i><b>8.3.4</b> Knowledge check</a></li>
</ul></li>
<li class="chapter" data-level="8.4" data-path="lesson-2c-importing-data.html"><a href="lesson-2c-importing-data.html#excel-files"><i class="fa fa-check"></i><b>8.4</b> Excel files</a></li>
<li class="chapter" data-level="8.5" data-path="lesson-2c-importing-data.html"><a href="lesson-2c-importing-data.html#sql-databases"><i class="fa fa-check"></i><b>8.5</b> SQL databases</a></li>
<li class="chapter" data-level="8.6" data-path="lesson-2c-importing-data.html"><a href="lesson-2c-importing-data.html#many-other-file-types"><i class="fa fa-check"></i><b>8.6</b> Many other file types</a>
<ul>
<li class="chapter" data-level="8.6.1" data-path="lesson-2c-importing-data.html"><a href="lesson-2c-importing-data.html#json-files"><i class="fa fa-check"></i><b>8.6.1</b> JSON files</a></li>
<li class="chapter" data-level="8.6.2" data-path="lesson-2c-importing-data.html"><a href="lesson-2c-importing-data.html#r-object-files"><i class="fa fa-check"></i><b>8.6.2</b> R object files</a></li>
</ul></li>
<li class="chapter" data-level="8.7" data-path="lesson-2c-importing-data.html"><a href="lesson-2c-importing-data.html#exercises-5"><i class="fa fa-check"></i><b>8.7</b> Exercises</a></li>
</ul></li>
<li class="part"><span><b>III Module 3</b></span></li>
<li class="chapter" data-level="9" data-path="overview-2.html"><a href="overview-2.html"><i class="fa fa-check"></i><b>9</b> Overview</a>
<ul>
<li class="chapter" data-level="9.1" data-path="overview-2.html"><a href="overview-2.html#learning-objectives-9"><i class="fa fa-check"></i><b>9.1</b> Learning objectives</a></li>
<li class="chapter" data-level="9.2" data-path="overview-2.html"><a href="overview-2.html#estimated-time-requirement-2"><i class="fa fa-check"></i><b>9.2</b> Estimated time requirement</a></li>
<li class="chapter" data-level="9.3" data-path="overview-2.html"><a href="overview-2.html#tasks-2"><i class="fa fa-check"></i><b>9.3</b> Tasks</a></li>
</ul></li>
<li class="chapter" data-level="10" data-path="lesson-3a-pipe-operator.html"><a href="lesson-3a-pipe-operator.html"><i class="fa fa-check"></i><b>10</b> Lesson 3a: Pipe operator</a>
<ul>
<li class="chapter" data-level="10.1" data-path="lesson-3a-pipe-operator.html"><a href="lesson-3a-pipe-operator.html#learning-objectives-10"><i class="fa fa-check"></i><b>10.1</b> Learning objectives</a></li>
<li class="chapter" data-level="10.2" data-path="lesson-3a-pipe-operator.html"><a href="lesson-3a-pipe-operator.html#pipe-operator"><i class="fa fa-check"></i><b>10.2</b> Pipe (<code>%&gt;%</code>) operator</a></li>
<li class="chapter" data-level="10.3" data-path="lesson-3a-pipe-operator.html"><a href="lesson-3a-pipe-operator.html#additional-pipe-operators-optional"><i class="fa fa-check"></i><b>10.3</b> Additional pipe operators (optional)</a></li>
<li class="chapter" data-level="10.4" data-path="lesson-3a-pipe-operator.html"><a href="lesson-3a-pipe-operator.html#additional-resources-2"><i class="fa fa-check"></i><b>10.4</b> Additional resources</a></li>
<li class="chapter" data-level="10.5" data-path="lesson-3a-pipe-operator.html"><a href="lesson-3a-pipe-operator.html#exercises-6"><i class="fa fa-check"></i><b>10.5</b> Exercises</a></li>
</ul></li>
<li class="chapter" data-level="11" data-path="lesson-3b-data-transformation.html"><a href="lesson-3b-data-transformation.html"><i class="fa fa-check"></i><b>11</b> Lesson 3b: Data transformation</a>
<ul>
<li class="chapter" data-level="11.1" data-path="lesson-3b-data-transformation.html"><a href="lesson-3b-data-transformation.html#learning-objectives-11"><i class="fa fa-check"></i><b>11.1</b> Learning objectives</a></li>
<li class="chapter" data-level="11.2" data-path="lesson-3b-data-transformation.html"><a href="lesson-3b-data-transformation.html#prerequisites"><i class="fa fa-check"></i><b>11.2</b> Prerequisites</a></li>
<li class="chapter" data-level="11.3" data-path="lesson-3b-data-transformation.html"><a href="lesson-3b-data-transformation.html#filter"><i class="fa fa-check"></i><b>11.3</b> Filtering observations</a>
<ul>
<li class="chapter" data-level="11.3.1" data-path="lesson-3b-data-transformation.html"><a href="lesson-3b-data-transformation.html#knowledge-check-19"><i class="fa fa-check"></i><b>11.3.1</b> Knowledge check</a></li>
</ul></li>
<li class="chapter" data-level="11.4" data-path="lesson-3b-data-transformation.html"><a href="lesson-3b-data-transformation.html#select"><i class="fa fa-check"></i><b>11.4</b> Selecting variables</a>
<ul>
<li class="chapter" data-level="11.4.1" data-path="lesson-3b-data-transformation.html"><a href="lesson-3b-data-transformation.html#knowledge-check-20"><i class="fa fa-check"></i><b>11.4.1</b> Knowledge check</a></li>
</ul></li>
<li class="chapter" data-level="11.5" data-path="lesson-3b-data-transformation.html"><a href="lesson-3b-data-transformation.html#summarize"><i class="fa fa-check"></i><b>11.5</b> Computing summary statistics</a>
<ul>
<li class="chapter" data-level="11.5.1" data-path="lesson-3b-data-transformation.html"><a href="lesson-3b-data-transformation.html#knowledge-check-21"><i class="fa fa-check"></i><b>11.5.1</b> Knowledge check</a></li>
</ul></li>
<li class="chapter" data-level="11.6" data-path="lesson-3b-data-transformation.html"><a href="lesson-3b-data-transformation.html#sort"><i class="fa fa-check"></i><b>11.6</b> Sorting observations</a>
<ul>
<li class="chapter" data-level="11.6.1" data-path="lesson-3b-data-transformation.html"><a href="lesson-3b-data-transformation.html#knowledge-check-22"><i class="fa fa-check"></i><b>11.6.1</b> Knowledge check</a></li>
</ul></li>
<li class="chapter" data-level="11.7" data-path="lesson-3b-data-transformation.html"><a href="lesson-3b-data-transformation.html#mutate"><i class="fa fa-check"></i><b>11.7</b> Creating new variables</a>
<ul>
<li class="chapter" data-level="11.7.1" data-path="lesson-3b-data-transformation.html"><a href="lesson-3b-data-transformation.html#knowledge-check-23"><i class="fa fa-check"></i><b>11.7.1</b> Knowledge check</a></li>
</ul></li>
<li class="chapter" data-level="11.8" data-path="lesson-3b-data-transformation.html"><a href="lesson-3b-data-transformation.html#putting-it-altogether"><i class="fa fa-check"></i><b>11.8</b> Putting it altogether</a></li>
<li class="chapter" data-level="11.9" data-path="lesson-3b-data-transformation.html"><a href="lesson-3b-data-transformation.html#exercises-7"><i class="fa fa-check"></i><b>11.9</b> Exercises</a></li>
<li class="chapter" data-level="11.10" data-path="lesson-3b-data-transformation.html"><a href="lesson-3b-data-transformation.html#additional-resources-3"><i class="fa fa-check"></i><b>11.10</b> Additional resources</a></li>
</ul></li>
<li class="chapter" data-level="12" data-path="lesson-3c-tidy-data.html"><a href="lesson-3c-tidy-data.html"><i class="fa fa-check"></i><b>12</b> Lesson 3c: Tidy data</a>
<ul>
<li class="chapter" data-level="12.1" data-path="lesson-3c-tidy-data.html"><a href="lesson-3c-tidy-data.html#learning-objectives-12"><i class="fa fa-check"></i><b>12.1</b> Learning objectives</a></li>
<li class="chapter" data-level="12.2" data-path="lesson-3c-tidy-data.html"><a href="lesson-3c-tidy-data.html#prerequisites-1"><i class="fa fa-check"></i><b>12.2</b> Prerequisites</a></li>
<li class="chapter" data-level="12.3" data-path="lesson-3c-tidy-data.html"><a href="lesson-3c-tidy-data.html#making-wide-data-longer"><i class="fa fa-check"></i><b>12.3</b> Making wide data longer</a>
<ul>
<li class="chapter" data-level="12.3.1" data-path="lesson-3c-tidy-data.html"><a href="lesson-3c-tidy-data.html#knowledge-check-24"><i class="fa fa-check"></i><b>12.3.1</b> Knowledge check</a></li>
</ul></li>
<li class="chapter" data-level="12.4" data-path="lesson-3c-tidy-data.html"><a href="lesson-3c-tidy-data.html#making-long-data-wider"><i class="fa fa-check"></i><b>12.4</b> Making long data wider</a>
<ul>
<li class="chapter" data-level="12.4.1" data-path="lesson-3c-tidy-data.html"><a href="lesson-3c-tidy-data.html#knowledge-check-25"><i class="fa fa-check"></i><b>12.4.1</b> Knowledge check</a></li>
</ul></li>
<li class="chapter" data-level="12.5" data-path="lesson-3c-tidy-data.html"><a href="lesson-3c-tidy-data.html#separate-one-variable-into-multiple"><i class="fa fa-check"></i><b>12.5</b> Separate one variable into multiple</a>
<ul>
<li class="chapter" data-level="12.5.1" data-path="lesson-3c-tidy-data.html"><a href="lesson-3c-tidy-data.html#knowledge-check-26"><i class="fa fa-check"></i><b>12.5.1</b> Knowledge check</a></li>
</ul></li>
<li class="chapter" data-level="12.6" data-path="lesson-3c-tidy-data.html"><a href="lesson-3c-tidy-data.html#combine-multiple-variables-into-one"><i class="fa fa-check"></i><b>12.6</b> Combine multiple variables into one</a>
<ul>
<li class="chapter" data-level="12.6.1" data-path="lesson-3c-tidy-data.html"><a href="lesson-3c-tidy-data.html#knowledge-check-27"><i class="fa fa-check"></i><b>12.6.1</b> Knowledge check</a></li>
</ul></li>
<li class="chapter" data-level="12.7" data-path="lesson-3c-tidy-data.html"><a href="lesson-3c-tidy-data.html#additional-tidying-functions"><i class="fa fa-check"></i><b>12.7</b> Additional tidying functions</a></li>
<li class="chapter" data-level="12.8" data-path="lesson-3c-tidy-data.html"><a href="lesson-3c-tidy-data.html#putting-it-altogether-1"><i class="fa fa-check"></i><b>12.8</b> Putting it altogether</a></li>
<li class="chapter" data-level="12.9" data-path="lesson-3c-tidy-data.html"><a href="lesson-3c-tidy-data.html#exercises-8"><i class="fa fa-check"></i><b>12.9</b> Exercises</a></li>
<li class="chapter" data-level="12.10" data-path="lesson-3c-tidy-data.html"><a href="lesson-3c-tidy-data.html#additional-resources-4"><i class="fa fa-check"></i><b>12.10</b> Additional resources</a></li>
</ul></li>
<li class="part"><span><b>IV Module 4</b></span></li>
<li class="chapter" data-level="13" data-path="overview-3.html"><a href="overview-3.html"><i class="fa fa-check"></i><b>13</b> Overview</a>
<ul>
<li class="chapter" data-level="13.1" data-path="overview-3.html"><a href="overview-3.html#learning-objectives-13"><i class="fa fa-check"></i><b>13.1</b> Learning objectives</a></li>
<li class="chapter" data-level="13.2" data-path="overview-3.html"><a href="overview-3.html#estimated-time-requirement-3"><i class="fa fa-check"></i><b>13.2</b> Estimated time requirement</a></li>
<li class="chapter" data-level="13.3" data-path="overview-3.html"><a href="overview-3.html#tasks-3"><i class="fa fa-check"></i><b>13.3</b> Tasks</a></li>
</ul></li>
<li class="chapter" data-level="14" data-path="lesson-4a-relational-data.html"><a href="lesson-4a-relational-data.html"><i class="fa fa-check"></i><b>14</b> Lesson 4a: Relational data</a>
<ul>
<li class="chapter" data-level="14.1" data-path="lesson-4a-relational-data.html"><a href="lesson-4a-relational-data.html#learning-objectives-14"><i class="fa fa-check"></i><b>14.1</b> Learning objectives</a></li>
<li class="chapter" data-level="14.2" data-path="lesson-4a-relational-data.html"><a href="lesson-4a-relational-data.html#prerequisites-2"><i class="fa fa-check"></i><b>14.2</b> Prerequisites</a></li>
<li class="chapter" data-level="14.3" data-path="lesson-4a-relational-data.html"><a href="lesson-4a-relational-data.html#keys"><i class="fa fa-check"></i><b>14.3</b> Keys</a>
<ul>
<li class="chapter" data-level="14.3.1" data-path="lesson-4a-relational-data.html"><a href="lesson-4a-relational-data.html#knowledge-check-28"><i class="fa fa-check"></i><b>14.3.1</b> Knowledge check</a></li>
</ul></li>
<li class="chapter" data-level="14.4" data-path="lesson-4a-relational-data.html"><a href="lesson-4a-relational-data.html#mutating-joins"><i class="fa fa-check"></i><b>14.4</b> Mutating joins</a>
<ul>
<li class="chapter" data-level="14.4.1" data-path="lesson-4a-relational-data.html"><a href="lesson-4a-relational-data.html#inner-join"><i class="fa fa-check"></i><b>14.4.1</b> Inner join</a></li>
<li class="chapter" data-level="14.4.2" data-path="lesson-4a-relational-data.html"><a href="lesson-4a-relational-data.html#outer-joins"><i class="fa fa-check"></i><b>14.4.2</b> Outer joins</a></li>
<li class="chapter" data-level="14.4.3" data-path="lesson-4a-relational-data.html"><a href="lesson-4a-relational-data.html#differing-keys"><i class="fa fa-check"></i><b>14.4.3</b> Differing keys</a></li>
<li class="chapter" data-level="14.4.4" data-path="lesson-4a-relational-data.html"><a href="lesson-4a-relational-data.html#bigger-example"><i class="fa fa-check"></i><b>14.4.4</b> Bigger example</a></li>
<li class="chapter" data-level="14.4.5" data-path="lesson-4a-relational-data.html"><a href="lesson-4a-relational-data.html#knowledge-check-29"><i class="fa fa-check"></i><b>14.4.5</b> Knowledge check</a></li>
</ul></li>
<li class="chapter" data-level="14.5" data-path="lesson-4a-relational-data.html"><a href="lesson-4a-relational-data.html#filtering-joins"><i class="fa fa-check"></i><b>14.5</b> Filtering joins</a>
<ul>
<li class="chapter" data-level="14.5.1" data-path="lesson-4a-relational-data.html"><a href="lesson-4a-relational-data.html#semi-join"><i class="fa fa-check"></i><b>14.5.1</b> Semi join</a></li>
<li class="chapter" data-level="14.5.2" data-path="lesson-4a-relational-data.html"><a href="lesson-4a-relational-data.html#anti-join"><i class="fa fa-check"></i><b>14.5.2</b> Anti join</a></li>
<li class="chapter" data-level="14.5.3" data-path="lesson-4a-relational-data.html"><a href="lesson-4a-relational-data.html#bigger-example-1"><i class="fa fa-check"></i><b>14.5.3</b> Bigger example</a></li>
<li class="chapter" data-level="14.5.4" data-path="lesson-4a-relational-data.html"><a href="lesson-4a-relational-data.html#knowledge-check-30"><i class="fa fa-check"></i><b>14.5.4</b> Knowledge check</a></li>
</ul></li>
<li class="chapter" data-level="14.6" data-path="lesson-4a-relational-data.html"><a href="lesson-4a-relational-data.html#exercises-9"><i class="fa fa-check"></i><b>14.6</b> Exercises</a></li>
<li class="chapter" data-level="14.7" data-path="lesson-4a-relational-data.html"><a href="lesson-4a-relational-data.html#additional-resources-5"><i class="fa fa-check"></i><b>14.7</b> Additional resources</a></li>
</ul></li>
<li class="chapter" data-level="15" data-path="lesson-4b-handling-text-data.html"><a href="lesson-4b-handling-text-data.html"><i class="fa fa-check"></i><b>15</b> Lesson 4b: Handling text data</a>
<ul>
<li class="chapter" data-level="15.1" data-path="lesson-4b-handling-text-data.html"><a href="lesson-4b-handling-text-data.html#learning-objectives-15"><i class="fa fa-check"></i><b>15.1</b> Learning objectives</a></li>
<li class="chapter" data-level="15.2" data-path="lesson-4b-handling-text-data.html"><a href="lesson-4b-handling-text-data.html#prerequisites-3"><i class="fa fa-check"></i><b>15.2</b> Prerequisites</a></li>
<li class="chapter" data-level="15.3" data-path="lesson-4b-handling-text-data.html"><a href="lesson-4b-handling-text-data.html#string-basics"><i class="fa fa-check"></i><b>15.3</b> String basics</a>
<ul>
<li class="chapter" data-level="15.3.1" data-path="lesson-4b-handling-text-data.html"><a href="lesson-4b-handling-text-data.html#case-conversion"><i class="fa fa-check"></i><b>15.3.1</b> Case conversion</a></li>
<li class="chapter" data-level="15.3.2" data-path="lesson-4b-handling-text-data.html"><a href="lesson-4b-handling-text-data.html#counting-characters"><i class="fa fa-check"></i><b>15.3.2</b> Counting characters</a></li>
<li class="chapter" data-level="15.3.3" data-path="lesson-4b-handling-text-data.html"><a href="lesson-4b-handling-text-data.html#extracting-parts-of-character-strings"><i class="fa fa-check"></i><b>15.3.3</b> Extracting parts of character strings</a></li>
<li class="chapter" data-level="15.3.4" data-path="lesson-4b-handling-text-data.html"><a href="lesson-4b-handling-text-data.html#knowledge-check-31"><i class="fa fa-check"></i><b>15.3.4</b> Knowledge check</a></li>
</ul></li>
<li class="chapter" data-level="15.4" data-path="lesson-4b-handling-text-data.html"><a href="lesson-4b-handling-text-data.html#regular-expressions"><i class="fa fa-check"></i><b>15.4</b> Regular expressions</a>
<ul>
<li class="chapter" data-level="15.4.1" data-path="lesson-4b-handling-text-data.html"><a href="lesson-4b-handling-text-data.html#regex-basics"><i class="fa fa-check"></i><b>15.4.1</b> Regex basics</a></li>
<li class="chapter" data-level="15.4.2" data-path="lesson-4b-handling-text-data.html"><a href="lesson-4b-handling-text-data.html#multiple-words"><i class="fa fa-check"></i><b>15.4.2</b> Multiple Words</a></li>
<li class="chapter" data-level="15.4.3" data-path="lesson-4b-handling-text-data.html"><a href="lesson-4b-handling-text-data.html#line-anchors"><i class="fa fa-check"></i><b>15.4.3</b> Line anchors</a></li>
<li class="chapter" data-level="15.4.4" data-path="lesson-4b-handling-text-data.html"><a href="lesson-4b-handling-text-data.html#metacharacters"><i class="fa fa-check"></i><b>15.4.4</b> Metacharacters</a></li>
<li class="chapter" data-level="15.4.5" data-path="lesson-4b-handling-text-data.html"><a href="lesson-4b-handling-text-data.html#character-classes"><i class="fa fa-check"></i><b>15.4.5</b> Character classes</a></li>
<li class="chapter" data-level="15.4.6" data-path="lesson-4b-handling-text-data.html"><a href="lesson-4b-handling-text-data.html#shorthand-character-classes"><i class="fa fa-check"></i><b>15.4.6</b> Shorthand character classes</a></li>
<li class="chapter" data-level="15.4.7" data-path="lesson-4b-handling-text-data.html"><a href="lesson-4b-handling-text-data.html#posix-character-classes"><i class="fa fa-check"></i><b>15.4.7</b> POSIX character classes</a></li>
<li class="chapter" data-level="15.4.8" data-path="lesson-4b-handling-text-data.html"><a href="lesson-4b-handling-text-data.html#repetition"><i class="fa fa-check"></i><b>15.4.8</b> Repetition</a></li>
<li class="chapter" data-level="15.4.9" data-path="lesson-4b-handling-text-data.html"><a href="lesson-4b-handling-text-data.html#putting-it-altogether-2"><i class="fa fa-check"></i><b>15.4.9</b> Putting it altogether</a></li>
<li class="chapter" data-level="15.4.10" data-path="lesson-4b-handling-text-data.html"><a href="lesson-4b-handling-text-data.html#knowledge-check-32"><i class="fa fa-check"></i><b>15.4.10</b> Knowledge check</a></li>
</ul></li>
<li class="chapter" data-level="15.5" data-path="lesson-4b-handling-text-data.html"><a href="lesson-4b-handling-text-data.html#exercises-10"><i class="fa fa-check"></i><b>15.5</b> Exercises</a></li>
<li class="chapter" data-level="15.6" data-path="lesson-4b-handling-text-data.html"><a href="lesson-4b-handling-text-data.html#additional-resources-6"><i class="fa fa-check"></i><b>15.6</b> Additional resources</a></li>
</ul></li>
<li class="chapter" data-level="16" data-path="lesson-4c-handling-dates-times.html"><a href="lesson-4c-handling-dates-times.html"><i class="fa fa-check"></i><b>16</b> Lesson 4c: Handling dates &amp; times</a>
<ul>
<li class="chapter" data-level="16.1" data-path="lesson-4c-handling-dates-times.html"><a href="lesson-4c-handling-dates-times.html#learning-objectives-16"><i class="fa fa-check"></i><b>16.1</b> Learning objectives</a></li>
<li class="chapter" data-level="16.2" data-path="lesson-4c-handling-dates-times.html"><a href="lesson-4c-handling-dates-times.html#prerequisites-4"><i class="fa fa-check"></i><b>16.2</b> Prerequisites</a></li>
<li class="chapter" data-level="16.3" data-path="lesson-4c-handling-dates-times.html"><a href="lesson-4c-handling-dates-times.html#getting-current-date-time"><i class="fa fa-check"></i><b>16.3</b> Getting current date &amp; time</a></li>
<li class="chapter" data-level="16.4" data-path="lesson-4c-handling-dates-times.html"><a href="lesson-4c-handling-dates-times.html#creating-dates"><i class="fa fa-check"></i><b>16.4</b> Creating dates</a>
<ul>
<li class="chapter" data-level="16.4.1" data-path="lesson-4c-handling-dates-times.html"><a href="lesson-4c-handling-dates-times.html#convert-strings-to-dates"><i class="fa fa-check"></i><b>16.4.1</b> Convert strings to dates</a></li>
<li class="chapter" data-level="16.4.2" data-path="lesson-4c-handling-dates-times.html"><a href="lesson-4c-handling-dates-times.html#create-dates-by-merging-data"><i class="fa fa-check"></i><b>16.4.2</b> Create dates by merging data</a></li>
<li class="chapter" data-level="16.4.3" data-path="lesson-4c-handling-dates-times.html"><a href="lesson-4c-handling-dates-times.html#knowledge-check-33"><i class="fa fa-check"></i><b>16.4.3</b> Knowledge check</a></li>
</ul></li>
<li class="chapter" data-level="16.5" data-path="lesson-4c-handling-dates-times.html"><a href="lesson-4c-handling-dates-times.html#extract-manipulate-parts-of-dates"><i class="fa fa-check"></i><b>16.5</b> Extract &amp; manipulate parts of dates</a>
<ul>
<li class="chapter" data-level="16.5.1" data-path="lesson-4c-handling-dates-times.html"><a href="lesson-4c-handling-dates-times.html#knowledge-check-34"><i class="fa fa-check"></i><b>16.5.1</b> Knowledge check</a></li>
</ul></li>
<li class="chapter" data-level="16.6" data-path="lesson-4c-handling-dates-times.html"><a href="lesson-4c-handling-dates-times.html#calculations-with-dates"><i class="fa fa-check"></i><b>16.6</b> Calculations with dates</a>
<ul>
<li class="chapter" data-level="16.6.1" data-path="lesson-4c-handling-dates-times.html"><a href="lesson-4c-handling-dates-times.html#durations"><i class="fa fa-check"></i><b>16.6.1</b> Durations</a></li>
<li class="chapter" data-level="16.6.2" data-path="lesson-4c-handling-dates-times.html"><a href="lesson-4c-handling-dates-times.html#periods"><i class="fa fa-check"></i><b>16.6.2</b> Periods</a></li>
<li class="chapter" data-level="16.6.3" data-path="lesson-4c-handling-dates-times.html"><a href="lesson-4c-handling-dates-times.html#knowledge-check-35"><i class="fa fa-check"></i><b>16.6.3</b> Knowledge check</a></li>
</ul></li>
<li class="chapter" data-level="16.7" data-path="lesson-4c-handling-dates-times.html"><a href="lesson-4c-handling-dates-times.html#exercises-11"><i class="fa fa-check"></i><b>16.7</b> Exercises</a></li>
<li class="chapter" data-level="16.8" data-path="lesson-4c-handling-dates-times.html"><a href="lesson-4c-handling-dates-times.html#additional-resources-7"><i class="fa fa-check"></i><b>16.8</b> Additional resources</a></li>
</ul></li>
<li class="part"><span><b>V Module 5</b></span></li>
<li class="chapter" data-level="17" data-path="overview-4.html"><a href="overview-4.html"><i class="fa fa-check"></i><b>17</b> Overview</a>
<ul>
<li class="chapter" data-level="17.1" data-path="overview-4.html"><a href="overview-4.html#learning-objectives-17"><i class="fa fa-check"></i><b>17.1</b> Learning objectives</a></li>
<li class="chapter" data-level="17.2" data-path="overview-4.html"><a href="overview-4.html#estimated-time-requirement-4"><i class="fa fa-check"></i><b>17.2</b> Estimated time requirement</a></li>
<li class="chapter" data-level="17.3" data-path="overview-4.html"><a href="overview-4.html#tasks-4"><i class="fa fa-check"></i><b>17.3</b> Tasks</a></li>
</ul></li>
<li class="chapter" data-level="18" data-path="lesson-5a-introduction-to-ggplot2.html"><a href="lesson-5a-introduction-to-ggplot2.html"><i class="fa fa-check"></i><b>18</b> Lesson 5a: Introduction to ggplot2</a>
<ul>
<li class="chapter" data-level="18.1" data-path="lesson-5a-introduction-to-ggplot2.html"><a href="lesson-5a-introduction-to-ggplot2.html#learning-objectives-18"><i class="fa fa-check"></i><b>18.1</b> Learning objectives</a></li>
<li class="chapter" data-level="18.2" data-path="lesson-5a-introduction-to-ggplot2.html"><a href="lesson-5a-introduction-to-ggplot2.html#prerequisites-5"><i class="fa fa-check"></i><b>18.2</b> Prerequisites</a></li>
<li class="chapter" data-level="18.3" data-path="lesson-5a-introduction-to-ggplot2.html"><a href="lesson-5a-introduction-to-ggplot2.html#grammar-of-graphics"><i class="fa fa-check"></i><b>18.3</b> Grammar of Graphics</a></li>
<li class="chapter" data-level="18.4" data-path="lesson-5a-introduction-to-ggplot2.html"><a href="lesson-5a-introduction-to-ggplot2.html#the-basics"><i class="fa fa-check"></i><b>18.4</b> The Basics</a>
<ul>
<li class="chapter" data-level="18.4.1" data-path="lesson-5a-introduction-to-ggplot2.html"><a href="lesson-5a-introduction-to-ggplot2.html#knowledge-check-36"><i class="fa fa-check"></i><b>18.4.1</b> Knowledge check</a></li>
</ul></li>
<li class="chapter" data-level="18.5" data-path="lesson-5a-introduction-to-ggplot2.html"><a href="lesson-5a-introduction-to-ggplot2.html#aesthetic-mappings"><i class="fa fa-check"></i><b>18.5</b> Aesthetic Mappings</a>
<ul>
<li class="chapter" data-level="18.5.1" data-path="lesson-5a-introduction-to-ggplot2.html"><a href="lesson-5a-introduction-to-ggplot2.html#knowledge-check-37"><i class="fa fa-check"></i><b>18.5.1</b> Knowledge check</a></li>
</ul></li>
<li class="chapter" data-level="18.6" data-path="lesson-5a-introduction-to-ggplot2.html"><a href="lesson-5a-introduction-to-ggplot2.html#specifying-geometric-shapes"><i class="fa fa-check"></i><b>18.6</b> Specifying Geometric Shapes</a>
<ul>
<li class="chapter" data-level="18.6.1" data-path="lesson-5a-introduction-to-ggplot2.html"><a href="lesson-5a-introduction-to-ggplot2.html#knowledge-check-38"><i class="fa fa-check"></i><b>18.6.1</b> Knowledge check</a></li>
</ul></li>
<li class="chapter" data-level="18.7" data-path="lesson-5a-introduction-to-ggplot2.html"><a href="lesson-5a-introduction-to-ggplot2.html#statistical-transformations"><i class="fa fa-check"></i><b>18.7</b> Statistical Transformations</a>
<ul>
<li class="chapter" data-level="18.7.1" data-path="lesson-5a-introduction-to-ggplot2.html"><a href="lesson-5a-introduction-to-ggplot2.html#knowledge-check-39"><i class="fa fa-check"></i><b>18.7.1</b> Knowledge check</a></li>
</ul></li>
<li class="chapter" data-level="18.8" data-path="lesson-5a-introduction-to-ggplot2.html"><a href="lesson-5a-introduction-to-ggplot2.html#position-adjustments"><i class="fa fa-check"></i><b>18.8</b> Position Adjustments</a>
<ul>
<li class="chapter" data-level="18.8.1" data-path="lesson-5a-introduction-to-ggplot2.html"><a href="lesson-5a-introduction-to-ggplot2.html#knowledge-check-40"><i class="fa fa-check"></i><b>18.8.1</b> Knowledge check</a></li>
</ul></li>
<li class="chapter" data-level="18.9" data-path="lesson-5a-introduction-to-ggplot2.html"><a href="lesson-5a-introduction-to-ggplot2.html#managing-scales"><i class="fa fa-check"></i><b>18.9</b> Managing Scales</a>
<ul>
<li class="chapter" data-level="18.9.1" data-path="lesson-5a-introduction-to-ggplot2.html"><a href="lesson-5a-introduction-to-ggplot2.html#knowledge-check-41"><i class="fa fa-check"></i><b>18.9.1</b> Knowledge check</a></li>
</ul></li>
<li class="chapter" data-level="18.10" data-path="lesson-5a-introduction-to-ggplot2.html"><a href="lesson-5a-introduction-to-ggplot2.html#coordinate-systems"><i class="fa fa-check"></i><b>18.10</b> Coordinate Systems</a>
<ul>
<li class="chapter" data-level="18.10.1" data-path="lesson-5a-introduction-to-ggplot2.html"><a href="lesson-5a-introduction-to-ggplot2.html#knowledge-check-42"><i class="fa fa-check"></i><b>18.10.1</b> Knowledge check</a></li>
</ul></li>
<li class="chapter" data-level="18.11" data-path="lesson-5a-introduction-to-ggplot2.html"><a href="lesson-5a-introduction-to-ggplot2.html#facets"><i class="fa fa-check"></i><b>18.11</b> Facets</a>
<ul>
<li class="chapter" data-level="18.11.1" data-path="lesson-5a-introduction-to-ggplot2.html"><a href="lesson-5a-introduction-to-ggplot2.html#knowledge-check-43"><i class="fa fa-check"></i><b>18.11.1</b> Knowledge check</a></li>
</ul></li>
<li class="chapter" data-level="18.12" data-path="lesson-5a-introduction-to-ggplot2.html"><a href="lesson-5a-introduction-to-ggplot2.html#labels-annotations"><i class="fa fa-check"></i><b>18.12</b> Labels &amp; Annotations</a>
<ul>
<li class="chapter" data-level="18.12.1" data-path="lesson-5a-introduction-to-ggplot2.html"><a href="lesson-5a-introduction-to-ggplot2.html#knowledge-check-44"><i class="fa fa-check"></i><b>18.12.1</b> Knowledge check</a></li>
</ul></li>
<li class="chapter" data-level="18.13" data-path="lesson-5a-introduction-to-ggplot2.html"><a href="lesson-5a-introduction-to-ggplot2.html#exercises-12"><i class="fa fa-check"></i><b>18.13</b> Exercises</a></li>
<li class="chapter" data-level="18.14" data-path="lesson-5a-introduction-to-ggplot2.html"><a href="lesson-5a-introduction-to-ggplot2.html#additional-resources-on-ggplot2"><i class="fa fa-check"></i><b>18.14</b> Additional Resources on <strong>ggplot2</strong></a></li>
</ul></li>
<li class="chapter" data-level="19" data-path="lesson-5b-handling-factors.html"><a href="lesson-5b-handling-factors.html"><i class="fa fa-check"></i><b>19</b> Lesson 5b: Handling factors</a>
<ul>
<li class="chapter" data-level="19.1" data-path="lesson-5b-handling-factors.html"><a href="lesson-5b-handling-factors.html#learning-objectives-19"><i class="fa fa-check"></i><b>19.1</b> Learning objectives</a></li>
<li class="chapter" data-level="19.2" data-path="lesson-5b-handling-factors.html"><a href="lesson-5b-handling-factors.html#prerequisites-6"><i class="fa fa-check"></i><b>19.2</b> Prerequisites</a></li>
<li class="chapter" data-level="19.3" data-path="lesson-5b-handling-factors.html"><a href="lesson-5b-handling-factors.html#creating-factors-inspecting-factors"><i class="fa fa-check"></i><b>19.3</b> Creating factors &amp; inspecting factors</a>
<ul>
<li class="chapter" data-level="19.3.1" data-path="lesson-5b-handling-factors.html"><a href="lesson-5b-handling-factors.html#some-basics"><i class="fa fa-check"></i><b>19.3.1</b> Some basics</a></li>
<li class="chapter" data-level="19.3.2" data-path="lesson-5b-handling-factors.html"><a href="lesson-5b-handling-factors.html#factors-in-data-frames"><i class="fa fa-check"></i><b>19.3.2</b> Factors in data frames</a></li>
<li class="chapter" data-level="19.3.3" data-path="lesson-5b-handling-factors.html"><a href="lesson-5b-handling-factors.html#ordinal-factors"><i class="fa fa-check"></i><b>19.3.3</b> Ordinal factors</a></li>
<li class="chapter" data-level="19.3.4" data-path="lesson-5b-handling-factors.html"><a href="lesson-5b-handling-factors.html#knowledge-check-45"><i class="fa fa-check"></i><b>19.3.4</b> Knowledge check</a></li>
</ul></li>
<li class="chapter" data-level="19.4" data-path="lesson-5b-handling-factors.html"><a href="lesson-5b-handling-factors.html#modifying-factor-order"><i class="fa fa-check"></i><b>19.4</b> Modifying factor order</a>
<ul>
<li class="chapter" data-level="19.4.1" data-path="lesson-5b-handling-factors.html"><a href="lesson-5b-handling-factors.html#knowledge-check-46"><i class="fa fa-check"></i><b>19.4.1</b> Knowledge check</a></li>
</ul></li>
<li class="chapter" data-level="19.5" data-path="lesson-5b-handling-factors.html"><a href="lesson-5b-handling-factors.html#modifying-factor-levels"><i class="fa fa-check"></i><b>19.5</b> Modifying factor levels</a>
<ul>
<li class="chapter" data-level="19.5.1" data-path="lesson-5b-handling-factors.html"><a href="lesson-5b-handling-factors.html#knowledge-check-47"><i class="fa fa-check"></i><b>19.5.1</b> Knowledge check</a></li>
</ul></li>
<li class="chapter" data-level="19.6" data-path="lesson-5b-handling-factors.html"><a href="lesson-5b-handling-factors.html#exercises-13"><i class="fa fa-check"></i><b>19.6</b> Exercises</a></li>
<li class="chapter" data-level="19.7" data-path="lesson-5b-handling-factors.html"><a href="lesson-5b-handling-factors.html#additional-resources-8"><i class="fa fa-check"></i><b>19.7</b> Additional Resources</a></li>
</ul></li>
<li class="chapter" data-level="20" data-path="lesson-5c-visual-data-exploration.html"><a href="lesson-5c-visual-data-exploration.html"><i class="fa fa-check"></i><b>20</b> Lesson 5c: Visual data exploration</a>
<ul>
<li class="chapter" data-level="20.1" data-path="lesson-5c-visual-data-exploration.html"><a href="lesson-5c-visual-data-exploration.html#learning-objectives-20"><i class="fa fa-check"></i><b>20.1</b> Learning objectives</a></li>
<li class="chapter" data-level="20.2" data-path="lesson-5c-visual-data-exploration.html"><a href="lesson-5c-visual-data-exploration.html#prerequisites-7"><i class="fa fa-check"></i><b>20.2</b> Prerequisites</a></li>
<li class="chapter" data-level="20.3" data-path="lesson-5c-visual-data-exploration.html"><a href="lesson-5c-visual-data-exploration.html#univariate-distributions"><i class="fa fa-check"></i><b>20.3</b> Univariate Distributions</a>
<ul>
<li class="chapter" data-level="20.3.1" data-path="lesson-5c-visual-data-exploration.html"><a href="lesson-5c-visual-data-exploration.html#histograms"><i class="fa fa-check"></i><b>20.3.1</b> Histograms</a></li>
<li class="chapter" data-level="20.3.2" data-path="lesson-5c-visual-data-exploration.html"><a href="lesson-5c-visual-data-exploration.html#quantile-quantile-plots"><i class="fa fa-check"></i><b>20.3.2</b> Quantile-quantile plots</a></li>
<li class="chapter" data-level="20.3.3" data-path="lesson-5c-visual-data-exploration.html"><a href="lesson-5c-visual-data-exploration.html#box-plots"><i class="fa fa-check"></i><b>20.3.3</b> Box plots</a></li>
<li class="chapter" data-level="20.3.4" data-path="lesson-5c-visual-data-exploration.html"><a href="lesson-5c-visual-data-exploration.html#categorical-variables"><i class="fa fa-check"></i><b>20.3.4</b> Categorical variables</a></li>
<li class="chapter" data-level="20.3.5" data-path="lesson-5c-visual-data-exploration.html"><a href="lesson-5c-visual-data-exploration.html#bar-charts"><i class="fa fa-check"></i><b>20.3.5</b> Bar charts</a></li>
<li class="chapter" data-level="20.3.6" data-path="lesson-5c-visual-data-exploration.html"><a href="lesson-5c-visual-data-exploration.html#dot-plots"><i class="fa fa-check"></i><b>20.3.6</b> Dot plots</a></li>
<li class="chapter" data-level="20.3.7" data-path="lesson-5c-visual-data-exploration.html"><a href="lesson-5c-visual-data-exploration.html#pie-charts"><i class="fa fa-check"></i><b>20.3.7</b> Pie charts</a></li>
<li class="chapter" data-level="20.3.8" data-path="lesson-5c-visual-data-exploration.html"><a href="lesson-5c-visual-data-exploration.html#knowledge-check-48"><i class="fa fa-check"></i><b>20.3.8</b> Knowledge check</a></li>
</ul></li>
<li class="chapter" data-level="20.4" data-path="lesson-5c-visual-data-exploration.html"><a href="lesson-5c-visual-data-exploration.html#bivariate-relationships"><i class="fa fa-check"></i><b>20.4</b> Bivariate relationships</a>
<ul>
<li class="chapter" data-level="20.4.1" data-path="lesson-5c-visual-data-exploration.html"><a href="lesson-5c-visual-data-exploration.html#scatter-plots"><i class="fa fa-check"></i><b>20.4.1</b> Scatter plots</a></li>
<li class="chapter" data-level="20.4.2" data-path="lesson-5c-visual-data-exploration.html"><a href="lesson-5c-visual-data-exploration.html#strip-plots"><i class="fa fa-check"></i><b>20.4.2</b> Strip plots</a></li>
<li class="chapter" data-level="20.4.3" data-path="lesson-5c-visual-data-exploration.html"><a href="lesson-5c-visual-data-exploration.html#overlays-faceting"><i class="fa fa-check"></i><b>20.4.3</b> Overlays &amp; faceting</a></li>
</ul></li>
<li class="chapter" data-level="20.5" data-path="lesson-5c-visual-data-exploration.html"><a href="lesson-5c-visual-data-exploration.html#multivariate-relationships"><i class="fa fa-check"></i><b>20.5</b> Multivariate relationships</a>
<ul>
<li class="chapter" data-level="20.5.1" data-path="lesson-5c-visual-data-exploration.html"><a href="lesson-5c-visual-data-exploration.html#layering-variables"><i class="fa fa-check"></i><b>20.5.1</b> Layering variables</a></li>
<li class="chapter" data-level="20.5.2" data-path="lesson-5c-visual-data-exploration.html"><a href="lesson-5c-visual-data-exploration.html#parallel-coordinate-plots"><i class="fa fa-check"></i><b>20.5.2</b> Parallel coordinate plots</a></li>
<li class="chapter" data-level="20.5.3" data-path="lesson-5c-visual-data-exploration.html"><a href="lesson-5c-visual-data-exploration.html#mosaic-plots"><i class="fa fa-check"></i><b>20.5.3</b> Mosaic plots</a></li>
<li class="chapter" data-level="20.5.4" data-path="lesson-5c-visual-data-exploration.html"><a href="lesson-5c-visual-data-exploration.html#tree-maps"><i class="fa fa-check"></i><b>20.5.4</b> Tree maps</a></li>
<li class="chapter" data-level="20.5.5" data-path="lesson-5c-visual-data-exploration.html"><a href="lesson-5c-visual-data-exploration.html#heat-maps"><i class="fa fa-check"></i><b>20.5.5</b> Heat maps</a></li>
<li class="chapter" data-level="20.5.6" data-path="lesson-5c-visual-data-exploration.html"><a href="lesson-5c-visual-data-exploration.html#generalized-pairs-plot"><i class="fa fa-check"></i><b>20.5.6</b> Generalized pairs plot</a></li>
<li class="chapter" data-level="20.5.7" data-path="lesson-5c-visual-data-exploration.html"><a href="lesson-5c-visual-data-exploration.html#knowledge-check-49"><i class="fa fa-check"></i><b>20.5.7</b> Knowledge check</a></li>
</ul></li>
<li class="chapter" data-level="20.6" data-path="lesson-5c-visual-data-exploration.html"><a href="lesson-5c-visual-data-exploration.html#data-quality"><i class="fa fa-check"></i><b>20.6</b> Data quality</a>
<ul>
<li class="chapter" data-level="20.6.1" data-path="lesson-5c-visual-data-exploration.html"><a href="lesson-5c-visual-data-exploration.html#knowledge-check-50"><i class="fa fa-check"></i><b>20.6.1</b> Knowledge check</a></li>
</ul></li>
<li class="chapter" data-level="20.7" data-path="lesson-5c-visual-data-exploration.html"><a href="lesson-5c-visual-data-exploration.html#exercise"><i class="fa fa-check"></i><b>20.7</b> Exercise</a></li>
</ul></li>
<li class="part"><span><b>VI Module 6</b></span></li>
<li class="chapter" data-level="21" data-path="overview-5.html"><a href="overview-5.html"><i class="fa fa-check"></i><b>21</b> Overview</a>
<ul>
<li class="chapter" data-level="21.1" data-path="overview-5.html"><a href="overview-5.html#learning-objectives-21"><i class="fa fa-check"></i><b>21.1</b> Learning objectives</a></li>
<li class="chapter" data-level="21.2" data-path="overview-5.html"><a href="overview-5.html#estimated-time-requirement-5"><i class="fa fa-check"></i><b>21.2</b> Estimated time requirement</a></li>
<li class="chapter" data-level="21.3" data-path="overview-5.html"><a href="overview-5.html#tasks-5"><i class="fa fa-check"></i><b>21.3</b> Tasks</a></li>
</ul></li>
<li class="chapter" data-level="22" data-path="lesson-6a-conditional-statements.html"><a href="lesson-6a-conditional-statements.html"><i class="fa fa-check"></i><b>22</b> Lesson 6a: Conditional statements</a>
<ul>
<li class="chapter" data-level="22.1" data-path="lesson-6a-conditional-statements.html"><a href="lesson-6a-conditional-statements.html#learning-objectives-22"><i class="fa fa-check"></i><b>22.1</b> Learning objectives</a></li>
<li class="chapter" data-level="22.2" data-path="lesson-6a-conditional-statements.html"><a href="lesson-6a-conditional-statements.html#prerequisites-8"><i class="fa fa-check"></i><b>22.2</b> Prerequisites</a></li>
<li class="chapter" data-level="22.3" data-path="lesson-6a-conditional-statements.html"><a href="lesson-6a-conditional-statements.html#if-statement"><i class="fa fa-check"></i><b>22.3</b> <code>if</code> statement</a>
<ul>
<li class="chapter" data-level="22.3.1" data-path="lesson-6a-conditional-statements.html"><a href="lesson-6a-conditional-statements.html#knowledge-check-51"><i class="fa fa-check"></i><b>22.3.1</b> Knowledge check</a></li>
</ul></li>
<li class="chapter" data-level="22.4" data-path="lesson-6a-conditional-statements.html"><a href="lesson-6a-conditional-statements.html#ifelse-statement"><i class="fa fa-check"></i><b>22.4</b> <code>ifelse</code> statement</a>
<ul>
<li class="chapter" data-level="22.4.1" data-path="lesson-6a-conditional-statements.html"><a href="lesson-6a-conditional-statements.html#knowledge-check-52"><i class="fa fa-check"></i><b>22.4.1</b> Knowledge check</a></li>
</ul></li>
<li class="chapter" data-level="22.5" data-path="lesson-6a-conditional-statements.html"><a href="lesson-6a-conditional-statements.html#multiple-conditions"><i class="fa fa-check"></i><b>22.5</b> Multiple conditions</a>
<ul>
<li class="chapter" data-level="22.5.1" data-path="lesson-6a-conditional-statements.html"><a href="lesson-6a-conditional-statements.html#knowledge-check-53"><i class="fa fa-check"></i><b>22.5.1</b> Knowledge check</a></li>
</ul></li>
<li class="chapter" data-level="22.6" data-path="lesson-6a-conditional-statements.html"><a href="lesson-6a-conditional-statements.html#vectorized-approaches"><i class="fa fa-check"></i><b>22.6</b> Vectorized approaches</a>
<ul>
<li class="chapter" data-level="22.6.1" data-path="lesson-6a-conditional-statements.html"><a href="lesson-6a-conditional-statements.html#knowledge-check-54"><i class="fa fa-check"></i><b>22.6.1</b> Knowledge check</a></li>
</ul></li>
<li class="chapter" data-level="22.7" data-path="lesson-6a-conditional-statements.html"><a href="lesson-6a-conditional-statements.html#with-data-frames"><i class="fa fa-check"></i><b>22.7</b> With data frames</a>
<ul>
<li class="chapter" data-level="22.7.1" data-path="lesson-6a-conditional-statements.html"><a href="lesson-6a-conditional-statements.html#knowledge-check-55"><i class="fa fa-check"></i><b>22.7.1</b> Knowledge check</a></li>
</ul></li>
<li class="chapter" data-level="22.8" data-path="lesson-6a-conditional-statements.html"><a href="lesson-6a-conditional-statements.html#exercises-14"><i class="fa fa-check"></i><b>22.8</b> Exercises</a></li>
</ul></li>
<li class="chapter" data-level="23" data-path="lesson-6b-iteration-statements.html"><a href="lesson-6b-iteration-statements.html"><i class="fa fa-check"></i><b>23</b> Lesson 6b: Iteration statements</a>
<ul>
<li class="chapter" data-level="23.1" data-path="lesson-6b-iteration-statements.html"><a href="lesson-6b-iteration-statements.html#learning-objectives-23"><i class="fa fa-check"></i><b>23.1</b> Learning objectives</a></li>
<li class="chapter" data-level="23.2" data-path="lesson-6b-iteration-statements.html"><a href="lesson-6b-iteration-statements.html#for-loops"><i class="fa fa-check"></i><b>23.2</b> <code>for</code> loops</a>
<ul>
<li class="chapter" data-level="23.2.1" data-path="lesson-6b-iteration-statements.html"><a href="lesson-6b-iteration-statements.html#knowledge-check-56"><i class="fa fa-check"></i><b>23.2.1</b> Knowledge check</a></li>
</ul></li>
<li class="chapter" data-level="23.3" data-path="lesson-6b-iteration-statements.html"><a href="lesson-6b-iteration-statements.html#controlling-sequences"><i class="fa fa-check"></i><b>23.3</b> Controlling sequences</a>
<ul>
<li class="chapter" data-level="23.3.1" data-path="lesson-6b-iteration-statements.html"><a href="lesson-6b-iteration-statements.html#knowledge-check-57"><i class="fa fa-check"></i><b>23.3.1</b> Knowledge check</a></li>
</ul></li>
<li class="chapter" data-level="23.4" data-path="lesson-6b-iteration-statements.html"><a href="lesson-6b-iteration-statements.html#repeating-code-for-undefined-number-of-iterations"><i class="fa fa-check"></i><b>23.4</b> Repeating code for undefined number of iterations</a>
<ul>
<li class="chapter" data-level="23.4.1" data-path="lesson-6b-iteration-statements.html"><a href="lesson-6b-iteration-statements.html#while-loop"><i class="fa fa-check"></i><b>23.4.1</b> <code>while</code> loop</a></li>
<li class="chapter" data-level="23.4.2" data-path="lesson-6b-iteration-statements.html"><a href="lesson-6b-iteration-statements.html#repeat-loop"><i class="fa fa-check"></i><b>23.4.2</b> <code>repeat</code> loop</a></li>
<li class="chapter" data-level="23.4.3" data-path="lesson-6b-iteration-statements.html"><a href="lesson-6b-iteration-statements.html#knowledge-check-58"><i class="fa fa-check"></i><b>23.4.3</b> Knowledge check</a></li>
</ul></li>
<li class="chapter" data-level="23.5" data-path="lesson-6b-iteration-statements.html"><a href="lesson-6b-iteration-statements.html#iteration-with-functional-programming"><i class="fa fa-check"></i><b>23.5</b> Iteration with functional programming</a>
<ul>
<li class="chapter" data-level="23.5.1" data-path="lesson-6b-iteration-statements.html"><a href="lesson-6b-iteration-statements.html#knowledge-check-59"><i class="fa fa-check"></i><b>23.5.1</b> Knowledge check</a></li>
</ul></li>
<li class="chapter" data-level="23.6" data-path="lesson-6b-iteration-statements.html"><a href="lesson-6b-iteration-statements.html#exercises-15"><i class="fa fa-check"></i><b>23.6</b> Exercises</a></li>
</ul></li>
<li class="chapter" data-level="24" data-path="lesson-6c-writing-functions.html"><a href="lesson-6c-writing-functions.html"><i class="fa fa-check"></i><b>24</b> Lesson 6c: Writing functions</a>
<ul>
<li class="chapter" data-level="24.1" data-path="lesson-6c-writing-functions.html"><a href="lesson-6c-writing-functions.html#learning-objectives-24"><i class="fa fa-check"></i><b>24.1</b> Learning objectives</a></li>
<li class="chapter" data-level="24.2" data-path="lesson-6c-writing-functions.html"><a href="lesson-6c-writing-functions.html#when-to-write-functions"><i class="fa fa-check"></i><b>24.2</b> When to write functions</a></li>
<li class="chapter" data-level="24.3" data-path="lesson-6c-writing-functions.html"><a href="lesson-6c-writing-functions.html#function-components"><i class="fa fa-check"></i><b>24.3</b> Function components</a>
<ul>
<li class="chapter" data-level="24.3.1" data-path="lesson-6c-writing-functions.html"><a href="lesson-6c-writing-functions.html#knowledge-check-60"><i class="fa fa-check"></i><b>24.3.1</b> Knowledge check</a></li>
</ul></li>
<li class="chapter" data-level="24.4" data-path="lesson-6c-writing-functions.html"><a href="lesson-6c-writing-functions.html#function-arguments"><i class="fa fa-check"></i><b>24.4</b> Function arguments</a>
<ul>
<li class="chapter" data-level="24.4.1" data-path="lesson-6c-writing-functions.html"><a href="lesson-6c-writing-functions.html#knowledge-check-61"><i class="fa fa-check"></i><b>24.4.1</b> Knowledge check</a></li>
</ul></li>
<li class="chapter" data-level="24.5" data-path="lesson-6c-writing-functions.html"><a href="lesson-6c-writing-functions.html#checking-arguments-and-other-conditions"><i class="fa fa-check"></i><b>24.5</b> Checking arguments and other conditions</a>
<ul>
<li class="chapter" data-level="24.5.1" data-path="lesson-6c-writing-functions.html"><a href="lesson-6c-writing-functions.html#knowledge-check-62"><i class="fa fa-check"></i><b>24.5.1</b> Knowledge check</a></li>
</ul></li>
<li class="chapter" data-level="24.6" data-path="lesson-6c-writing-functions.html"><a href="lesson-6c-writing-functions.html#lazy-evaluation"><i class="fa fa-check"></i><b>24.6</b> Lazy evaluation</a></li>
<li class="chapter" data-level="24.7" data-path="lesson-6c-writing-functions.html"><a href="lesson-6c-writing-functions.html#status-updates"><i class="fa fa-check"></i><b>24.7</b> Status updates</a>
<ul>
<li class="chapter" data-level="24.7.1" data-path="lesson-6c-writing-functions.html"><a href="lesson-6c-writing-functions.html#option-1-base-r"><i class="fa fa-check"></i><b>24.7.1</b> Option 1: Base R</a></li>
<li class="chapter" data-level="24.7.2" data-path="lesson-6c-writing-functions.html"><a href="lesson-6c-writing-functions.html#option-2-progress-package"><i class="fa fa-check"></i><b>24.7.2</b> Option 2: <code>progress</code> package</a></li>
</ul></li>
<li class="chapter" data-level="24.8" data-path="lesson-6c-writing-functions.html"><a href="lesson-6c-writing-functions.html#distributing-your-functions"><i class="fa fa-check"></i><b>24.8</b> Distributing your functions</a></li>
<li class="chapter" data-level="24.9" data-path="lesson-6c-writing-functions.html"><a href="lesson-6c-writing-functions.html#exercises-16"><i class="fa fa-check"></i><b>24.9</b> Exercises</a></li>
<li class="chapter" data-level="24.10" data-path="lesson-6c-writing-functions.html"><a href="lesson-6c-writing-functions.html#additional-resources-9"><i class="fa fa-check"></i><b>24.10</b> Additional resources</a></li>
</ul></li>
<li class="part"><span><b>VII Module 7</b></span></li>
<li class="chapter" data-level="25" data-path="overview-6.html"><a href="overview-6.html"><i class="fa fa-check"></i><b>25</b> Overview</a>
<ul>
<li class="chapter" data-level="25.1" data-path="overview-6.html"><a href="overview-6.html#learning-objectives-25"><i class="fa fa-check"></i><b>25.1</b> Learning objectives</a></li>
<li class="chapter" data-level="25.2" data-path="overview-6.html"><a href="overview-6.html#estimated-time-requirement-6"><i class="fa fa-check"></i><b>25.2</b> Estimated time requirement</a></li>
<li class="chapter" data-level="25.3" data-path="overview-6.html"><a href="overview-6.html#tasks-6"><i class="fa fa-check"></i><b>25.3</b> Tasks</a></li>
</ul></li>
<li class="chapter" data-level="26" data-path="lesson-7a-first-model-with-tidymodels.html"><a href="lesson-7a-first-model-with-tidymodels.html"><i class="fa fa-check"></i><b>26</b> Lesson 7a: First model with Tidymodels</a>
<ul>
<li class="chapter" data-level="26.1" data-path="lesson-7a-first-model-with-tidymodels.html"><a href="lesson-7a-first-model-with-tidymodels.html#learning-objectives-26"><i class="fa fa-check"></i><b>26.1</b> Learning objectives</a></li>
<li class="chapter" data-level="26.2" data-path="lesson-7a-first-model-with-tidymodels.html"><a href="lesson-7a-first-model-with-tidymodels.html#prerequisites-9"><i class="fa fa-check"></i><b>26.2</b> Prerequisites</a></li>
<li class="chapter" data-level="26.3" data-path="lesson-7a-first-model-with-tidymodels.html"><a href="lesson-7a-first-model-with-tidymodels.html#data-splitting"><i class="fa fa-check"></i><b>26.3</b> Data splitting</a>
<ul>
<li class="chapter" data-level="26.3.1" data-path="lesson-7a-first-model-with-tidymodels.html"><a href="lesson-7a-first-model-with-tidymodels.html#simple-random-sampling"><i class="fa fa-check"></i><b>26.3.1</b> Simple random sampling</a></li>
<li class="chapter" data-level="26.3.2" data-path="lesson-7a-first-model-with-tidymodels.html"><a href="lesson-7a-first-model-with-tidymodels.html#stratified-sampling"><i class="fa fa-check"></i><b>26.3.2</b> Stratified sampling</a></li>
<li class="chapter" data-level="26.3.3" data-path="lesson-7a-first-model-with-tidymodels.html"><a href="lesson-7a-first-model-with-tidymodels.html#knowledge-check-63"><i class="fa fa-check"></i><b>26.3.3</b> Knowledge check</a></li>
</ul></li>
<li class="chapter" data-level="26.4" data-path="lesson-7a-first-model-with-tidymodels.html"><a href="lesson-7a-first-model-with-tidymodels.html#building-models"><i class="fa fa-check"></i><b>26.4</b> Building models</a>
<ul>
<li class="chapter" data-level="26.4.1" data-path="lesson-7a-first-model-with-tidymodels.html"><a href="lesson-7a-first-model-with-tidymodels.html#knowledge-check-64"><i class="fa fa-check"></i><b>26.4.1</b> Knowledge check</a></li>
</ul></li>
<li class="chapter" data-level="26.5" data-path="lesson-7a-first-model-with-tidymodels.html"><a href="lesson-7a-first-model-with-tidymodels.html#making-predictions"><i class="fa fa-check"></i><b>26.5</b> Making predictions</a>
<ul>
<li class="chapter" data-level="26.5.1" data-path="lesson-7a-first-model-with-tidymodels.html"><a href="lesson-7a-first-model-with-tidymodels.html#knowledge-check-65"><i class="fa fa-check"></i><b>26.5.1</b> Knowledge check</a></li>
</ul></li>
<li class="chapter" data-level="26.6" data-path="lesson-7a-first-model-with-tidymodels.html"><a href="lesson-7a-first-model-with-tidymodels.html#evaluating-model-performance"><i class="fa fa-check"></i><b>26.6</b> Evaluating model performance</a>
<ul>
<li class="chapter" data-level="26.6.1" data-path="lesson-7a-first-model-with-tidymodels.html"><a href="lesson-7a-first-model-with-tidymodels.html#regression-models"><i class="fa fa-check"></i><b>26.6.1</b> Regression models</a></li>
<li class="chapter" data-level="26.6.2" data-path="lesson-7a-first-model-with-tidymodels.html"><a href="lesson-7a-first-model-with-tidymodels.html#classification-models"><i class="fa fa-check"></i><b>26.6.2</b> Classification models</a></li>
<li class="chapter" data-level="26.6.3" data-path="lesson-7a-first-model-with-tidymodels.html"><a href="lesson-7a-first-model-with-tidymodels.html#knowledge-check-66"><i class="fa fa-check"></i><b>26.6.3</b> Knowledge check</a></li>
</ul></li>
<li class="chapter" data-level="26.7" data-path="lesson-7a-first-model-with-tidymodels.html"><a href="lesson-7a-first-model-with-tidymodels.html#exercises-17"><i class="fa fa-check"></i><b>26.7</b> Exercises</a></li>
</ul></li>
<li class="chapter" data-level="27" data-path="lesson-7b-feature-engineering.html"><a href="lesson-7b-feature-engineering.html"><i class="fa fa-check"></i><b>27</b> Lesson 7b: Feature engineering</a>
<ul>
<li class="chapter" data-level="27.1" data-path="lesson-7b-feature-engineering.html"><a href="lesson-7b-feature-engineering.html#learning-objectives-27"><i class="fa fa-check"></i><b>27.1</b> Learning objectives</a></li>
<li class="chapter" data-level="27.2" data-path="lesson-7b-feature-engineering.html"><a href="lesson-7b-feature-engineering.html#prerequisites-10"><i class="fa fa-check"></i><b>27.2</b> Prerequisites</a></li>
<li class="chapter" data-level="27.3" data-path="lesson-7b-feature-engineering.html"><a href="lesson-7b-feature-engineering.html#create-a-recipe"><i class="fa fa-check"></i><b>27.3</b> Create a recipe</a></li>
<li class="chapter" data-level="27.4" data-path="lesson-7b-feature-engineering.html"><a href="lesson-7b-feature-engineering.html#feature-filtering"><i class="fa fa-check"></i><b>27.4</b> Feature filtering</a></li>
<li class="chapter" data-level="27.5" data-path="lesson-7b-feature-engineering.html"><a href="lesson-7b-feature-engineering.html#numeric-features"><i class="fa fa-check"></i><b>27.5</b> Numeric features</a>
<ul>
<li class="chapter" data-level="27.5.1" data-path="lesson-7b-feature-engineering.html"><a href="lesson-7b-feature-engineering.html#skewness"><i class="fa fa-check"></i><b>27.5.1</b> Skewness</a></li>
<li class="chapter" data-level="27.5.2" data-path="lesson-7b-feature-engineering.html"><a href="lesson-7b-feature-engineering.html#standardization"><i class="fa fa-check"></i><b>27.5.2</b> Standardization</a></li>
</ul></li>
<li class="chapter" data-level="27.6" data-path="lesson-7b-feature-engineering.html"><a href="lesson-7b-feature-engineering.html#categorical-features"><i class="fa fa-check"></i><b>27.6</b> Categorical features</a>
<ul>
<li class="chapter" data-level="27.6.1" data-path="lesson-7b-feature-engineering.html"><a href="lesson-7b-feature-engineering.html#one-hot-dummy-encoding"><i class="fa fa-check"></i><b>27.6.1</b> One-hot &amp; dummy encoding</a></li>
<li class="chapter" data-level="27.6.2" data-path="lesson-7b-feature-engineering.html"><a href="lesson-7b-feature-engineering.html#ordinal-encoding"><i class="fa fa-check"></i><b>27.6.2</b> Ordinal encoding</a></li>
<li class="chapter" data-level="27.6.3" data-path="lesson-7b-feature-engineering.html"><a href="lesson-7b-feature-engineering.html#lumping"><i class="fa fa-check"></i><b>27.6.3</b> Lumping</a></li>
</ul></li>
<li class="chapter" data-level="27.7" data-path="lesson-7b-feature-engineering.html"><a href="lesson-7b-feature-engineering.html#fit-a-model-with-a-recipe"><i class="fa fa-check"></i><b>27.7</b> Fit a model with a recipe</a></li>
<li class="chapter" data-level="27.8" data-path="lesson-7b-feature-engineering.html"><a href="lesson-7b-feature-engineering.html#exercises-18"><i class="fa fa-check"></i><b>27.8</b> Exercises</a></li>
</ul></li>
<li class="chapter" data-level="28" data-path="lesson-7c-model-evaluation-selection.html"><a href="lesson-7c-model-evaluation-selection.html"><i class="fa fa-check"></i><b>28</b> Lesson 7c: Model evaluation &amp; selection</a>
<ul>
<li class="chapter" data-level="28.1" data-path="lesson-7c-model-evaluation-selection.html"><a href="lesson-7c-model-evaluation-selection.html#learning-objectives-28"><i class="fa fa-check"></i><b>28.1</b> Learning objectives</a></li>
<li class="chapter" data-level="28.2" data-path="lesson-7c-model-evaluation-selection.html"><a href="lesson-7c-model-evaluation-selection.html#prerequisites-11"><i class="fa fa-check"></i><b>28.2</b> Prerequisites</a></li>
<li class="chapter" data-level="28.3" data-path="lesson-7c-model-evaluation-selection.html"><a href="lesson-7c-model-evaluation-selection.html#resampling-cross-validation"><i class="fa fa-check"></i><b>28.3</b> Resampling &amp; cross-validation</a></li>
<li class="chapter" data-level="28.4" data-path="lesson-7c-model-evaluation-selection.html"><a href="lesson-7c-model-evaluation-selection.html#k-fold-cross-validation"><i class="fa fa-check"></i><b>28.4</b> K-fold cross-validation</a></li>
<li class="chapter" data-level="28.5" data-path="lesson-7c-model-evaluation-selection.html"><a href="lesson-7c-model-evaluation-selection.html#hyperparameter-tuning"><i class="fa fa-check"></i><b>28.5</b> Hyperparameter tuning</a>
<ul>
<li class="chapter" data-level="28.5.1" data-path="lesson-7c-model-evaluation-selection.html"><a href="lesson-7c-model-evaluation-selection.html#bias"><i class="fa fa-check"></i><b>28.5.1</b> Bias</a></li>
<li class="chapter" data-level="28.5.2" data-path="lesson-7c-model-evaluation-selection.html"><a href="lesson-7c-model-evaluation-selection.html#variance"><i class="fa fa-check"></i><b>28.5.2</b> Variance</a></li>
<li class="chapter" data-level="28.5.3" data-path="lesson-7c-model-evaluation-selection.html"><a href="lesson-7c-model-evaluation-selection.html#hyperparameters"><i class="fa fa-check"></i><b>28.5.3</b> Hyperparameters</a></li>
<li class="chapter" data-level="28.5.4" data-path="lesson-7c-model-evaluation-selection.html"><a href="lesson-7c-model-evaluation-selection.html#full-cartesian-grid-search"><i class="fa fa-check"></i><b>28.5.4</b> Full cartesian grid search</a></li>
</ul></li>
<li class="chapter" data-level="28.6" data-path="lesson-7c-model-evaluation-selection.html"><a href="lesson-7c-model-evaluation-selection.html#finalizing-our-model"><i class="fa fa-check"></i><b>28.6</b> Finalizing our model</a></li>
<li class="chapter" data-level="28.7" data-path="lesson-7c-model-evaluation-selection.html"><a href="lesson-7c-model-evaluation-selection.html#exercises-19"><i class="fa fa-check"></i><b>28.7</b> Exercises</a></li>
<li class="chapter" data-level="28.8" data-path="lesson-7c-model-evaluation-selection.html"><a href="lesson-7c-model-evaluation-selection.html#additional-resources-10"><i class="fa fa-check"></i><b>28.8</b> Additional resources</a></li>
</ul></li>
<li class="part"><span><b>VIII Additional Content</b></span></li>
<li class="chapter" data-level="" data-path="computing-environment-1.html"><a href="computing-environment-1.html"><i class="fa fa-check"></i>Computing Environment</a></li>
<li class="chapter" data-level="" data-path="references.html"><a href="references.html"><i class="fa fa-check"></i>References</a></li>
<li class="divider"></li>
<li><a href="https://www.uc.edu/" target="blank">University of Cincinnati</a></li>

</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">Data Wrangling with R</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="lesson-5c-visual-data-exploration" class="section level1 hasAnchor" number="20">
<h1><span class="header-section-number">20</span> Lesson 5c: Visual data exploration<a href="lesson-5c-visual-data-exploration.html#lesson-5c-visual-data-exploration" class="anchor-section" aria-label="Anchor link to header"></a></h1>
<p>Data visualization is a critical tool in the data analysis process. Visualization tasks can range from generating fundamental distribution plots to understanding the interplay of complex influential variables in machine learning algorithms. In lesson 5a we learned how to make plots with ggplot2. In this lesson we build upon this skill and focus on the use of visualization for initial data exploration.</p>
<p>Visual data exploration is a mandatory initial step whether or not more formal analysis follows. When combined with descriptive statistics, visualization provides an effective way to identify summaries, structure, relationships, differences, and abnormalities in the data. Often times no elaborate analysis is necessary as all the important conclusions required for a decision are evident from simple visual examination of the data. Other times, data exploration will be used to help guide the data cleaning, feature selection, and sampling process.</p>
<p>Regardless, visual data exploration is about investigating the characteristics of your data set. To do this, we typically create numerous plots in an interactive fashion. This lesson will show you how to create plots that answer some of the fundamental questions we typically have of our data.</p>
<div id="learning-objectives-20" class="section level2 hasAnchor" number="20.1">
<h2><span class="header-section-number">20.1</span> Learning objectives<a href="lesson-5c-visual-data-exploration.html#learning-objectives-20" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>By the end of this lesson you will be able to create and modify plots to understand:</p>
<ul>
<li>Single variable distributions.</li>
<li>Relationships between two or more variables.</li>
<li>How missing data behaves throughout a data set.</li>
</ul>
</div>
<div id="prerequisites-7" class="section level2 hasAnchor" number="20.2">
<h2><span class="header-section-number">20.2</span> Prerequisites<a href="lesson-5c-visual-data-exploration.html#prerequisites-7" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>Weâll illustrate the key ideas by primarily focusing on refined Ames housing data provided by the <strong>AmesHousing</strong> package. Weâll use <strong>tidyverse</strong> to provide some basic data manipulation capabilities along with <strong>ggplot2</strong> for plotting.</p>
<div class="sourceCode" id="cb327"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb327-1"><a href="lesson-5c-visual-data-exploration.html#cb327-1" aria-hidden="true" tabindex="-1"></a><span class="co"># main package required</span></span>
<span id="cb327-2"><a href="lesson-5c-visual-data-exploration.html#cb327-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(tidyverse)</span>
<span id="cb327-3"><a href="lesson-5c-visual-data-exploration.html#cb327-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb327-4"><a href="lesson-5c-visual-data-exploration.html#cb327-4" aria-hidden="true" tabindex="-1"></a><span class="co"># data used</span></span>
<span id="cb327-5"><a href="lesson-5c-visual-data-exploration.html#cb327-5" aria-hidden="true" tabindex="-1"></a>ames <span class="ot">&lt;-</span> AmesHousing<span class="sc">::</span><span class="fu">make_ames</span>()</span>
<span id="cb327-6"><a href="lesson-5c-visual-data-exploration.html#cb327-6" aria-hidden="true" tabindex="-1"></a>ames</span>
<span id="cb327-7"><a href="lesson-5c-visual-data-exploration.html#cb327-7" aria-hidden="true" tabindex="-1"></a><span class="do">## # A tibble: 2,930 Ã 81</span></span>
<span id="cb327-8"><a href="lesson-5c-visual-data-exploration.html#cb327-8" aria-hidden="true" tabindex="-1"></a><span class="do">##    MS_SubClass      MS_Zoning Lot_Frontage Lot_Area Street Alley Lot_Shape Land_Contour Utilities</span></span>
<span id="cb327-9"><a href="lesson-5c-visual-data-exploration.html#cb327-9" aria-hidden="true" tabindex="-1"></a><span class="do">##    &lt;fct&gt;            &lt;fct&gt;            &lt;dbl&gt;    &lt;int&gt; &lt;fct&gt;  &lt;fct&gt; &lt;fct&gt;     &lt;fct&gt;        &lt;fct&gt;    </span></span>
<span id="cb327-10"><a href="lesson-5c-visual-data-exploration.html#cb327-10" aria-hidden="true" tabindex="-1"></a><span class="do">##  1 One_Story_1946_â¦ Residentâ¦          141    31770 Pave   No_Aâ¦ Slightlyâ¦ Lvl          AllPub   </span></span>
<span id="cb327-11"><a href="lesson-5c-visual-data-exploration.html#cb327-11" aria-hidden="true" tabindex="-1"></a><span class="do">##  2 One_Story_1946_â¦ Residentâ¦           80    11622 Pave   No_Aâ¦ Regular   Lvl          AllPub   </span></span>
<span id="cb327-12"><a href="lesson-5c-visual-data-exploration.html#cb327-12" aria-hidden="true" tabindex="-1"></a><span class="do">##  3 One_Story_1946_â¦ Residentâ¦           81    14267 Pave   No_Aâ¦ Slightlyâ¦ Lvl          AllPub   </span></span>
<span id="cb327-13"><a href="lesson-5c-visual-data-exploration.html#cb327-13" aria-hidden="true" tabindex="-1"></a><span class="do">##  4 One_Story_1946_â¦ Residentâ¦           93    11160 Pave   No_Aâ¦ Regular   Lvl          AllPub   </span></span>
<span id="cb327-14"><a href="lesson-5c-visual-data-exploration.html#cb327-14" aria-hidden="true" tabindex="-1"></a><span class="do">##  5 Two_Story_1946_â¦ Residentâ¦           74    13830 Pave   No_Aâ¦ Slightlyâ¦ Lvl          AllPub   </span></span>
<span id="cb327-15"><a href="lesson-5c-visual-data-exploration.html#cb327-15" aria-hidden="true" tabindex="-1"></a><span class="do">##  6 Two_Story_1946_â¦ Residentâ¦           78     9978 Pave   No_Aâ¦ Slightlyâ¦ Lvl          AllPub   </span></span>
<span id="cb327-16"><a href="lesson-5c-visual-data-exploration.html#cb327-16" aria-hidden="true" tabindex="-1"></a><span class="do">##  7 One_Story_PUD_1â¦ Residentâ¦           41     4920 Pave   No_Aâ¦ Regular   Lvl          AllPub   </span></span>
<span id="cb327-17"><a href="lesson-5c-visual-data-exploration.html#cb327-17" aria-hidden="true" tabindex="-1"></a><span class="do">##  8 One_Story_PUD_1â¦ Residentâ¦           43     5005 Pave   No_Aâ¦ Slightlyâ¦ HLS          AllPub   </span></span>
<span id="cb327-18"><a href="lesson-5c-visual-data-exploration.html#cb327-18" aria-hidden="true" tabindex="-1"></a><span class="do">##  9 One_Story_PUD_1â¦ Residentâ¦           39     5389 Pave   No_Aâ¦ Slightlyâ¦ Lvl          AllPub   </span></span>
<span id="cb327-19"><a href="lesson-5c-visual-data-exploration.html#cb327-19" aria-hidden="true" tabindex="-1"></a><span class="do">## 10 Two_Story_1946_â¦ Residentâ¦           60     7500 Pave   No_Aâ¦ Regular   Lvl          AllPub   </span></span>
<span id="cb327-20"><a href="lesson-5c-visual-data-exploration.html#cb327-20" aria-hidden="true" tabindex="-1"></a><span class="do">## # â¦ with 2,920 more rows, and 72 more variables: Lot_Config &lt;fct&gt;, Land_Slope &lt;fct&gt;,</span></span>
<span id="cb327-21"><a href="lesson-5c-visual-data-exploration.html#cb327-21" aria-hidden="true" tabindex="-1"></a><span class="do">## #   Neighborhood &lt;fct&gt;, Condition_1 &lt;fct&gt;, Condition_2 &lt;fct&gt;, Bldg_Type &lt;fct&gt;,</span></span>
<span id="cb327-22"><a href="lesson-5c-visual-data-exploration.html#cb327-22" aria-hidden="true" tabindex="-1"></a><span class="do">## #   House_Style &lt;fct&gt;, Overall_Qual &lt;fct&gt;, Overall_Cond &lt;fct&gt;, Year_Built &lt;int&gt;,</span></span>
<span id="cb327-23"><a href="lesson-5c-visual-data-exploration.html#cb327-23" aria-hidden="true" tabindex="-1"></a><span class="do">## #   Year_Remod_Add &lt;int&gt;, Roof_Style &lt;fct&gt;, Roof_Matl &lt;fct&gt;, Exterior_1st &lt;fct&gt;,</span></span>
<span id="cb327-24"><a href="lesson-5c-visual-data-exploration.html#cb327-24" aria-hidden="true" tabindex="-1"></a><span class="do">## #   Exterior_2nd &lt;fct&gt;, Mas_Vnr_Type &lt;fct&gt;, Mas_Vnr_Area &lt;dbl&gt;, Exter_Qual &lt;fct&gt;,</span></span>
<span id="cb327-25"><a href="lesson-5c-visual-data-exploration.html#cb327-25" aria-hidden="true" tabindex="-1"></a><span class="do">## #   Exter_Cond &lt;fct&gt;, Foundation &lt;fct&gt;, Bsmt_Qual &lt;fct&gt;, Bsmt_Cond &lt;fct&gt;, Bsmt_Exposure &lt;fct&gt;,</span></span>
<span id="cb327-26"><a href="lesson-5c-visual-data-exploration.html#cb327-26" aria-hidden="true" tabindex="-1"></a><span class="do">## #   BsmtFin_Type_1 &lt;fct&gt;, BsmtFin_SF_1 &lt;dbl&gt;, BsmtFin_Type_2 &lt;fct&gt;, BsmtFin_SF_2 &lt;dbl&gt;, â¦</span></span></code></pre></div>
<p>We also demonstrate some useful functions from a few other packages throughout the lesson. To replicate all the code in this lesson youâll need to install the following additional packages:</p>
<div class="sourceCode" id="cb328"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb328-1"><a href="lesson-5c-visual-data-exploration.html#cb328-1" aria-hidden="true" tabindex="-1"></a>pkgs <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">&quot;AmesHousing&quot;</span>, <span class="st">&quot;ggridges&quot;</span>, <span class="st">&quot;GGally&quot;</span>, </span>
<span id="cb328-2"><a href="lesson-5c-visual-data-exploration.html#cb328-2" aria-hidden="true" tabindex="-1"></a>          <span class="st">&quot;glue&quot;</span>,<span class="st">&quot;gridExtra&quot;</span>, <span class="st">&quot;hexbin&quot;</span>, <span class="st">&quot;naniar&quot;</span>, </span>
<span id="cb328-3"><a href="lesson-5c-visual-data-exploration.html#cb328-3" aria-hidden="true" tabindex="-1"></a>          <span class="st">&quot;treemap&quot;</span>, <span class="st">&quot;viridis&quot;</span>)</span>
<span id="cb328-4"><a href="lesson-5c-visual-data-exploration.html#cb328-4" aria-hidden="true" tabindex="-1"></a><span class="fu">install.packages</span>(pkgs)</span></code></pre></div>
<p>This refined data set has:</p>
<div class="sourceCode" id="cb329"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb329-1"><a href="lesson-5c-visual-data-exploration.html#cb329-1" aria-hidden="true" tabindex="-1"></a>glue<span class="sc">::</span><span class="fu">glue</span>(</span>
<span id="cb329-2"><a href="lesson-5c-visual-data-exploration.html#cb329-2" aria-hidden="true" tabindex="-1"></a>   <span class="st">&#39;rows: {dim(ames)[1]}</span><span class="sc">\n</span><span class="st">&#39;</span>,</span>
<span id="cb329-3"><a href="lesson-5c-visual-data-exploration.html#cb329-3" aria-hidden="true" tabindex="-1"></a>   <span class="st">&#39;columns: {dim(ames)[2]}&#39;</span></span>
<span id="cb329-4"><a href="lesson-5c-visual-data-exploration.html#cb329-4" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb329-5"><a href="lesson-5c-visual-data-exploration.html#cb329-5" aria-hidden="true" tabindex="-1"></a><span class="do">## rows: 2930</span></span>
<span id="cb329-6"><a href="lesson-5c-visual-data-exploration.html#cb329-6" aria-hidden="true" tabindex="-1"></a><span class="do">## columns: 81</span></span></code></pre></div>
<div class="tip">
<p>
The <a href="https://glue.tidyverse.org/">glue package</a> is a great
tool for combining strings with R expressions!
</p>
</div>
</div>
<div id="univariate-distributions" class="section level2 hasAnchor" number="20.3">
<h2><span class="header-section-number">20.3</span> Univariate Distributions<a href="lesson-5c-visual-data-exploration.html#univariate-distributions" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>Before moving on to more sophisticated visualizations that enable multidimensional investigation, it is important to be able to understand how an individual variable is distributed. Visually understanding the distribution allows us to describe many features of a variable.</p>
<p>A variable is continuous if it can take any of an infinite set of ordered values. There are several different plots that can effectively communicate the different features of continuous variables. Features we are generally interested in include:</p>
<ul>
<li>Measures of location</li>
<li>Measures of spread</li>
<li>Asymmetry</li>
<li>Outliers</li>
<li>Gaps</li>
</ul>
<div id="histograms" class="section level3 hasAnchor" number="20.3.1">
<h3><span class="header-section-number">20.3.1</span> Histograms<a href="lesson-5c-visual-data-exploration.html#histograms" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Histograms are often overlooked, yet they are a very efficient means for communicating these features of continuous variables. Formulated by Karl Pearson, histograms display numeric values on the x-axis where the continuous variable is broken into intervals (aka bins) and the the y-axis represents the frequency of observations that fall into that bin. Histograms quickly signal what the most common observations are for the variable being assessed (the higher the bar the more frequent those values are observed in the data); they also signal the shape of your data by illustrating if the observed values cluster towards one end or the other of the distribution.</p>
<p>To get a quick sense of how our home sale prices are distributed across the 2,930 observations in the stores data we can generate a simple histogram by applying ggplotâs <code>geom_histogram()</code> function. This histogram tells us several important features about our variable:</p>
<div class="sourceCode" id="cb330"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb330-1"><a href="lesson-5c-visual-data-exploration.html#cb330-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(ames, <span class="fu">aes</span>(<span class="at">x =</span> Sale_Price)) <span class="sc">+</span></span>
<span id="cb330-2"><a href="lesson-5c-visual-data-exploration.html#cb330-2" aria-hidden="true" tabindex="-1"></a>   <span class="fu">geom_histogram</span>() <span class="sc">+</span></span>
<span id="cb330-3"><a href="lesson-5c-visual-data-exploration.html#cb330-3" aria-hidden="true" tabindex="-1"></a>   <span class="fu">scale_x_continuous</span>(<span class="at">labels =</span> scales<span class="sc">::</span>dollar)</span></code></pre></div>
<p><img src="_main_files/figure-html/lesson-5-1-1.png" width="576" style="display: block; margin: auto;" /></p>
<p>This plot conveys several important features about the distribution of <code>Sale_Price</code>:</p>
<ul>
<li><strong>Measures of location</strong>: the most common values of <code>Sale_Price</code> are around $160K (the median);</li>
<li><strong>Measures of spread</strong>: <code>Sale_Price</code> ranges from near zero to over $700K;</li>
<li><strong>Skewness</strong>: <code>Sale_Price</code> is skewed right (a common feature of financial data);</li>
<li><strong>Outliers</strong>: there appears to be some abnormally large values of <code>Sale_Price</code>.</li>
<li><strong>Gaps</strong>: We see a gap exists between sale price values around $625K and $750K.</li>
</ul>
<div class="note">
<p>
Some statistical modeling techniques (i.e.Â linear regression) are
sensitive to outliers and assume that the data are (at least
approximately) symmetric. Histograms, as well as some other
visualizations weâll cover, are invaluable tools for identifying there
and other potential problems with our data.
</p>
</div>
<p>By default, <code>geom_histogram()</code> will divide the values of a continuous variable into 30 equally sized bins. Since <code>Sale_Price</code> ranges from $12,789â$755,000, 30 equally sized bins implies a bin width of <span class="math inline">\(\frac{\left\lfloor{\$755,000 - \$12,789}\right\rfloor}{30} = \$24,740\)</span>. So in the above plot, the first bar represents the frequency of <code>Sale_Price</code> in the range of (roughly) <span class="math inline">\(\left[\$12,500, \ \$37,500\right]\)</span>, the second bar represents the frequency of <code>Sale_Price</code> in the range of (roughly) <span class="math inline">\(\left[\$37,500, \ \$62,300\right]\)</span>, and so on.</p>

<div class="tip">
The number of bins (or equivalently, the bin width) in a histogram is a <em>tuning parameter</em> that should be adjusted specifically for each application. Adjusting the bin width is somewhat subjective and needs to be done carefully (usually by eye). If the bin width is âtoo smallâ, the histogram will <em>overfit</em> the data and display too much noise. If the bin width is âtoo largeâ, the histogram will <em>underfit</em> the data and important features (like outliers) will be missed.
</div>
<p>In <code>geom_histogram()</code>, we can use the <code>binwidth</code> and <code>bins</code> arguments to control the bin width and number of bins, respectively (but only one argument needs to be specified). By adjusting one of these parameters, we can change the crudeness of the histogram estimate of the variableâs density. For instance, in the default histogram, the bin with the largest frequency ranged from $136,000â$161,000; however, as demonstrated below, we can often do better by manually adjusting the bin width.</p>
<div class="sourceCode" id="cb331"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb331-1"><a href="lesson-5c-visual-data-exploration.html#cb331-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Histograms with various bin widths</span></span>
<span id="cb331-2"><a href="lesson-5c-visual-data-exploration.html#cb331-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb331-3"><a href="lesson-5c-visual-data-exploration.html#cb331-3" aria-hidden="true" tabindex="-1"></a><span class="co"># Too crude (i.e., under fitting)</span></span>
<span id="cb331-4"><a href="lesson-5c-visual-data-exploration.html#cb331-4" aria-hidden="true" tabindex="-1"></a>p1 <span class="ot">&lt;-</span> <span class="fu">ggplot</span>(ames, <span class="fu">aes</span>(Sale_Price)) <span class="sc">+</span></span>
<span id="cb331-5"><a href="lesson-5c-visual-data-exploration.html#cb331-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_histogram</span>(<span class="at">binwidth =</span> <span class="dv">100000</span>) <span class="sc">+</span></span>
<span id="cb331-6"><a href="lesson-5c-visual-data-exploration.html#cb331-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggtitle</span>(<span class="st">&quot;Bin width = $100,000&quot;</span>)  </span>
<span id="cb331-7"><a href="lesson-5c-visual-data-exploration.html#cb331-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb331-8"><a href="lesson-5c-visual-data-exploration.html#cb331-8" aria-hidden="true" tabindex="-1"></a><span class="co"># Less crude</span></span>
<span id="cb331-9"><a href="lesson-5c-visual-data-exploration.html#cb331-9" aria-hidden="true" tabindex="-1"></a>p2 <span class="ot">&lt;-</span> <span class="fu">ggplot</span>(ames, <span class="fu">aes</span>(Sale_Price)) <span class="sc">+</span></span>
<span id="cb331-10"><a href="lesson-5c-visual-data-exploration.html#cb331-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_histogram</span>(<span class="at">binwidth =</span> <span class="dv">50000</span>) <span class="sc">+</span></span>
<span id="cb331-11"><a href="lesson-5c-visual-data-exploration.html#cb331-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggtitle</span>(<span class="st">&quot;Bin width = $50,000&quot;</span>)</span>
<span id="cb331-12"><a href="lesson-5c-visual-data-exploration.html#cb331-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb331-13"><a href="lesson-5c-visual-data-exploration.html#cb331-13" aria-hidden="true" tabindex="-1"></a><span class="co"># Just right?</span></span>
<span id="cb331-14"><a href="lesson-5c-visual-data-exploration.html#cb331-14" aria-hidden="true" tabindex="-1"></a>p3 <span class="ot">&lt;-</span> <span class="fu">ggplot</span>(ames, <span class="fu">aes</span>(Sale_Price)) <span class="sc">+</span></span>
<span id="cb331-15"><a href="lesson-5c-visual-data-exploration.html#cb331-15" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_histogram</span>(<span class="at">binwidth =</span> <span class="dv">5000</span>) <span class="sc">+</span></span>
<span id="cb331-16"><a href="lesson-5c-visual-data-exploration.html#cb331-16" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggtitle</span>(<span class="st">&quot;Bin width = $5,000&quot;</span>)</span>
<span id="cb331-17"><a href="lesson-5c-visual-data-exploration.html#cb331-17" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb331-18"><a href="lesson-5c-visual-data-exploration.html#cb331-18" aria-hidden="true" tabindex="-1"></a><span class="co"># Too flexible (i.e., over fitting)</span></span>
<span id="cb331-19"><a href="lesson-5c-visual-data-exploration.html#cb331-19" aria-hidden="true" tabindex="-1"></a>p4 <span class="ot">&lt;-</span> <span class="fu">ggplot</span>(ames, <span class="fu">aes</span>(Sale_Price)) <span class="sc">+</span></span>
<span id="cb331-20"><a href="lesson-5c-visual-data-exploration.html#cb331-20" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_histogram</span>(<span class="at">binwidth =</span> <span class="dv">1000</span>) <span class="sc">+</span></span>
<span id="cb331-21"><a href="lesson-5c-visual-data-exploration.html#cb331-21" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggtitle</span>(<span class="st">&quot;Bin width = $1,000&quot;</span>)  </span>
<span id="cb331-22"><a href="lesson-5c-visual-data-exploration.html#cb331-22" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb331-23"><a href="lesson-5c-visual-data-exploration.html#cb331-23" aria-hidden="true" tabindex="-1"></a><span class="co"># Display plots in a grid</span></span>
<span id="cb331-24"><a href="lesson-5c-visual-data-exploration.html#cb331-24" aria-hidden="true" tabindex="-1"></a><span class="fu">grid.arrange</span>(p1, p2, p3, p4, <span class="at">ncol =</span> <span class="dv">2</span>)</span></code></pre></div>
<p><img src="_main_files/figure-html/hist2-1.png" width="960" style="display: block; margin: auto;" /></p>
<p>The most common value of <code>Sale_Price</code> (i.e., the statistical mode) is $135,000 (this is roughly where the peak of each histogram occurs). R does not have a built-in function for finding the most common value in a set of observations, but we can easily find it using a combination of <code>which.max()</code> and <code>table()</code>.</p>
<div class="sourceCode" id="cb332"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb332-1"><a href="lesson-5c-visual-data-exploration.html#cb332-1" aria-hidden="true" tabindex="-1"></a><span class="fu">which.max</span>(<span class="fu">table</span>(ames<span class="sc">$</span>Sale_Price))</span>
<span id="cb332-2"><a href="lesson-5c-visual-data-exploration.html#cb332-2" aria-hidden="true" tabindex="-1"></a><span class="do">## 135000 </span></span>
<span id="cb332-3"><a href="lesson-5c-visual-data-exploration.html#cb332-3" aria-hidden="true" tabindex="-1"></a><span class="do">##    270</span></span></code></pre></div>
<p>We can also find the most frequent bin by combining <code>cut_width</code> (<code>cut_interval</code> and <code>cut_number</code> are additional options) with <code>count</code>. We see that the most frequent bin when using increments of $5,000 is $128,000 - $132,000.</p>
<div class="sourceCode" id="cb333"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb333-1"><a href="lesson-5c-visual-data-exploration.html#cb333-1" aria-hidden="true" tabindex="-1"></a>ames <span class="sc">%&gt;%</span></span>
<span id="cb333-2"><a href="lesson-5c-visual-data-exploration.html#cb333-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">count</span>(<span class="fu">cut_width</span>(Sale_Price, <span class="at">width =</span> <span class="dv">5000</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb333-3"><a href="lesson-5c-visual-data-exploration.html#cb333-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">arrange</span>(<span class="fu">desc</span>(n))</span>
<span id="cb333-4"><a href="lesson-5c-visual-data-exploration.html#cb333-4" aria-hidden="true" tabindex="-1"></a><span class="do">## # A tibble: 106 Ã 2</span></span>
<span id="cb333-5"><a href="lesson-5c-visual-data-exploration.html#cb333-5" aria-hidden="true" tabindex="-1"></a><span class="do">##    `cut_width(Sale_Price, width = 5000)`     n</span></span>
<span id="cb333-6"><a href="lesson-5c-visual-data-exploration.html#cb333-6" aria-hidden="true" tabindex="-1"></a><span class="do">##    &lt;fct&gt;                                 &lt;int&gt;</span></span>
<span id="cb333-7"><a href="lesson-5c-visual-data-exploration.html#cb333-7" aria-hidden="true" tabindex="-1"></a><span class="do">##  1 (1.28e+05,1.32e+05]                     137</span></span>
<span id="cb333-8"><a href="lesson-5c-visual-data-exploration.html#cb333-8" aria-hidden="true" tabindex="-1"></a><span class="do">##  2 (1.42e+05,1.48e+05]                     130</span></span>
<span id="cb333-9"><a href="lesson-5c-visual-data-exploration.html#cb333-9" aria-hidden="true" tabindex="-1"></a><span class="do">##  3 (1.32e+05,1.38e+05]                     125</span></span>
<span id="cb333-10"><a href="lesson-5c-visual-data-exploration.html#cb333-10" aria-hidden="true" tabindex="-1"></a><span class="do">##  4 (1.38e+05,1.42e+05]                     125</span></span>
<span id="cb333-11"><a href="lesson-5c-visual-data-exploration.html#cb333-11" aria-hidden="true" tabindex="-1"></a><span class="do">##  5 (1.22e+05,1.28e+05]                     118</span></span>
<span id="cb333-12"><a href="lesson-5c-visual-data-exploration.html#cb333-12" aria-hidden="true" tabindex="-1"></a><span class="do">##  6 (1.52e+05,1.58e+05]                     103</span></span>
<span id="cb333-13"><a href="lesson-5c-visual-data-exploration.html#cb333-13" aria-hidden="true" tabindex="-1"></a><span class="do">##  7 (1.48e+05,1.52e+05]                     101</span></span>
<span id="cb333-14"><a href="lesson-5c-visual-data-exploration.html#cb333-14" aria-hidden="true" tabindex="-1"></a><span class="do">##  8 (1.18e+05,1.22e+05]                      99</span></span>
<span id="cb333-15"><a href="lesson-5c-visual-data-exploration.html#cb333-15" aria-hidden="true" tabindex="-1"></a><span class="do">##  9 (1.58e+05,1.62e+05]                      92</span></span>
<span id="cb333-16"><a href="lesson-5c-visual-data-exploration.html#cb333-16" aria-hidden="true" tabindex="-1"></a><span class="do">## 10 (1.72e+05,1.78e+05]                      92</span></span>
<span id="cb333-17"><a href="lesson-5c-visual-data-exploration.html#cb333-17" aria-hidden="true" tabindex="-1"></a><span class="do">## # â¦ with 96 more rows</span></span></code></pre></div>
<p>We can assess the applicability of a log transformation by adding <code>scale_x_log()</code> to our ggplot visual. This log transformed histogram provides a couple new insights:</p>
<ul>
<li>It appears the log transformation helps our variable meet normality assumptions. More on this in a second.</li>
<li>It appears there new potential outliers that we did not see earlier. There are several observations where the sale price is very low. In fact, there are 11 observations where the sale price is below $50,000 and 2 that are below $15,000!</li>
</ul>
<div class="sourceCode" id="cb334"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb334-1"><a href="lesson-5c-visual-data-exploration.html#cb334-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(ames, <span class="fu">aes</span>(Sale_Price)) <span class="sc">+</span></span>
<span id="cb334-2"><a href="lesson-5c-visual-data-exploration.html#cb334-2" aria-hidden="true" tabindex="-1"></a>   <span class="fu">geom_histogram</span>(<span class="at">bins =</span> <span class="dv">100</span>) <span class="sc">+</span></span>
<span id="cb334-3"><a href="lesson-5c-visual-data-exploration.html#cb334-3" aria-hidden="true" tabindex="-1"></a>   <span class="fu">scale_x_log10</span>(<span class="at">labels =</span> scales<span class="sc">::</span>dollar)</span></code></pre></div>
<p><img src="_main_files/figure-html/unnamed-chunk-423-1.png" width="576" style="display: block; margin: auto;" /></p>
</div>
<div id="quantile-quantile-plots" class="section level3 hasAnchor" number="20.3.2">
<h3><span class="header-section-number">20.3.2</span> Quantile-quantile plots<a href="lesson-5c-visual-data-exploration.html#quantile-quantile-plots" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Letâs consider the issue of normality. If you really want to look at normality, then Q-Q plots are a great visual to assess. This graph plots the cumulative values we have in our data against the cumulative probability of a particular distribution (the default is a normal distribution). In essence, this plot compares the actual value against the expected value that the score should have in a normal distribution. If the data are normally distributed the plot will display a straight (or nearly straight) line of dots. If the data deviates from normality then the plot will display strong curvature or âsnaking.â</p>
<p>Looking at the Q-Q plots below, notice how the normal Q-Q plot for <code>Sale_Price</code> starts to bend up. This indicates that the distribution of <code>Sale_Price</code> has a heavier right tail than expected from a normal distribution (i.e., <code>Sale_Price</code> is more positively skewed than what would be expected from normally distributed data). The normal Q-Q plot for <code>log(Sale_Price)</code> is a bit more well behaved (aside from the two potential outliers and slight downward curvature in the bottom left of the graph).</p>
<div class="sourceCode" id="cb335"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb335-1"><a href="lesson-5c-visual-data-exploration.html#cb335-1" aria-hidden="true" tabindex="-1"></a><span class="co"># non-log transformed</span></span>
<span id="cb335-2"><a href="lesson-5c-visual-data-exploration.html#cb335-2" aria-hidden="true" tabindex="-1"></a>p1 <span class="ot">&lt;-</span> <span class="fu">ggplot</span>(ames, <span class="fu">aes</span>(<span class="at">sample =</span> Sale_Price)) <span class="sc">+</span> </span>
<span id="cb335-3"><a href="lesson-5c-visual-data-exploration.html#cb335-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">stat_qq</span>()</span>
<span id="cb335-4"><a href="lesson-5c-visual-data-exploration.html#cb335-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb335-5"><a href="lesson-5c-visual-data-exploration.html#cb335-5" aria-hidden="true" tabindex="-1"></a><span class="co"># log transformed</span></span>
<span id="cb335-6"><a href="lesson-5c-visual-data-exploration.html#cb335-6" aria-hidden="true" tabindex="-1"></a>p2 <span class="ot">&lt;-</span> <span class="fu">ggplot</span>(ames, <span class="fu">aes</span>(<span class="at">sample =</span> <span class="fu">log</span>(Sale_Price))) <span class="sc">+</span> </span>
<span id="cb335-7"><a href="lesson-5c-visual-data-exploration.html#cb335-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">stat_qq</span>()</span>
<span id="cb335-8"><a href="lesson-5c-visual-data-exploration.html#cb335-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb335-9"><a href="lesson-5c-visual-data-exploration.html#cb335-9" aria-hidden="true" tabindex="-1"></a>gridExtra<span class="sc">::</span><span class="fu">grid.arrange</span>(p1, p2, <span class="at">ncol =</span> <span class="dv">2</span>)</span></code></pre></div>
<p><img src="_main_files/figure-html/unnamed-chunk-424-1.png" width="960" style="display: block; margin: auto;" /></p>
<div class="tip">
<p>
Histograms (and kernel density estimates), and Q-Q plots are great at
visually summarizing the distribution of a continuous variable;
especially a variable with many unique values. Unfortunately, histograms
are less suitable for <strong><em>continuous data with few unique
values</em></strong>, and are not great at displaying outliers (the same
goes for Q-Q plots). Fortunately, a simple display of a few descriptive
statistics offers a perfect compliment to histograms; this display is
referred to as a <em>box plot</em>.
</p>
</div>
</div>
<div id="box-plots" class="section level3 hasAnchor" number="20.3.3">
<h3><span class="header-section-number">20.3.3</span> Box plots<a href="lesson-5c-visual-data-exploration.html#box-plots" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>We previously mentioned how we obtained a new insight regarding new potential outliers that we did not see earlier. So far our histogram identified potential outliers at the lower end and upper end of the sale price amount spectrum. Unfortunately histograms are not very good at delineating outliers. Rather, we can use a boxplot which does a better job identifying specific outliers.</p>
<p>Boxplots are an alternative way to illustrate the distribution of a variable and is a concise way to illustrate the standard quantiles and outliers of data. As the below figure indicates, the box itself extends, left to right, from the 1st quartile to the 3rd quartile. This means that it contains the middle half of the data. The line inside the box is positioned at the median. The lines (whiskers) coming out either side of the box extend to 1.5 interquartile ranges (IQRs) from the quartiles. These generally include most of the data outside the box. More distant values, called outliers, are denoted separately by individual points. Now we have a more analytically specific approach to identifying outliers.</p>
<div class="figure" style="text-align: center"><span style="display:block;" id="fig:boxplot"></span>
<img src="images/Box-Plot-MTB_01.png" alt="Information a boxplot provides." width="692" />
<p class="caption">
Figure 20.1: Information a boxplot provides.
</p>
</div>
<p>There are two efficient graphs to get an indication of potential outliers in our data. The classic boxplot on the left will identify points beyond the whiskers which are beyond <span class="math inline">\(1.5 \times IQR\)</span> from the first and third quantile. This illustrates there are several additional observations that we may need to assess as outliers that were not evident in our histogram. However, when looking at a boxplot we lose insight into the shape of the distribution. A violin plot on the right provides us a similar chart as the boxplot but we lose insight into the quantiles of our data and outliers are not plotted (hence the reason I plot geom_point prior to geom_violin). Violin plots will come in handy later when we start to visualize multiple distributions along side each other.</p>
<div class="sourceCode" id="cb336"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb336-1"><a href="lesson-5c-visual-data-exploration.html#cb336-1" aria-hidden="true" tabindex="-1"></a>p1 <span class="ot">&lt;-</span> <span class="fu">ggplot</span>(ames, <span class="fu">aes</span>(<span class="st">&quot;var&quot;</span>, Sale_Price)) <span class="sc">+</span></span>
<span id="cb336-2"><a href="lesson-5c-visual-data-exploration.html#cb336-2" aria-hidden="true" tabindex="-1"></a>   <span class="fu">geom_boxplot</span>(<span class="at">outlier.alpha =</span> .<span class="dv">25</span>) <span class="sc">+</span></span>
<span id="cb336-3"><a href="lesson-5c-visual-data-exploration.html#cb336-3" aria-hidden="true" tabindex="-1"></a>   <span class="fu">scale_y_log10</span>(</span>
<span id="cb336-4"><a href="lesson-5c-visual-data-exploration.html#cb336-4" aria-hidden="true" tabindex="-1"></a>      <span class="at">labels =</span> scales<span class="sc">::</span>dollar,</span>
<span id="cb336-5"><a href="lesson-5c-visual-data-exploration.html#cb336-5" aria-hidden="true" tabindex="-1"></a>      <span class="at">breaks =</span> <span class="fu">quantile</span>(ames<span class="sc">$</span>Sale_Price)</span>
<span id="cb336-6"><a href="lesson-5c-visual-data-exploration.html#cb336-6" aria-hidden="true" tabindex="-1"></a>      )</span>
<span id="cb336-7"><a href="lesson-5c-visual-data-exploration.html#cb336-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb336-8"><a href="lesson-5c-visual-data-exploration.html#cb336-8" aria-hidden="true" tabindex="-1"></a>p2 <span class="ot">&lt;-</span> <span class="fu">ggplot</span>(ames, <span class="fu">aes</span>(<span class="st">&quot;var&quot;</span>, Sale_Price)) <span class="sc">+</span></span>
<span id="cb336-9"><a href="lesson-5c-visual-data-exploration.html#cb336-9" aria-hidden="true" tabindex="-1"></a>   <span class="fu">geom_point</span>() <span class="sc">+</span></span>
<span id="cb336-10"><a href="lesson-5c-visual-data-exploration.html#cb336-10" aria-hidden="true" tabindex="-1"></a>   <span class="fu">geom_violin</span>() <span class="sc">+</span></span>
<span id="cb336-11"><a href="lesson-5c-visual-data-exploration.html#cb336-11" aria-hidden="true" tabindex="-1"></a>   <span class="fu">scale_y_log10</span>(</span>
<span id="cb336-12"><a href="lesson-5c-visual-data-exploration.html#cb336-12" aria-hidden="true" tabindex="-1"></a>      <span class="at">labels =</span> scales<span class="sc">::</span>dollar,</span>
<span id="cb336-13"><a href="lesson-5c-visual-data-exploration.html#cb336-13" aria-hidden="true" tabindex="-1"></a>      <span class="at">breaks =</span> <span class="fu">quantile</span>(ames<span class="sc">$</span>Sale_Price)</span>
<span id="cb336-14"><a href="lesson-5c-visual-data-exploration.html#cb336-14" aria-hidden="true" tabindex="-1"></a>      )</span>
<span id="cb336-15"><a href="lesson-5c-visual-data-exploration.html#cb336-15" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb336-16"><a href="lesson-5c-visual-data-exploration.html#cb336-16" aria-hidden="true" tabindex="-1"></a>gridExtra<span class="sc">::</span><span class="fu">grid.arrange</span>(p1, p2, <span class="at">ncol =</span> <span class="dv">2</span>)</span></code></pre></div>
<p><img src="_main_files/figure-html/unnamed-chunk-426-1.png" width="768" style="display: block; margin: auto;" /></p>
<p>The boxplot starts to answer the question of what potential outliers exist in our data. Outliers in data can distort predictions and affect their accuracy. Consequently, its important to understand if outliers are present and, if so, which observations are considered outliers. Boxplots provide a visual assessment of potential outliers while the outliers package provides a number of useful functions to systematically extract these outliers. The most useful function is the scores function, which computes normal, t, chi-squared, IQR and MAD scores of the given data which you can use to find observation(s) that lie beyond a given value.</p>
<p>Here, I use the <code>outliers::score</code> function to extract those observations beyond the whiskers in our boxplot and then use a stem-and-leaf plot to assess them. A stem-and-leaf plot is a special table where each data value is split into a âstemâ (the first digit or digits) and a âleafâ (usually the second digit). Since the decimal point is located 5 digits to the right of the â|â the last stem of â7â and and first leaf of â5â means an outlier exists at around $750,000. The first stem of â0â and and third leaf of â3â means an outlier exists at around $30,000. This is a concise way to see approximately where our outliers are. In fact, I can now see that I have several lower end outliers ranging from $11K-$60K and several more upper end outliers ranging from $450K-$760K.</p>
<div class="sourceCode" id="cb337"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb337-1"><a href="lesson-5c-visual-data-exploration.html#cb337-1" aria-hidden="true" tabindex="-1"></a><span class="co"># ID outliers</span></span>
<span id="cb337-2"><a href="lesson-5c-visual-data-exploration.html#cb337-2" aria-hidden="true" tabindex="-1"></a>outliers <span class="ot">&lt;-</span> outliers<span class="sc">::</span><span class="fu">scores</span>(<span class="fu">log</span>(ames<span class="sc">$</span>Sale_Price), <span class="at">type =</span> <span class="st">&quot;iqr&quot;</span>, <span class="at">lim =</span> <span class="fl">1.5</span>)</span>
<span id="cb337-3"><a href="lesson-5c-visual-data-exploration.html#cb337-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb337-4"><a href="lesson-5c-visual-data-exploration.html#cb337-4" aria-hidden="true" tabindex="-1"></a><span class="co"># stem plot of outliers</span></span>
<span id="cb337-5"><a href="lesson-5c-visual-data-exploration.html#cb337-5" aria-hidden="true" tabindex="-1"></a><span class="fu">stem</span>(ames<span class="sc">$</span>Sale_Price[outliers])</span>
<span id="cb337-6"><a href="lesson-5c-visual-data-exploration.html#cb337-6" aria-hidden="true" tabindex="-1"></a><span class="do">## </span></span>
<span id="cb337-7"><a href="lesson-5c-visual-data-exploration.html#cb337-7" aria-hidden="true" tabindex="-1"></a><span class="do">##   The decimal point is 5 digit(s) to the right of the |</span></span>
<span id="cb337-8"><a href="lesson-5c-visual-data-exploration.html#cb337-8" aria-hidden="true" tabindex="-1"></a><span class="do">## </span></span>
<span id="cb337-9"><a href="lesson-5c-visual-data-exploration.html#cb337-9" aria-hidden="true" tabindex="-1"></a><span class="do">##   0 | 1134444445555555666666666666</span></span>
<span id="cb337-10"><a href="lesson-5c-visual-data-exploration.html#cb337-10" aria-hidden="true" tabindex="-1"></a><span class="do">##   1 | </span></span>
<span id="cb337-11"><a href="lesson-5c-visual-data-exploration.html#cb337-11" aria-hidden="true" tabindex="-1"></a><span class="do">##   2 | </span></span>
<span id="cb337-12"><a href="lesson-5c-visual-data-exploration.html#cb337-12" aria-hidden="true" tabindex="-1"></a><span class="do">##   3 | </span></span>
<span id="cb337-13"><a href="lesson-5c-visual-data-exploration.html#cb337-13" aria-hidden="true" tabindex="-1"></a><span class="do">##   4 | 56666777788899</span></span>
<span id="cb337-14"><a href="lesson-5c-visual-data-exploration.html#cb337-14" aria-hidden="true" tabindex="-1"></a><span class="do">##   5 | 000445566889</span></span>
<span id="cb337-15"><a href="lesson-5c-visual-data-exploration.html#cb337-15" aria-hidden="true" tabindex="-1"></a><span class="do">##   6 | 1123</span></span>
<span id="cb337-16"><a href="lesson-5c-visual-data-exploration.html#cb337-16" aria-hidden="true" tabindex="-1"></a><span class="do">##   7 | 56</span></span>
<span id="cb337-17"><a href="lesson-5c-visual-data-exploration.html#cb337-17" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb337-18"><a href="lesson-5c-visual-data-exploration.html#cb337-18" aria-hidden="true" tabindex="-1"></a><span class="co"># order outlier values</span></span>
<span id="cb337-19"><a href="lesson-5c-visual-data-exploration.html#cb337-19" aria-hidden="true" tabindex="-1"></a><span class="fu">sort</span>(ames<span class="sc">$</span>Sale_Price[outliers])</span>
<span id="cb337-20"><a href="lesson-5c-visual-data-exploration.html#cb337-20" aria-hidden="true" tabindex="-1"></a><span class="do">##  [1]  12789  13100  34900  35000  35311  37900  39300  40000  44000  45000  46500  50000  50138</span></span>
<span id="cb337-21"><a href="lesson-5c-visual-data-exploration.html#cb337-21" aria-hidden="true" tabindex="-1"></a><span class="do">## [14]  51689  52000  52500  55000  55000  55000  55993  57625  58500  58500  59000  60000  60000</span></span>
<span id="cb337-22"><a href="lesson-5c-visual-data-exploration.html#cb337-22" aria-hidden="true" tabindex="-1"></a><span class="do">## [27]  60000  61000 451950 455000 457347 460000 462000 465000 466500 468000 470000 475000 475000</span></span>
<span id="cb337-23"><a href="lesson-5c-visual-data-exploration.html#cb337-23" aria-hidden="true" tabindex="-1"></a><span class="do">## [40] 479069 485000 492000 500000 500067 501837 535000 538000 545224 552000 555000 556581 582933</span></span>
<span id="cb337-24"><a href="lesson-5c-visual-data-exploration.html#cb337-24" aria-hidden="true" tabindex="-1"></a><span class="do">## [53] 584500 591587 610000 611657 615000 625000 745000 755000</span></span></code></pre></div>
<p>As demonstrated, several plots exist for examining univariate continuous variables. Several examples were provided here but still more exist (i.e.Â frequency polygon, bean plot, shifted histograms). There is some general advice to follow such as histograms being poor for small data sets, dot plots being poor for large data sets, histograms being poor for identifying outlier cut-offs, box plots being good for outliers but obscuring multimodality. Consequently, it is important to draw a variety of plots. Moreover, it is important to adjust parameters within plots (i.e.Â bin width, axis transformation for skewed data) to get a comprehensive picture of the variable of concern.</p>
<p>In practice, it is often helpful (encouraged, in fact) to look at many types of graphics for a particular variable. For continuous variables, it is often useful to look at histograms, box plots, Q-Q plots, and a number of other graphics (depending on the situation). We can combine multiple plots to display a wealth of important information about continuous variables, especially as it relates to typical analytic tasks (e.g., density, correlation, outliers, etc.)</p>
<div class="sourceCode" id="cb338"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb338-1"><a href="lesson-5c-visual-data-exploration.html#cb338-1" aria-hidden="true" tabindex="-1"></a>p1 <span class="ot">&lt;-</span> <span class="fu">ggplot</span>(ames, <span class="fu">aes</span>(<span class="at">x =</span> Sale_Price)) <span class="sc">+</span></span>
<span id="cb338-2"><a href="lesson-5c-visual-data-exploration.html#cb338-2" aria-hidden="true" tabindex="-1"></a>   <span class="fu">geom_histogram</span>(<span class="fu">aes</span>(<span class="at">y =</span> ..density..), <span class="at">size =</span> <span class="fl">1.5</span>) <span class="sc">+</span> </span>
<span id="cb338-3"><a href="lesson-5c-visual-data-exploration.html#cb338-3" aria-hidden="true" tabindex="-1"></a>   <span class="fu">geom_density</span>(<span class="at">color =</span> <span class="st">&quot;purple2&quot;</span>) <span class="sc">+</span></span>
<span id="cb338-4"><a href="lesson-5c-visual-data-exploration.html#cb338-4" aria-hidden="true" tabindex="-1"></a>   <span class="fu">scale_x_log10</span>(<span class="at">labels =</span> scales<span class="sc">::</span>dollar) <span class="sc">+</span></span>
<span id="cb338-5"><a href="lesson-5c-visual-data-exploration.html#cb338-5" aria-hidden="true" tabindex="-1"></a>   <span class="fu">ggtitle</span>(<span class="st">&quot;Illustrates a skewed distribution&quot;</span>)</span>
<span id="cb338-6"><a href="lesson-5c-visual-data-exploration.html#cb338-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb338-7"><a href="lesson-5c-visual-data-exploration.html#cb338-7" aria-hidden="true" tabindex="-1"></a>p2 <span class="ot">&lt;-</span> <span class="fu">ggplot</span>(ames, <span class="fu">aes</span>(<span class="at">x =</span> <span class="st">&quot;&quot;</span>, <span class="at">y =</span> Sale_Price)) <span class="sc">+</span> </span>
<span id="cb338-8"><a href="lesson-5c-visual-data-exploration.html#cb338-8" aria-hidden="true" tabindex="-1"></a>   <span class="fu">geom_jitter</span>(<span class="at">alpha =</span> <span class="fl">0.1</span>) <span class="sc">+</span></span>
<span id="cb338-9"><a href="lesson-5c-visual-data-exploration.html#cb338-9" aria-hidden="true" tabindex="-1"></a>   <span class="fu">geom_boxplot</span>() <span class="sc">+</span></span>
<span id="cb338-10"><a href="lesson-5c-visual-data-exploration.html#cb338-10" aria-hidden="true" tabindex="-1"></a>   <span class="fu">coord_flip</span>() <span class="sc">+</span></span>
<span id="cb338-11"><a href="lesson-5c-visual-data-exploration.html#cb338-11" aria-hidden="true" tabindex="-1"></a>   <span class="fu">scale_y_log10</span>(<span class="at">labels =</span> scales<span class="sc">::</span>dollar) <span class="sc">+</span></span>
<span id="cb338-12"><a href="lesson-5c-visual-data-exploration.html#cb338-12" aria-hidden="true" tabindex="-1"></a>   <span class="fu">ggtitle</span>(<span class="st">&quot;Illustrates a outliers&quot;</span>)</span>
<span id="cb338-13"><a href="lesson-5c-visual-data-exploration.html#cb338-13" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb338-14"><a href="lesson-5c-visual-data-exploration.html#cb338-14" aria-hidden="true" tabindex="-1"></a>p3 <span class="ot">&lt;-</span> <span class="fu">ggplot</span>(ames, <span class="fu">aes</span>(<span class="at">sample =</span> Sale_Price)) <span class="sc">+</span></span>
<span id="cb338-15"><a href="lesson-5c-visual-data-exploration.html#cb338-15" aria-hidden="true" tabindex="-1"></a>   <span class="fu">geom_qq</span>(<span class="at">alpha =</span> <span class="fl">0.5</span>) <span class="sc">+</span></span>
<span id="cb338-16"><a href="lesson-5c-visual-data-exploration.html#cb338-16" aria-hidden="true" tabindex="-1"></a>   <span class="fu">ggtitle</span>(<span class="st">&quot;Illustrates whether we can assume normality&quot;</span>)</span>
<span id="cb338-17"><a href="lesson-5c-visual-data-exploration.html#cb338-17" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb338-18"><a href="lesson-5c-visual-data-exploration.html#cb338-18" aria-hidden="true" tabindex="-1"></a>ames<span class="sc">$</span>Index <span class="ot">&lt;-</span> <span class="fu">seq_len</span>(<span class="fu">nrow</span>(ames))  <span class="co"># add row number as a new column</span></span>
<span id="cb338-19"><a href="lesson-5c-visual-data-exploration.html#cb338-19" aria-hidden="true" tabindex="-1"></a>p4 <span class="ot">&lt;-</span> <span class="fu">ggplot</span>(ames, <span class="fu">aes</span>(<span class="at">x =</span> Index, <span class="at">y =</span> Sale_Price)) <span class="sc">+</span></span>
<span id="cb338-20"><a href="lesson-5c-visual-data-exploration.html#cb338-20" aria-hidden="true" tabindex="-1"></a>   <span class="fu">geom_line</span>(<span class="at">alpha =</span> <span class="fl">0.5</span>) <span class="sc">+</span></span>
<span id="cb338-21"><a href="lesson-5c-visual-data-exploration.html#cb338-21" aria-hidden="true" tabindex="-1"></a>   <span class="fu">ggtitle</span>(<span class="st">&quot;Illustrates pattern based on index&quot;</span>)</span>
<span id="cb338-22"><a href="lesson-5c-visual-data-exploration.html#cb338-22" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb338-23"><a href="lesson-5c-visual-data-exploration.html#cb338-23" aria-hidden="true" tabindex="-1"></a><span class="fu">grid.arrange</span>(p1, p2, p3, p4, <span class="at">ncol =</span> <span class="dv">2</span>)</span></code></pre></div>
<p><img src="_main_files/figure-html/unnamed-chunk-428-1.png" width="960" style="display: block; margin: auto;" /></p>
</div>
<div id="categorical-variables" class="section level3 hasAnchor" number="20.3.4">
<h3><span class="header-section-number">20.3.4</span> Categorical variables<a href="lesson-5c-visual-data-exploration.html#categorical-variables" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>A categorical variable is a variable that can take on one of a limited, and usually fixed, number of possible values, assigning each individual or other unit of observation to a particular group or nominal category on the basis of some qualitative property (i.e.Â gender, grade, manufacturer). There are several different features we are generally interested in with categorical variables (i.e.Â counts, proportions, imbalances, mislabeled levels). There are a few different plots that can effectively communicate these features of categorical variables.</p>
</div>
<div id="bar-charts" class="section level3 hasAnchor" number="20.3.5">
<h3><span class="header-section-number">20.3.5</span> Bar charts<a href="lesson-5c-visual-data-exploration.html#bar-charts" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>In a typical bar chart, each bar represents a different category (e.g.Â <em>male</em> or <em>female</em>) and the height of each bar represents the frequency (or proportion) of observations within each category. By default, the x-axis typically represents categories; however, as we will see, it is often useful to âflipâ bar charts horizontally for readability, especially when the number of categories is large. We have already seen bar charts in the form of a histogramâthe difference there being that the bars (i.e., categories) were created by binning a numeric variable into (roughly) equal sized buckets.</p>
<p>If we look at the general zoning classification (<code>MS_Zoning</code>) for each property sold in our <code>ames</code> data set, we see that the majority of all properties fall within one category. We can use ggplot2âs <code>geom_bar()</code> function to construct simple bar charts. By default, <code>geom_bar()</code> simply counts the observations within each category and displays them in a vertical bar chart.</p>
<div class="sourceCode" id="cb339"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb339-1"><a href="lesson-5c-visual-data-exploration.html#cb339-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(ames, <span class="fu">aes</span>(MS_Zoning)) <span class="sc">+</span></span>
<span id="cb339-2"><a href="lesson-5c-visual-data-exploration.html#cb339-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_bar</span>() <span class="sc">+</span> </span>
<span id="cb339-3"><a href="lesson-5c-visual-data-exploration.html#cb339-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="at">axis.text.x =</span> <span class="fu">element_text</span>(<span class="at">angle =</span> <span class="dv">55</span>, <span class="at">hjust =</span> <span class="dv">1</span>))</span></code></pre></div>
<p><img src="_main_files/figure-html/04-bar-chart-01-1.png" width="576" style="display: block; margin: auto;" /></p>
<p><code>MS_Zoning</code> is an example of a <em>nominal</em> categorical variable; a categorical variable for which there is no logical ordering of the categories (as opposed to <code>low</code>, <code>medium</code>, and <code>high</code>, for example). To get better clarity of nominal variables we can make some refinements. We can also draw bar charts manually using <code>geom_col()</code>. To do this, we first need to compute the length of each bar. For frequencies, we can use <code>dplyr::count()</code> to tally the number of observations within each category. We can then use <code>dplyr::mutate()</code> to convert frequencies to proportions. With this approach, we can use <code>reorder()</code> to easily reorder the bar categories from most frequent to least (or vice versa). For readability, we can also apply <code>coord_flip()</code> to rotate the bar chart (or any <code>ggplot2</code> figure) on its side. These refinements are demonstrated in the code chunk below.</p>
<div class="sourceCode" id="cb340"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb340-1"><a href="lesson-5c-visual-data-exploration.html#cb340-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Bar chart of frequencies</span></span>
<span id="cb340-2"><a href="lesson-5c-visual-data-exploration.html#cb340-2" aria-hidden="true" tabindex="-1"></a>p1 <span class="ot">&lt;-</span> ames <span class="sc">%&gt;%</span> </span>
<span id="cb340-3"><a href="lesson-5c-visual-data-exploration.html#cb340-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">count</span>(MS_Zoning) <span class="sc">%&gt;%</span></span>
<span id="cb340-4"><a href="lesson-5c-visual-data-exploration.html#cb340-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="fu">reorder</span>(MS_Zoning, n), n)) <span class="sc">+</span></span>
<span id="cb340-5"><a href="lesson-5c-visual-data-exploration.html#cb340-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_col</span>() <span class="sc">+</span></span>
<span id="cb340-6"><a href="lesson-5c-visual-data-exploration.html#cb340-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">coord_flip</span>() <span class="sc">+</span></span>
<span id="cb340-7"><a href="lesson-5c-visual-data-exploration.html#cb340-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">x =</span> <span class="st">&quot;MS_Zoning&quot;</span>, <span class="at">y =</span> <span class="st">&quot;Frequency&quot;</span>) <span class="sc">+</span></span>
<span id="cb340-8"><a href="lesson-5c-visual-data-exploration.html#cb340-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggtitle</span>(<span class="st">&quot;Total count&quot;</span>)</span>
<span id="cb340-9"><a href="lesson-5c-visual-data-exploration.html#cb340-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb340-10"><a href="lesson-5c-visual-data-exploration.html#cb340-10" aria-hidden="true" tabindex="-1"></a><span class="co"># Bar chart of proportions</span></span>
<span id="cb340-11"><a href="lesson-5c-visual-data-exploration.html#cb340-11" aria-hidden="true" tabindex="-1"></a>p2 <span class="ot">&lt;-</span> ames <span class="sc">%&gt;%</span> </span>
<span id="cb340-12"><a href="lesson-5c-visual-data-exploration.html#cb340-12" aria-hidden="true" tabindex="-1"></a>  <span class="fu">count</span>(MS_Zoning) <span class="sc">%&gt;%</span></span>
<span id="cb340-13"><a href="lesson-5c-visual-data-exploration.html#cb340-13" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">pct =</span> n <span class="sc">/</span> <span class="fu">sum</span>(n)) <span class="sc">%&gt;%</span>  <span class="co"># convert to proportions</span></span>
<span id="cb340-14"><a href="lesson-5c-visual-data-exploration.html#cb340-14" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="fu">reorder</span>(MS_Zoning, pct), pct)) <span class="sc">+</span></span>
<span id="cb340-15"><a href="lesson-5c-visual-data-exploration.html#cb340-15" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_col</span>() <span class="sc">+</span></span>
<span id="cb340-16"><a href="lesson-5c-visual-data-exploration.html#cb340-16" aria-hidden="true" tabindex="-1"></a>  <span class="fu">coord_flip</span>() <span class="sc">+</span>  <span class="co"># now x becomes y</span></span>
<span id="cb340-17"><a href="lesson-5c-visual-data-exploration.html#cb340-17" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">x =</span> <span class="st">&quot;MS_Zoning&quot;</span>, <span class="at">y =</span> <span class="st">&quot;Relative frequency&quot;</span>) <span class="sc">+</span></span>
<span id="cb340-18"><a href="lesson-5c-visual-data-exploration.html#cb340-18" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_y_continuous</span>(<span class="at">labels =</span> scales<span class="sc">::</span>percent) <span class="sc">+</span></span>
<span id="cb340-19"><a href="lesson-5c-visual-data-exploration.html#cb340-19" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggtitle</span>(<span class="st">&quot;Percent of whole&quot;</span>)</span>
<span id="cb340-20"><a href="lesson-5c-visual-data-exploration.html#cb340-20" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb340-21"><a href="lesson-5c-visual-data-exploration.html#cb340-21" aria-hidden="true" tabindex="-1"></a><span class="co"># Dispay both plots side by side</span></span>
<span id="cb340-22"><a href="lesson-5c-visual-data-exploration.html#cb340-22" aria-hidden="true" tabindex="-1"></a><span class="fu">grid.arrange</span>(p1, p2, <span class="at">ncol =</span> <span class="dv">2</span>)</span></code></pre></div>
<p><img src="_main_files/figure-html/04-bar-chart-02-1.png" width="1152" style="display: block; margin: auto;" /></p>
<p>Now we can see that properties zoned as residential low density make up nearly 80% of all observations . We also see that properties zoned as agricultural (<code>A_agr</code>), industrial (<code>I_all</code>), commercial (<code>C_all</code>), and residential high density make up a very small amount of observations. In fact, below we see that these imbalanced category levels each make up less than 1% of all observations.</p>
<div class="sourceCode" id="cb341"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb341-1"><a href="lesson-5c-visual-data-exploration.html#cb341-1" aria-hidden="true" tabindex="-1"></a>ames <span class="sc">%&gt;%</span> </span>
<span id="cb341-2"><a href="lesson-5c-visual-data-exploration.html#cb341-2" aria-hidden="true" tabindex="-1"></a>   <span class="fu">count</span>(MS_Zoning) <span class="sc">%&gt;%</span></span>
<span id="cb341-3"><a href="lesson-5c-visual-data-exploration.html#cb341-3" aria-hidden="true" tabindex="-1"></a>   <span class="fu">mutate</span>(<span class="at">pct =</span> n <span class="sc">/</span> <span class="fu">sum</span>(n)) <span class="sc">%&gt;%</span></span>
<span id="cb341-4"><a href="lesson-5c-visual-data-exploration.html#cb341-4" aria-hidden="true" tabindex="-1"></a>   <span class="fu">arrange</span>(<span class="fu">desc</span>(pct))</span>
<span id="cb341-5"><a href="lesson-5c-visual-data-exploration.html#cb341-5" aria-hidden="true" tabindex="-1"></a><span class="do">## # A tibble: 7 Ã 3</span></span>
<span id="cb341-6"><a href="lesson-5c-visual-data-exploration.html#cb341-6" aria-hidden="true" tabindex="-1"></a><span class="do">##   MS_Zoning                        n      pct</span></span>
<span id="cb341-7"><a href="lesson-5c-visual-data-exploration.html#cb341-7" aria-hidden="true" tabindex="-1"></a><span class="do">##   &lt;fct&gt;                        &lt;int&gt;    &lt;dbl&gt;</span></span>
<span id="cb341-8"><a href="lesson-5c-visual-data-exploration.html#cb341-8" aria-hidden="true" tabindex="-1"></a><span class="do">## 1 Residential_Low_Density       2273 0.776   </span></span>
<span id="cb341-9"><a href="lesson-5c-visual-data-exploration.html#cb341-9" aria-hidden="true" tabindex="-1"></a><span class="do">## 2 Residential_Medium_Density     462 0.158   </span></span>
<span id="cb341-10"><a href="lesson-5c-visual-data-exploration.html#cb341-10" aria-hidden="true" tabindex="-1"></a><span class="do">## 3 Floating_Village_Residential   139 0.0474  </span></span>
<span id="cb341-11"><a href="lesson-5c-visual-data-exploration.html#cb341-11" aria-hidden="true" tabindex="-1"></a><span class="do">## 4 Residential_High_Density        27 0.00922 </span></span>
<span id="cb341-12"><a href="lesson-5c-visual-data-exploration.html#cb341-12" aria-hidden="true" tabindex="-1"></a><span class="do">## 5 C_all                           25 0.00853 </span></span>
<span id="cb341-13"><a href="lesson-5c-visual-data-exploration.html#cb341-13" aria-hidden="true" tabindex="-1"></a><span class="do">## 6 A_agr                            2 0.000683</span></span>
<span id="cb341-14"><a href="lesson-5c-visual-data-exploration.html#cb341-14" aria-hidden="true" tabindex="-1"></a><span class="do">## 7 I_all                            2 0.000683</span></span></code></pre></div>
<p>Severely imbalanced categories can cause problems in statistical modeling, so it makes sense to sometimes combine the infrequent levels into an other category. Here we use n = 3 to retain the top three most frequent categories/levels, and condense the remaining into an other category. You can see that other still represents less than 2% of all observations.</p>
<div class="sourceCode" id="cb342"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb342-1"><a href="lesson-5c-visual-data-exploration.html#cb342-1" aria-hidden="true" tabindex="-1"></a>ames <span class="sc">%&gt;%</span> </span>
<span id="cb342-2"><a href="lesson-5c-visual-data-exploration.html#cb342-2" aria-hidden="true" tabindex="-1"></a>   <span class="fu">mutate</span>(<span class="at">MS_Zoning =</span> forcats<span class="sc">::</span><span class="fu">fct_lump</span>(MS_Zoning, <span class="at">n =</span> <span class="dv">3</span>)) <span class="sc">%&gt;%</span> </span>
<span id="cb342-3"><a href="lesson-5c-visual-data-exploration.html#cb342-3" aria-hidden="true" tabindex="-1"></a>   <span class="fu">count</span>(MS_Zoning) <span class="sc">%&gt;%</span></span>
<span id="cb342-4"><a href="lesson-5c-visual-data-exploration.html#cb342-4" aria-hidden="true" tabindex="-1"></a>   <span class="fu">mutate</span>(<span class="at">pct =</span> n <span class="sc">/</span> <span class="fu">sum</span>(n)) <span class="sc">%&gt;%</span></span>
<span id="cb342-5"><a href="lesson-5c-visual-data-exploration.html#cb342-5" aria-hidden="true" tabindex="-1"></a>   <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="fu">reorder</span>(MS_Zoning, pct), pct)) <span class="sc">+</span></span>
<span id="cb342-6"><a href="lesson-5c-visual-data-exploration.html#cb342-6" aria-hidden="true" tabindex="-1"></a>   <span class="fu">geom_col</span>() <span class="sc">+</span></span>
<span id="cb342-7"><a href="lesson-5c-visual-data-exploration.html#cb342-7" aria-hidden="true" tabindex="-1"></a>   <span class="fu">coord_flip</span>()</span></code></pre></div>
<p><img src="_main_files/figure-html/unnamed-chunk-430-1.png" width="576" style="display: block; margin: auto;" /></p>
<p>In some cases, the categories of a categorical variable have a natural ordering (though, the difference between any two categories is not meaningful)âthese are called ordinal variables. For example, the <code>Kitchen_Qual</code> variable in <code>ames</code> categorizes kitchen quality into five buckets:</p>
<div class="sourceCode" id="cb343"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb343-1"><a href="lesson-5c-visual-data-exploration.html#cb343-1" aria-hidden="true" tabindex="-1"></a><span class="fu">table</span>(ames<span class="sc">$</span>Kitchen_Qual)</span>
<span id="cb343-2"><a href="lesson-5c-visual-data-exploration.html#cb343-2" aria-hidden="true" tabindex="-1"></a><span class="do">## </span></span>
<span id="cb343-3"><a href="lesson-5c-visual-data-exploration.html#cb343-3" aria-hidden="true" tabindex="-1"></a><span class="do">## Excellent      Fair      Good      Poor   Typical </span></span>
<span id="cb343-4"><a href="lesson-5c-visual-data-exploration.html#cb343-4" aria-hidden="true" tabindex="-1"></a><span class="do">##       205        70      1160         1      1494</span></span></code></pre></div>
<div class="sourceCode" id="cb344"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb344-1"><a href="lesson-5c-visual-data-exploration.html#cb344-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(ames, <span class="fu">aes</span>(Kitchen_Qual)) <span class="sc">+</span> </span>
<span id="cb344-2"><a href="lesson-5c-visual-data-exploration.html#cb344-2" aria-hidden="true" tabindex="-1"></a>   <span class="fu">geom_bar</span>()</span></code></pre></div>
<p><img src="_main_files/figure-html/unnamed-chunk-432-1.png" width="576" style="display: block; margin: auto;" /></p>
<p>Here, we might consider ordering the bars using their natural order: Poor &lt; Fair &lt; Typical &lt; Good &lt; Excellent with <code>forcats::fct_relevel()</code>. It is easier to see that most homes have average to slightly above average quality kitchens.</p>
<div class="sourceCode" id="cb345"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb345-1"><a href="lesson-5c-visual-data-exploration.html#cb345-1" aria-hidden="true" tabindex="-1"></a> ames <span class="sc">%&gt;%</span></span>
<span id="cb345-2"><a href="lesson-5c-visual-data-exploration.html#cb345-2" aria-hidden="true" tabindex="-1"></a>   <span class="fu">mutate</span>(<span class="at">Kitchen_Qual =</span> forcats<span class="sc">::</span><span class="fu">fct_relevel</span>(</span>
<span id="cb345-3"><a href="lesson-5c-visual-data-exploration.html#cb345-3" aria-hidden="true" tabindex="-1"></a>     Kitchen_Qual, <span class="st">&quot;Poor&quot;</span>, <span class="st">&quot;Fair&quot;</span>, <span class="st">&quot;Typical&quot;</span>, <span class="st">&quot;Good&quot;</span>, <span class="st">&quot;Excellent&quot;</span>)</span>
<span id="cb345-4"><a href="lesson-5c-visual-data-exploration.html#cb345-4" aria-hidden="true" tabindex="-1"></a>   ) <span class="sc">%&gt;%</span></span>
<span id="cb345-5"><a href="lesson-5c-visual-data-exploration.html#cb345-5" aria-hidden="true" tabindex="-1"></a>   <span class="fu">ggplot</span>(<span class="fu">aes</span>(Kitchen_Qual)) <span class="sc">+</span> </span>
<span id="cb345-6"><a href="lesson-5c-visual-data-exploration.html#cb345-6" aria-hidden="true" tabindex="-1"></a>   <span class="fu">geom_bar</span>()</span></code></pre></div>
<p><img src="_main_files/figure-html/unnamed-chunk-433-1.png" width="576" style="display: block; margin: auto;" /></p>
<p>Often our data will have categorical variables that are numerically encoded (typically as integers). For example, in the <code>ames</code> data set, the month each home was sold (<code>Mo_Sold</code>) was encoded using the integers 1â12. Sometimes being numerically encoded allows us to compute stats. For example we see that the median and mean values are around 6 implying that our distribution is centered around June (month 6) with most homes selling between May (month 4) and August (month 8).</p>
<div class="sourceCode" id="cb346"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb346-1"><a href="lesson-5c-visual-data-exploration.html#cb346-1" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(ames<span class="sc">$</span>Mo_Sold)</span>
<span id="cb346-2"><a href="lesson-5c-visual-data-exploration.html#cb346-2" aria-hidden="true" tabindex="-1"></a><span class="do">##    Min. 1st Qu.  Median    Mean 3rd Qu.    Max. </span></span>
<span id="cb346-3"><a href="lesson-5c-visual-data-exploration.html#cb346-3" aria-hidden="true" tabindex="-1"></a><span class="do">##    1.00    4.00    6.00    6.22    8.00   12.00</span></span></code></pre></div>
<p>But for visuals (and in some cases, modeling), we often want to make sure R treats such variables as categorical as this makes interpreting the plots a little easier.</p>
<div class="sourceCode" id="cb347"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb347-1"><a href="lesson-5c-visual-data-exploration.html#cb347-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Keeping Mo_Sold as an integer</span></span>
<span id="cb347-2"><a href="lesson-5c-visual-data-exploration.html#cb347-2" aria-hidden="true" tabindex="-1"></a>p1 <span class="ot">&lt;-</span> <span class="fu">ggplot</span>(ames, <span class="fu">aes</span>(Mo_Sold)) <span class="sc">+</span> </span>
<span id="cb347-3"><a href="lesson-5c-visual-data-exploration.html#cb347-3" aria-hidden="true" tabindex="-1"></a>   <span class="fu">geom_bar</span>() <span class="sc">+</span> </span>
<span id="cb347-4"><a href="lesson-5c-visual-data-exploration.html#cb347-4" aria-hidden="true" tabindex="-1"></a>   <span class="fu">xlab</span>(<span class="st">&quot;Month sold (numeric)&quot;</span>)</span>
<span id="cb347-5"><a href="lesson-5c-visual-data-exploration.html#cb347-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb347-6"><a href="lesson-5c-visual-data-exploration.html#cb347-6" aria-hidden="true" tabindex="-1"></a><span class="co"># Converting Mo_Sold to a factor</span></span>
<span id="cb347-7"><a href="lesson-5c-visual-data-exploration.html#cb347-7" aria-hidden="true" tabindex="-1"></a>p2 <span class="ot">&lt;-</span> <span class="fu">ggplot</span>(ames, <span class="fu">aes</span>(<span class="fu">as.factor</span>(Mo_Sold))) <span class="sc">+</span> </span>
<span id="cb347-8"><a href="lesson-5c-visual-data-exploration.html#cb347-8" aria-hidden="true" tabindex="-1"></a>   <span class="fu">geom_bar</span>() <span class="sc">+</span> </span>
<span id="cb347-9"><a href="lesson-5c-visual-data-exploration.html#cb347-9" aria-hidden="true" tabindex="-1"></a>   <span class="fu">xlab</span>(<span class="st">&quot;Month sold (factor)&quot;</span>)</span>
<span id="cb347-10"><a href="lesson-5c-visual-data-exploration.html#cb347-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb347-11"><a href="lesson-5c-visual-data-exploration.html#cb347-11" aria-hidden="true" tabindex="-1"></a><span class="co"># Display both plots side by side</span></span>
<span id="cb347-12"><a href="lesson-5c-visual-data-exploration.html#cb347-12" aria-hidden="true" tabindex="-1"></a><span class="fu">grid.arrange</span>(p1, p2, <span class="at">nrow =</span> <span class="dv">2</span>)</span></code></pre></div>
<p><img src="_main_files/figure-html/unnamed-chunk-435-1.png" width="576" style="display: block; margin: auto;" /></p>
</div>
<div id="dot-plots" class="section level3 hasAnchor" number="20.3.6">
<h3><span class="header-section-number">20.3.6</span> Dot plots<a href="lesson-5c-visual-data-exploration.html#dot-plots" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Basic bar charts are great when the number of categories is small. As the number of categories increases, the bars can become squished together and distract attention from the main insights of the visual. Cleveland dot plots (or just dot plots) and lollipop charts, like bar charts, are useful for visualizing discrete distributions (e.g., tables or the frequencies of different categories) while being more economical in ink.</p>
<p>For example, if we can use <code>geom_point()</code> to construct a dot plot of the relative frequencies of home sales across the 28 within the Ames housing data set.</p>
<div class="sourceCode" id="cb348"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb348-1"><a href="lesson-5c-visual-data-exploration.html#cb348-1" aria-hidden="true" tabindex="-1"></a>p1 <span class="ot">&lt;-</span> ames <span class="sc">%&gt;%</span>  </span>
<span id="cb348-2"><a href="lesson-5c-visual-data-exploration.html#cb348-2" aria-hidden="true" tabindex="-1"></a>   <span class="fu">count</span>(Neighborhood) <span class="sc">%&gt;%</span></span>
<span id="cb348-3"><a href="lesson-5c-visual-data-exploration.html#cb348-3" aria-hidden="true" tabindex="-1"></a>   <span class="fu">mutate</span>(<span class="at">pct =</span> n <span class="sc">/</span> <span class="fu">sum</span>(n)) <span class="sc">%&gt;%</span></span>
<span id="cb348-4"><a href="lesson-5c-visual-data-exploration.html#cb348-4" aria-hidden="true" tabindex="-1"></a>   <span class="fu">ggplot</span>(<span class="fu">aes</span>(pct, <span class="fu">reorder</span>(Neighborhood, pct))) <span class="sc">+</span></span>
<span id="cb348-5"><a href="lesson-5c-visual-data-exploration.html#cb348-5" aria-hidden="true" tabindex="-1"></a>   <span class="fu">geom_point</span>() <span class="sc">+</span></span>
<span id="cb348-6"><a href="lesson-5c-visual-data-exploration.html#cb348-6" aria-hidden="true" tabindex="-1"></a>   <span class="fu">labs</span>(<span class="at">x =</span> <span class="st">&quot;Relative frequency&quot;</span>, <span class="at">y =</span> <span class="st">&quot;Neighborhood&quot;</span>)</span></code></pre></div>
<p>Similar to a dot plot, a lollipop chart minimizes the visual ink but uses a line to draw the readers attention to the specific<br />
x
-axis value of each category. To create a lollipop chart, we use <code>geom_segment()</code> to add lines to the previous plot; we explicitly state that we want the lines to start at <code>x = 0</code> and extend to the corresponding relative frequency with <code>xend = pct</code>. We also need to include <code>y = Neighborhood</code> and <code>yend = Neighborhood</code> so that we get one line segment for each neighborhood.</p>
<div class="sourceCode" id="cb349"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb349-1"><a href="lesson-5c-visual-data-exploration.html#cb349-1" aria-hidden="true" tabindex="-1"></a>p2 <span class="ot">&lt;-</span> p1 <span class="sc">+</span></span>
<span id="cb349-2"><a href="lesson-5c-visual-data-exploration.html#cb349-2" aria-hidden="true" tabindex="-1"></a>   <span class="fu">geom_segment</span>(</span>
<span id="cb349-3"><a href="lesson-5c-visual-data-exploration.html#cb349-3" aria-hidden="true" tabindex="-1"></a>      <span class="fu">aes</span>(<span class="at">x =</span> <span class="dv">0</span>, <span class="at">xend =</span> pct, <span class="at">y =</span> Neighborhood, <span class="at">yend =</span> Neighborhood),</span>
<span id="cb349-4"><a href="lesson-5c-visual-data-exploration.html#cb349-4" aria-hidden="true" tabindex="-1"></a>      <span class="at">size =</span> <span class="fl">0.15</span></span>
<span id="cb349-5"><a href="lesson-5c-visual-data-exploration.html#cb349-5" aria-hidden="true" tabindex="-1"></a>      )</span>
<span id="cb349-6"><a href="lesson-5c-visual-data-exploration.html#cb349-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb349-7"><a href="lesson-5c-visual-data-exploration.html#cb349-7" aria-hidden="true" tabindex="-1"></a>gridExtra<span class="sc">::</span><span class="fu">grid.arrange</span>(p1, p2, <span class="at">nrow =</span> <span class="dv">1</span>)</span></code></pre></div>
<p><img src="_main_files/figure-html/unnamed-chunk-437-1.png" width="1152" style="display: block; margin: auto;" /></p>
<p>This makes it clear that some neighborhoods have minimal representation (i.e.Â Green Hills, Landmark). And we can always verify this numerically.</p>
<div class="sourceCode" id="cb350"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb350-1"><a href="lesson-5c-visual-data-exploration.html#cb350-1" aria-hidden="true" tabindex="-1"></a>ames <span class="sc">%&gt;%</span>  </span>
<span id="cb350-2"><a href="lesson-5c-visual-data-exploration.html#cb350-2" aria-hidden="true" tabindex="-1"></a>   <span class="fu">count</span>(Neighborhood) <span class="sc">%&gt;%</span></span>
<span id="cb350-3"><a href="lesson-5c-visual-data-exploration.html#cb350-3" aria-hidden="true" tabindex="-1"></a>   <span class="fu">mutate</span>(<span class="at">pct =</span> n <span class="sc">/</span> <span class="fu">sum</span>(n)) <span class="sc">%&gt;%</span></span>
<span id="cb350-4"><a href="lesson-5c-visual-data-exploration.html#cb350-4" aria-hidden="true" tabindex="-1"></a>   <span class="fu">arrange</span>(pct)</span>
<span id="cb350-5"><a href="lesson-5c-visual-data-exploration.html#cb350-5" aria-hidden="true" tabindex="-1"></a><span class="do">## # A tibble: 28 Ã 3</span></span>
<span id="cb350-6"><a href="lesson-5c-visual-data-exploration.html#cb350-6" aria-hidden="true" tabindex="-1"></a><span class="do">##    Neighborhood            n      pct</span></span>
<span id="cb350-7"><a href="lesson-5c-visual-data-exploration.html#cb350-7" aria-hidden="true" tabindex="-1"></a><span class="do">##    &lt;fct&gt;               &lt;int&gt;    &lt;dbl&gt;</span></span>
<span id="cb350-8"><a href="lesson-5c-visual-data-exploration.html#cb350-8" aria-hidden="true" tabindex="-1"></a><span class="do">##  1 Landmark                1 0.000341</span></span>
<span id="cb350-9"><a href="lesson-5c-visual-data-exploration.html#cb350-9" aria-hidden="true" tabindex="-1"></a><span class="do">##  2 Green_Hills             2 0.000683</span></span>
<span id="cb350-10"><a href="lesson-5c-visual-data-exploration.html#cb350-10" aria-hidden="true" tabindex="-1"></a><span class="do">##  3 Greens                  8 0.00273 </span></span>
<span id="cb350-11"><a href="lesson-5c-visual-data-exploration.html#cb350-11" aria-hidden="true" tabindex="-1"></a><span class="do">##  4 Blueste                10 0.00341 </span></span>
<span id="cb350-12"><a href="lesson-5c-visual-data-exploration.html#cb350-12" aria-hidden="true" tabindex="-1"></a><span class="do">##  5 Northpark_Villa        23 0.00785 </span></span>
<span id="cb350-13"><a href="lesson-5c-visual-data-exploration.html#cb350-13" aria-hidden="true" tabindex="-1"></a><span class="do">##  6 Veenker                24 0.00819 </span></span>
<span id="cb350-14"><a href="lesson-5c-visual-data-exploration.html#cb350-14" aria-hidden="true" tabindex="-1"></a><span class="do">##  7 Bloomington_Heights    28 0.00956 </span></span>
<span id="cb350-15"><a href="lesson-5c-visual-data-exploration.html#cb350-15" aria-hidden="true" tabindex="-1"></a><span class="do">##  8 Briardale              30 0.0102  </span></span>
<span id="cb350-16"><a href="lesson-5c-visual-data-exploration.html#cb350-16" aria-hidden="true" tabindex="-1"></a><span class="do">##  9 Meadow_Village         37 0.0126  </span></span>
<span id="cb350-17"><a href="lesson-5c-visual-data-exploration.html#cb350-17" aria-hidden="true" tabindex="-1"></a><span class="do">## 10 Clear_Creek            44 0.0150  </span></span>
<span id="cb350-18"><a href="lesson-5c-visual-data-exploration.html#cb350-18" aria-hidden="true" tabindex="-1"></a><span class="do">## # â¦ with 18 more rows</span></span></code></pre></div>
<p>This could inform us to lump all neighborhoods that appear fewer than 1% of the time into a single category.</p>
<div class="sourceCode" id="cb351"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb351-1"><a href="lesson-5c-visual-data-exploration.html#cb351-1" aria-hidden="true" tabindex="-1"></a>ames <span class="sc">%&gt;%</span>  </span>
<span id="cb351-2"><a href="lesson-5c-visual-data-exploration.html#cb351-2" aria-hidden="true" tabindex="-1"></a>   <span class="fu">mutate</span>(<span class="at">Neighborhood =</span> <span class="fu">fct_lump_prop</span>(Neighborhood, <span class="fl">0.01</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb351-3"><a href="lesson-5c-visual-data-exploration.html#cb351-3" aria-hidden="true" tabindex="-1"></a>   <span class="fu">count</span>(Neighborhood) <span class="sc">%&gt;%</span></span>
<span id="cb351-4"><a href="lesson-5c-visual-data-exploration.html#cb351-4" aria-hidden="true" tabindex="-1"></a>   <span class="fu">mutate</span>(<span class="at">pct =</span> n <span class="sc">/</span> <span class="fu">sum</span>(n)) <span class="sc">%&gt;%</span></span>
<span id="cb351-5"><a href="lesson-5c-visual-data-exploration.html#cb351-5" aria-hidden="true" tabindex="-1"></a>   <span class="fu">ggplot</span>(<span class="fu">aes</span>(pct, <span class="fu">reorder</span>(Neighborhood, pct))) <span class="sc">+</span></span>
<span id="cb351-6"><a href="lesson-5c-visual-data-exploration.html#cb351-6" aria-hidden="true" tabindex="-1"></a>   <span class="fu">geom_point</span>() <span class="sc">+</span></span>
<span id="cb351-7"><a href="lesson-5c-visual-data-exploration.html#cb351-7" aria-hidden="true" tabindex="-1"></a>   <span class="fu">labs</span>(<span class="at">x =</span> <span class="st">&quot;Relative frequency&quot;</span>, <span class="at">y =</span> <span class="st">&quot;Neighborhood&quot;</span>) <span class="sc">+</span></span>
<span id="cb351-8"><a href="lesson-5c-visual-data-exploration.html#cb351-8" aria-hidden="true" tabindex="-1"></a>   <span class="fu">geom_segment</span>(</span>
<span id="cb351-9"><a href="lesson-5c-visual-data-exploration.html#cb351-9" aria-hidden="true" tabindex="-1"></a>      <span class="fu">aes</span>(<span class="at">x =</span> <span class="dv">0</span>, <span class="at">xend =</span> pct, <span class="at">y =</span> Neighborhood, <span class="at">yend =</span> Neighborhood),</span>
<span id="cb351-10"><a href="lesson-5c-visual-data-exploration.html#cb351-10" aria-hidden="true" tabindex="-1"></a>      <span class="at">size =</span> <span class="fl">0.15</span></span>
<span id="cb351-11"><a href="lesson-5c-visual-data-exploration.html#cb351-11" aria-hidden="true" tabindex="-1"></a>   )</span></code></pre></div>
<p><img src="_main_files/figure-html/unnamed-chunk-439-1.png" width="576" style="display: block; margin: auto;" /></p>
</div>
<div id="pie-charts" class="section level3 hasAnchor" number="20.3.7">
<h3><span class="header-section-number">20.3.7</span> Pie charts<a href="lesson-5c-visual-data-exploration.html#pie-charts" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Donât use them.</p>
</div>
<div id="knowledge-check-48" class="section level3 hasAnchor" number="20.3.8">
<h3><span class="header-section-number">20.3.8</span> Knowledge check<a href="lesson-5c-visual-data-exploration.html#knowledge-check-48" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<div class="todo">
<ol style="list-style-type: decimal">
<li>
Assess the distribution of square footage (<code>Gr_Liv_Area</code>)
across the homes sold. Is this feature normally distributed or is it
skewed? Do there appear to be some outliers in this feature? What are
the most common square footages across the homes.
</li>
<li>
Assess the distribution of the age of the homes across the homes
sold. To do this focus on the feature <code>Year_Built</code>. Is this
feature normally distributed or is it skewed? Do there appear to be some
outliers in this feature? What are the most common bins of years that
homes were built.
</li>
<li>
Assess the <code>Overall_Qual</code> of homes sold. What percentages
of homes fall in each of the quality levels?
</li>
</ol>
</div>
</div>
</div>
<div id="bivariate-relationships" class="section level2 hasAnchor" number="20.4">
<h2><span class="header-section-number">20.4</span> Bivariate relationships<a href="lesson-5c-visual-data-exploration.html#bivariate-relationships" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>Beyond understanding the distribution of each individual variable, we often want to investigate associations and relationships between variables. When visualizing the relationship between two or more variables we are generally interested in identifying potential associations, outliers, clusters, gaps, barriers, and change points.</p>
<div id="scatter-plots" class="section level3 hasAnchor" number="20.4.1">
<h3><span class="header-section-number">20.4.1</span> Scatter plots<a href="lesson-5c-visual-data-exploration.html#scatter-plots" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>The easiest way to assess the relationship between two continuous variables is to use a scatter plot, one of the most important statistical graphics. A scatter plot graphs two continuous variables directly against each other (one variable on each axis).</p>
<p>Below we assess the relationship between sale price (<code>Sale_Price</code>) and the square footage of above ground living area (<code>Gr_Liv_Area</code>). To limit the effect of over plotting, a common issue with scatter plot of large data sets, we lower the opacity of the individual points with <code>alpha</code>.</p>
<div class="sourceCode" id="cb352"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb352-1"><a href="lesson-5c-visual-data-exploration.html#cb352-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(ames, <span class="fu">aes</span>(<span class="at">x =</span> Gr_Liv_Area, <span class="at">y =</span> Sale_Price)) <span class="sc">+</span></span>
<span id="cb352-2"><a href="lesson-5c-visual-data-exploration.html#cb352-2" aria-hidden="true" tabindex="-1"></a>   <span class="fu">geom_point</span>(<span class="at">alpha =</span> <span class="fl">0.1</span>) <span class="sc">+</span></span>
<span id="cb352-3"><a href="lesson-5c-visual-data-exploration.html#cb352-3" aria-hidden="true" tabindex="-1"></a>   <span class="fu">scale_x_continuous</span>(<span class="at">labels =</span> scales<span class="sc">::</span>comma) <span class="sc">+</span></span>
<span id="cb352-4"><a href="lesson-5c-visual-data-exploration.html#cb352-4" aria-hidden="true" tabindex="-1"></a>   <span class="fu">scale_y_continuous</span>(<span class="at">labels =</span> scales<span class="sc">::</span>dollar)</span></code></pre></div>
<p><img src="_main_files/figure-html/unnamed-chunk-441-1.png" width="576" style="display: block; margin: auto;" /></p>
<p>It is fairly evident from our scatter plot that there is a generally positive association between <code>Gr_Liv_Area</code> and <code>Sale_Price</code> (this <strong>does not</strong> imply any causal association between them). Five potential outliers with <code>Gr_liv_Area</code> &gt; 4000 are also apparent. We also gain a general understanding of the joint density of these two variables (e.g., dense regions/clusters of data points indicate reasonable combinations of <code>Gr_liv_Area</code> and <code>Sale_Price</code>). For example, it is not very likely to find a home that will sell for more than $400K that less than 1.5K (sq. ft.) of above ground living area.</p>
<p>The relationship between <code>Gr_Liv_Area</code> and <code>Sale_Price</code> appears to be fairly linear, but the variability in <code>Sale_Price</code> increases with <code>Gr_Liv_Area</code> (probably due to the positive skewness associated with both variables); this non-constant variance is called <em>heteroscedasticiy</em>. To help guide our eyes in interpreting trends between two variables, we can add parametric and/or non-parametric trend lines, which we can do so with <code>geom_smooth()</code>. Here we add two different trend lines:</p>
<ul>
<li><p><code>method = "lm"</code> draw a trend line of the form <span class="math inline">\(\beta_0 + \beta_1\)</span><code>Gr_Liv_Area</code>, where the <span class="math inline">\(y\)</span>-intercept (<span class="math inline">\(\beta_0\)</span>) and the slope (<span class="math inline">\(\beta_1\)</span>) are estimated from the observed data;</p></li>
<li><p><code>method = "auto"</code> use the number of observations to choose an appropriate non-parametric smoother (i.e., let the trend be dictated by the observed data).</p></li>
</ul>
<p>Note that for both trend lines we used <code>se = FALSE</code> to suppress plotting +/-2 standard error bands. Our plot shows that for homes with less than 2,250 square feet the relationship is fairly linear; however, beyond 2,250 square feet we see strong deviations from linearity. For reference, we also included the same plot, but with both axes on the <span class="math inline">\(log_{10}\)</span> scale. Notice how this transformation helps to alleviate, to some extent, the heteroskedacticy noted earlier.</p>
<div class="sourceCode" id="cb353"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb353-1"><a href="lesson-5c-visual-data-exploration.html#cb353-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Better colors for the trend lines</span></span>
<span id="cb353-2"><a href="lesson-5c-visual-data-exploration.html#cb353-2" aria-hidden="true" tabindex="-1"></a>set1 <span class="ot">&lt;-</span> RColorBrewer<span class="sc">::</span><span class="fu">brewer.pal</span>(<span class="at">n =</span> <span class="dv">9</span>, <span class="at">name =</span> <span class="st">&quot;Set1&quot;</span>)</span>
<span id="cb353-3"><a href="lesson-5c-visual-data-exploration.html#cb353-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb353-4"><a href="lesson-5c-visual-data-exploration.html#cb353-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Scatter plot with trend lines</span></span>
<span id="cb353-5"><a href="lesson-5c-visual-data-exploration.html#cb353-5" aria-hidden="true" tabindex="-1"></a>p1 <span class="ot">&lt;-</span> <span class="fu">ggplot</span>(ames, <span class="fu">aes</span>(<span class="at">x =</span> Gr_Liv_Area, <span class="at">y =</span> Sale_Price)) <span class="sc">+</span></span>
<span id="cb353-6"><a href="lesson-5c-visual-data-exploration.html#cb353-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>(<span class="at">alpha =</span> <span class="fl">0.1</span>) <span class="sc">+</span></span>
<span id="cb353-7"><a href="lesson-5c-visual-data-exploration.html#cb353-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_smooth</span>(<span class="at">method =</span> <span class="st">&quot;lm&quot;</span>, <span class="at">se =</span> <span class="cn">FALSE</span>, <span class="at">color =</span> set1[<span class="dv">1</span>]) <span class="sc">+</span></span>
<span id="cb353-8"><a href="lesson-5c-visual-data-exploration.html#cb353-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_smooth</span>(<span class="at">method =</span> <span class="st">&quot;auto&quot;</span>, <span class="at">se =</span> <span class="cn">FALSE</span>, <span class="at">color =</span> set1[<span class="dv">2</span>])</span>
<span id="cb353-9"><a href="lesson-5c-visual-data-exploration.html#cb353-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb353-10"><a href="lesson-5c-visual-data-exploration.html#cb353-10" aria-hidden="true" tabindex="-1"></a><span class="co"># Scatter plot with trend lines (log10 scale)</span></span>
<span id="cb353-11"><a href="lesson-5c-visual-data-exploration.html#cb353-11" aria-hidden="true" tabindex="-1"></a>p2 <span class="ot">&lt;-</span> <span class="fu">ggplot</span>(ames, <span class="fu">aes</span>(<span class="at">x =</span> Gr_Liv_Area, <span class="at">y =</span> Sale_Price)) <span class="sc">+</span></span>
<span id="cb353-12"><a href="lesson-5c-visual-data-exploration.html#cb353-12" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>(<span class="at">alpha =</span> <span class="fl">0.1</span>) <span class="sc">+</span></span>
<span id="cb353-13"><a href="lesson-5c-visual-data-exploration.html#cb353-13" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_smooth</span>(<span class="at">method =</span> <span class="st">&quot;lm&quot;</span>, <span class="at">se =</span> <span class="cn">FALSE</span>, <span class="at">color =</span> set1[<span class="dv">1</span>]) <span class="sc">+</span></span>
<span id="cb353-14"><a href="lesson-5c-visual-data-exploration.html#cb353-14" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_smooth</span>(<span class="at">method =</span> <span class="st">&quot;auto&quot;</span>, <span class="at">se =</span> <span class="cn">FALSE</span>, <span class="at">color =</span> set1[<span class="dv">2</span>]) <span class="sc">+</span></span>
<span id="cb353-15"><a href="lesson-5c-visual-data-exploration.html#cb353-15" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_x_log10</span>() <span class="sc">+</span></span>
<span id="cb353-16"><a href="lesson-5c-visual-data-exploration.html#cb353-16" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_y_log10</span>()</span>
<span id="cb353-17"><a href="lesson-5c-visual-data-exploration.html#cb353-17" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb353-18"><a href="lesson-5c-visual-data-exploration.html#cb353-18" aria-hidden="true" tabindex="-1"></a><span class="co"># Display plots side by side</span></span>
<span id="cb353-19"><a href="lesson-5c-visual-data-exploration.html#cb353-19" aria-hidden="true" tabindex="-1"></a><span class="fu">grid.arrange</span>(p1, p2, <span class="at">ncol =</span> <span class="dv">2</span>)</span></code></pre></div>
<p><img src="_main_files/figure-html/unnamed-chunk-442-1.png" width="1152" style="display: block; margin: auto;" /></p>
<p>Scatter plots can also several distinct clustering or gaps. We can add a density plot onto our scatter plot to highlight multiple clusters or how the density of points spread out. We can also change our plot to a hexbin plot, that replaces bunches of points with a larger hexagonal symbol. This provides us with a heatmap-like plot to signal highly concentrated regions. It also does a better job identifying gaps in our data where no observations exist.</p>
<p>This is illustrated below which graphs <code>Sale_Price</code> versus <code>Garage_Area</code>. By incorporating a 2-D KDE (middle) we draw attention to the higher density areas which appear to be located at homes with <code>Garage_Area = 0</code>, and homes where <code>250 &lt; Garage_Area &lt; 500</code>. Similar observations can be drawn from the hexagonal heat map (right).</p>
<div class="sourceCode" id="cb354"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb354-1"><a href="lesson-5c-visual-data-exploration.html#cb354-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Scatter plot</span></span>
<span id="cb354-2"><a href="lesson-5c-visual-data-exploration.html#cb354-2" aria-hidden="true" tabindex="-1"></a>p1 <span class="ot">&lt;-</span> <span class="fu">ggplot</span>(ames, <span class="fu">aes</span>(<span class="at">x =</span> Garage_Area, <span class="at">y =</span> Sale_Price)) <span class="sc">+</span> </span>
<span id="cb354-3"><a href="lesson-5c-visual-data-exploration.html#cb354-3" aria-hidden="true" tabindex="-1"></a>   <span class="fu">geom_point</span>(<span class="at">alpha =</span> <span class="fl">0.2</span>)</span>
<span id="cb354-4"><a href="lesson-5c-visual-data-exploration.html#cb354-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb354-5"><a href="lesson-5c-visual-data-exploration.html#cb354-5" aria-hidden="true" tabindex="-1"></a><span class="co"># Scatter plot with 2-D KDE</span></span>
<span id="cb354-6"><a href="lesson-5c-visual-data-exploration.html#cb354-6" aria-hidden="true" tabindex="-1"></a>p2 <span class="ot">&lt;-</span> <span class="fu">ggplot</span>(ames, <span class="fu">aes</span>(<span class="at">x =</span> Garage_Area, <span class="at">y =</span> Sale_Price)) <span class="sc">+</span> </span>
<span id="cb354-7"><a href="lesson-5c-visual-data-exploration.html#cb354-7" aria-hidden="true" tabindex="-1"></a>   <span class="fu">geom_point</span>(<span class="at">alpha =</span> <span class="fl">0.1</span>) <span class="sc">+</span></span>
<span id="cb354-8"><a href="lesson-5c-visual-data-exploration.html#cb354-8" aria-hidden="true" tabindex="-1"></a>   <span class="fu">stat_density2d</span>(<span class="fu">aes</span>(<span class="at">fill =</span> <span class="fu">stat</span>(level)), <span class="at">geom =</span> <span class="st">&quot;polygon&quot;</span>) <span class="sc">+</span></span>
<span id="cb354-9"><a href="lesson-5c-visual-data-exploration.html#cb354-9" aria-hidden="true" tabindex="-1"></a>   viridis<span class="sc">::</span><span class="fu">scale_fill_viridis</span>(<span class="at">option =</span> <span class="st">&quot;A&quot;</span>) <span class="sc">+</span></span>
<span id="cb354-10"><a href="lesson-5c-visual-data-exploration.html#cb354-10" aria-hidden="true" tabindex="-1"></a>   <span class="fu">theme</span>(<span class="at">legend.position =</span> <span class="st">&quot;none&quot;</span>)</span>
<span id="cb354-11"><a href="lesson-5c-visual-data-exploration.html#cb354-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb354-12"><a href="lesson-5c-visual-data-exploration.html#cb354-12" aria-hidden="true" tabindex="-1"></a><span class="co"># heat map of hexagonal bin counts</span></span>
<span id="cb354-13"><a href="lesson-5c-visual-data-exploration.html#cb354-13" aria-hidden="true" tabindex="-1"></a>p3 <span class="ot">&lt;-</span> <span class="fu">ggplot</span>(ames, <span class="fu">aes</span>(<span class="at">x =</span> Garage_Area, <span class="at">y =</span> Sale_Price)) <span class="sc">+</span> </span>
<span id="cb354-14"><a href="lesson-5c-visual-data-exploration.html#cb354-14" aria-hidden="true" tabindex="-1"></a>   <span class="fu">geom_hex</span>(<span class="at">bins =</span> <span class="dv">50</span>, <span class="at">show.legend =</span> <span class="cn">FALSE</span>) <span class="sc">+</span></span>
<span id="cb354-15"><a href="lesson-5c-visual-data-exploration.html#cb354-15" aria-hidden="true" tabindex="-1"></a>   viridis<span class="sc">::</span><span class="fu">scale_fill_viridis</span>(<span class="at">option =</span> <span class="st">&quot;D&quot;</span>)  <span class="co"># &quot;D&quot; is the default</span></span>
<span id="cb354-16"><a href="lesson-5c-visual-data-exploration.html#cb354-16" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb354-17"><a href="lesson-5c-visual-data-exploration.html#cb354-17" aria-hidden="true" tabindex="-1"></a><span class="co"># Display plots side by side</span></span>
<span id="cb354-18"><a href="lesson-5c-visual-data-exploration.html#cb354-18" aria-hidden="true" tabindex="-1"></a><span class="fu">grid.arrange</span>(p1, p2, p3, <span class="at">ncol =</span> <span class="dv">3</span>)</span></code></pre></div>
<p><img src="_main_files/figure-html/unnamed-chunk-443-1.png" width="1152" style="display: block; margin: auto;" /></p>
</div>
<div id="strip-plots" class="section level3 hasAnchor" number="20.4.2">
<h3><span class="header-section-number">20.4.2</span> Strip plots<a href="lesson-5c-visual-data-exploration.html#strip-plots" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>A scatter plot of a continuous variable against a categorical variable is referred to as a strip plot. Strip plots can be useful in practice, but it is generally advisable to use box plots (and there extensions) instead. Below we plot <code>Sale_Price</code> against the number of above ground bedrooms (<code>Bedroom_AbvGr</code>). Due to the size of this data set, the strip plot (top left) suffers from over plotting. We can use <code>geom_jitter()</code> to add a some random variation to points within each category (top right), which allows us to see where heavier concentrations of points exist. Alternatively, we can use box plots and violin plots to compare the distributions of <code>Sale_Price</code> to <code>Bedroom_AbvGr</code> (bottom row).</p>
<div class="sourceCode" id="cb355"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb355-1"><a href="lesson-5c-visual-data-exploration.html#cb355-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Convert to an ordered factor</span></span>
<span id="cb355-2"><a href="lesson-5c-visual-data-exploration.html#cb355-2" aria-hidden="true" tabindex="-1"></a>ames<span class="sc">$</span>Bedroom_AbvGr <span class="ot">&lt;-</span> <span class="fu">as.ordered</span>(ames<span class="sc">$</span>Bedroom_AbvGr)</span>
<span id="cb355-3"><a href="lesson-5c-visual-data-exploration.html#cb355-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb355-4"><a href="lesson-5c-visual-data-exploration.html#cb355-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Strip plot</span></span>
<span id="cb355-5"><a href="lesson-5c-visual-data-exploration.html#cb355-5" aria-hidden="true" tabindex="-1"></a>p1 <span class="ot">&lt;-</span> <span class="fu">ggplot</span>(ames, <span class="fu">aes</span>(<span class="at">x =</span> Bedroom_AbvGr, <span class="at">y =</span> Sale_Price)) <span class="sc">+</span></span>
<span id="cb355-6"><a href="lesson-5c-visual-data-exploration.html#cb355-6" aria-hidden="true" tabindex="-1"></a>   <span class="fu">geom_point</span>(<span class="at">alpha =</span> <span class="fl">0.1</span>) <span class="sc">+</span></span>
<span id="cb355-7"><a href="lesson-5c-visual-data-exploration.html#cb355-7" aria-hidden="true" tabindex="-1"></a>   <span class="fu">ggtitle</span>(<span class="st">&quot;Scatter plot&quot;</span>)</span>
<span id="cb355-8"><a href="lesson-5c-visual-data-exploration.html#cb355-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb355-9"><a href="lesson-5c-visual-data-exploration.html#cb355-9" aria-hidden="true" tabindex="-1"></a><span class="co"># Strip plot (with jittering)</span></span>
<span id="cb355-10"><a href="lesson-5c-visual-data-exploration.html#cb355-10" aria-hidden="true" tabindex="-1"></a>p2 <span class="ot">&lt;-</span> <span class="fu">ggplot</span>(ames, <span class="fu">aes</span>(<span class="at">x =</span> Bedroom_AbvGr, <span class="at">y =</span> Sale_Price)) <span class="sc">+</span></span>
<span id="cb355-11"><a href="lesson-5c-visual-data-exploration.html#cb355-11" aria-hidden="true" tabindex="-1"></a>   <span class="fu">geom_jitter</span>(<span class="at">alpha =</span> <span class="fl">0.1</span>, <span class="at">width =</span> <span class="fl">0.2</span>) <span class="sc">+</span></span>
<span id="cb355-12"><a href="lesson-5c-visual-data-exploration.html#cb355-12" aria-hidden="true" tabindex="-1"></a>   <span class="fu">ggtitle</span>(<span class="st">&quot;Strip plot&quot;</span>)</span>
<span id="cb355-13"><a href="lesson-5c-visual-data-exploration.html#cb355-13" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb355-14"><a href="lesson-5c-visual-data-exploration.html#cb355-14" aria-hidden="true" tabindex="-1"></a><span class="co"># Box plots</span></span>
<span id="cb355-15"><a href="lesson-5c-visual-data-exploration.html#cb355-15" aria-hidden="true" tabindex="-1"></a>p3 <span class="ot">&lt;-</span> <span class="fu">ggplot</span>(ames, <span class="fu">aes</span>(<span class="at">x =</span> Bedroom_AbvGr, <span class="at">y =</span> Sale_Price)) <span class="sc">+</span></span>
<span id="cb355-16"><a href="lesson-5c-visual-data-exploration.html#cb355-16" aria-hidden="true" tabindex="-1"></a>   <span class="fu">geom_boxplot</span>() <span class="sc">+</span></span>
<span id="cb355-17"><a href="lesson-5c-visual-data-exploration.html#cb355-17" aria-hidden="true" tabindex="-1"></a>   <span class="fu">ggtitle</span>(<span class="st">&quot;Box plot&quot;</span>)</span>
<span id="cb355-18"><a href="lesson-5c-visual-data-exploration.html#cb355-18" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb355-19"><a href="lesson-5c-visual-data-exploration.html#cb355-19" aria-hidden="true" tabindex="-1"></a><span class="co"># Violin plots</span></span>
<span id="cb355-20"><a href="lesson-5c-visual-data-exploration.html#cb355-20" aria-hidden="true" tabindex="-1"></a>p4 <span class="ot">&lt;-</span> <span class="fu">ggplot</span>(ames, <span class="fu">aes</span>(<span class="at">x =</span> Bedroom_AbvGr, <span class="at">y =</span> Sale_Price)) <span class="sc">+</span></span>
<span id="cb355-21"><a href="lesson-5c-visual-data-exploration.html#cb355-21" aria-hidden="true" tabindex="-1"></a>   <span class="fu">geom_violin</span>() <span class="sc">+</span></span>
<span id="cb355-22"><a href="lesson-5c-visual-data-exploration.html#cb355-22" aria-hidden="true" tabindex="-1"></a>   <span class="fu">ggtitle</span>(<span class="st">&quot;Violin plot&quot;</span>)</span>
<span id="cb355-23"><a href="lesson-5c-visual-data-exploration.html#cb355-23" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb355-24"><a href="lesson-5c-visual-data-exploration.html#cb355-24" aria-hidden="true" tabindex="-1"></a><span class="co"># Display plots side by side</span></span>
<span id="cb355-25"><a href="lesson-5c-visual-data-exploration.html#cb355-25" aria-hidden="true" tabindex="-1"></a><span class="fu">grid.arrange</span>(p1, p2, p3, p4, <span class="at">nrow =</span> <span class="dv">2</span>)</span></code></pre></div>
<p><img src="_main_files/figure-html/04-comparing-groups-1.png" width="1152" style="display: block; margin: auto;" /></p>
</div>
<div id="overlays-faceting" class="section level3 hasAnchor" number="20.4.3">
<h3><span class="header-section-number">20.4.3</span> Overlays &amp; faceting<a href="lesson-5c-visual-data-exploration.html#overlays-faceting" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>An alternative approach to view the distribution of a continuous variable across multiple categories includes overlaying distribution plots. For example, we could assess the net sales value of households across the different sizes of households. We can do this with a frequency polygon (left), which display the outline of a histogram. However, since some quality levels have very low counts it is tough to see the distribution of net sales within each category. A better approach is to overlay density plots which allows us to see how each household sizeâs distribution differs from one another.</p>
<div class="sourceCode" id="cb356"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb356-1"><a href="lesson-5c-visual-data-exploration.html#cb356-1" aria-hidden="true" tabindex="-1"></a>p1 <span class="ot">&lt;-</span> <span class="fu">ggplot</span>(ames, <span class="fu">aes</span>(<span class="at">x =</span> Sale_Price, <span class="at">color =</span> Overall_Qual)) <span class="sc">+</span></span>
<span id="cb356-2"><a href="lesson-5c-visual-data-exploration.html#cb356-2" aria-hidden="true" tabindex="-1"></a>   <span class="fu">geom_freqpoly</span>() </span>
<span id="cb356-3"><a href="lesson-5c-visual-data-exploration.html#cb356-3" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb356-4"><a href="lesson-5c-visual-data-exploration.html#cb356-4" aria-hidden="true" tabindex="-1"></a>p2 <span class="ot">&lt;-</span> <span class="fu">ggplot</span>(ames, <span class="fu">aes</span>(<span class="at">x =</span> Sale_Price, <span class="at">color =</span> Overall_Qual, <span class="at">fill =</span> Overall_Qual)) <span class="sc">+</span></span>
<span id="cb356-5"><a href="lesson-5c-visual-data-exploration.html#cb356-5" aria-hidden="true" tabindex="-1"></a>   <span class="fu">geom_density</span>(<span class="at">alpha =</span> .<span class="dv">15</span>)</span>
<span id="cb356-6"><a href="lesson-5c-visual-data-exploration.html#cb356-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb356-7"><a href="lesson-5c-visual-data-exploration.html#cb356-7" aria-hidden="true" tabindex="-1"></a>gridExtra<span class="sc">::</span><span class="fu">grid.arrange</span>(p1, p2, <span class="at">nrow =</span> <span class="dv">2</span>)</span></code></pre></div>
<p><img src="_main_files/figure-html/unnamed-chunk-444-1.png" width="768" style="display: block; margin: auto;" /></p>
<p>When there are many levels in a categorical variable, overlaid plots become difficult to decipher. Rather than overlay plots, we can also use small multiples to compare the distribution of a continuous variable. Ridge plots provide a form of small multiples by partially overlapping distribution plots. They can be quite useful for visualizing changes in continuous distributions over discrete variable levels. In this example I use the <strong>ggridges</strong> package which provides an add-on <code>geom_density_ridges</code> for ggplot. This provides a clear picture how the sale price distribution changes (and increases) as the overall quality of the home increases.</p>
<div class="sourceCode" id="cb357"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb357-1"><a href="lesson-5c-visual-data-exploration.html#cb357-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(ames, <span class="fu">aes</span>(<span class="at">x =</span> Sale_Price, <span class="at">y =</span> Overall_Qual)) <span class="sc">+</span> </span>
<span id="cb357-2"><a href="lesson-5c-visual-data-exploration.html#cb357-2" aria-hidden="true" tabindex="-1"></a>   ggridges<span class="sc">::</span><span class="fu">geom_density_ridges</span>() <span class="sc">+</span></span>
<span id="cb357-3"><a href="lesson-5c-visual-data-exploration.html#cb357-3" aria-hidden="true" tabindex="-1"></a>   <span class="fu">scale_x_continuous</span>(<span class="at">labels =</span> scales<span class="sc">::</span>dollar)</span></code></pre></div>
<p><img src="_main_files/figure-html/unnamed-chunk-445-1.png" width="576" style="display: block; margin: auto;" /></p>
<p>We can also use faceting to understand how two or more categorical variables are associated with each other. For example, below we assess the quality of kitchens (<code>Kitchen_Qual</code>) for homes that sold above average (i.e., <code>Sale_Price &gt; mean(Sale_Price)</code>) or below average (i.e., <code>Sale_Price &gt; mean(Sale_Price)</code>). Not surprisingly, we see that that sold for above average tended to have higher quality kitchens.</p>
<div class="sourceCode" id="cb358"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb358-1"><a href="lesson-5c-visual-data-exploration.html#cb358-1" aria-hidden="true" tabindex="-1"></a>ames <span class="sc">%&gt;%</span></span>
<span id="cb358-2"><a href="lesson-5c-visual-data-exploration.html#cb358-2" aria-hidden="true" tabindex="-1"></a>   <span class="fu">mutate</span>(</span>
<span id="cb358-3"><a href="lesson-5c-visual-data-exploration.html#cb358-3" aria-hidden="true" tabindex="-1"></a>      <span class="at">Group =</span> <span class="fu">ifelse</span>(</span>
<span id="cb358-4"><a href="lesson-5c-visual-data-exploration.html#cb358-4" aria-hidden="true" tabindex="-1"></a>         Sale_Price <span class="sc">&gt;</span> <span class="fu">mean</span>(Sale_Price), </span>
<span id="cb358-5"><a href="lesson-5c-visual-data-exploration.html#cb358-5" aria-hidden="true" tabindex="-1"></a>         <span class="at">yes =</span> <span class="st">&quot;Sold above avg.&quot;</span>,</span>
<span id="cb358-6"><a href="lesson-5c-visual-data-exploration.html#cb358-6" aria-hidden="true" tabindex="-1"></a>         <span class="at">no =</span> <span class="st">&quot;Sold below avg.&quot;</span>),</span>
<span id="cb358-7"><a href="lesson-5c-visual-data-exploration.html#cb358-7" aria-hidden="true" tabindex="-1"></a>      <span class="at">Kitchen_Qual =</span> forcats<span class="sc">::</span><span class="fu">fct_relevel</span>(</span>
<span id="cb358-8"><a href="lesson-5c-visual-data-exploration.html#cb358-8" aria-hidden="true" tabindex="-1"></a>         Kitchen_Qual, <span class="st">&quot;Poor&quot;</span>, <span class="st">&quot;Fair&quot;</span>, <span class="st">&quot;Typical&quot;</span>, <span class="st">&quot;Good&quot;</span>, <span class="st">&quot;Excellent&quot;</span>)</span>
<span id="cb358-9"><a href="lesson-5c-visual-data-exploration.html#cb358-9" aria-hidden="true" tabindex="-1"></a>      ) <span class="sc">%&gt;%</span></span>
<span id="cb358-10"><a href="lesson-5c-visual-data-exploration.html#cb358-10" aria-hidden="true" tabindex="-1"></a>   <span class="fu">ggplot</span>(<span class="fu">aes</span>(Kitchen_Qual)) <span class="sc">+</span></span>
<span id="cb358-11"><a href="lesson-5c-visual-data-exploration.html#cb358-11" aria-hidden="true" tabindex="-1"></a>   <span class="fu">geom_bar</span>() <span class="sc">+</span></span>
<span id="cb358-12"><a href="lesson-5c-visual-data-exploration.html#cb358-12" aria-hidden="true" tabindex="-1"></a>   <span class="fu">facet_wrap</span>(<span class="sc">~</span> Group)</span></code></pre></div>
<p><img src="_main_files/figure-html/unnamed-chunk-446-1.png" width="768" style="display: block; margin: auto;" /></p>
</div>
</div>
<div id="multivariate-relationships" class="section level2 hasAnchor" number="20.5">
<h2><span class="header-section-number">20.5</span> Multivariate relationships<a href="lesson-5c-visual-data-exploration.html#multivariate-relationships" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>In most analyses, data are usually multivariate by nature, and the analytics are designed to capture and measure multivariate relationships. Visual exploration should therefore also incorporate this important aspect. We can extend the above basic principles and add in additional features to assess multidimensional relationships. One approach is to add additional variables with features such as color, shape, or size.</p>
<div id="layering-variables" class="section level3 hasAnchor" number="20.5.1">
<h3><span class="header-section-number">20.5.1</span> Layering variables<a href="lesson-5c-visual-data-exploration.html#layering-variables" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>For example, we can compare <code>Sale_Price</code> with <code>Gr_Liv_Area</code> using a simple scatter plot. We can also include information on other variables by using color, shape, and point size. For instance, we can use a different point shape and color to indicate homes with and without central air conditioning (<code>Central_Air</code>). The below plot illustrates that there are far more homes with central air; furthermore, the homes without central air tend to have less square footage and lower sale prices.</p>
<div class="sourceCode" id="cb359"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb359-1"><a href="lesson-5c-visual-data-exploration.html#cb359-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(ames, <span class="fu">aes</span>(</span>
<span id="cb359-2"><a href="lesson-5c-visual-data-exploration.html#cb359-2" aria-hidden="true" tabindex="-1"></a>   <span class="at">x =</span> Gr_Liv_Area, </span>
<span id="cb359-3"><a href="lesson-5c-visual-data-exploration.html#cb359-3" aria-hidden="true" tabindex="-1"></a>   <span class="at">y =</span> Sale_Price,</span>
<span id="cb359-4"><a href="lesson-5c-visual-data-exploration.html#cb359-4" aria-hidden="true" tabindex="-1"></a>   <span class="at">color =</span> Central_Air, <span class="at">shape =</span> Central_Air</span>
<span id="cb359-5"><a href="lesson-5c-visual-data-exploration.html#cb359-5" aria-hidden="true" tabindex="-1"></a>   )) <span class="sc">+</span></span>
<span id="cb359-6"><a href="lesson-5c-visual-data-exploration.html#cb359-6" aria-hidden="true" tabindex="-1"></a>   <span class="fu">geom_point</span>(<span class="at">alpha =</span> <span class="fl">0.3</span>) <span class="sc">+</span> </span>
<span id="cb359-7"><a href="lesson-5c-visual-data-exploration.html#cb359-7" aria-hidden="true" tabindex="-1"></a>   <span class="fu">theme</span>(<span class="at">legend.position =</span> <span class="st">&quot;top&quot;</span>)</span></code></pre></div>
<p><img src="_main_files/figure-html/lesson-5-plot-ac1-1.png" width="576" style="display: block; margin: auto;" /></p>
<p>Although we lowered the opacity of each point, the over crowded plot makes it difficult to distinguish the relationships between homes with and without air conditioning. Another approach is to use facetting which provides more clarity between the differences in air and non-air conditioned homes.</p>
<div class="sourceCode" id="cb360"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb360-1"><a href="lesson-5c-visual-data-exploration.html#cb360-1" aria-hidden="true" tabindex="-1"></a>ames <span class="sc">%&gt;%</span></span>
<span id="cb360-2"><a href="lesson-5c-visual-data-exploration.html#cb360-2" aria-hidden="true" tabindex="-1"></a>   <span class="fu">mutate</span>(<span class="at">Central_Air =</span> <span class="fu">fct_recode</span>(</span>
<span id="cb360-3"><a href="lesson-5c-visual-data-exploration.html#cb360-3" aria-hidden="true" tabindex="-1"></a>     Central_Air, </span>
<span id="cb360-4"><a href="lesson-5c-visual-data-exploration.html#cb360-4" aria-hidden="true" tabindex="-1"></a>     <span class="st">&quot;With A/C&quot;</span> <span class="ot">=</span> <span class="st">&quot;Y&quot;</span>,</span>
<span id="cb360-5"><a href="lesson-5c-visual-data-exploration.html#cb360-5" aria-hidden="true" tabindex="-1"></a>     <span class="st">&quot;Without A/C&quot;</span> <span class="ot">=</span> <span class="st">&quot;N&quot;</span></span>
<span id="cb360-6"><a href="lesson-5c-visual-data-exploration.html#cb360-6" aria-hidden="true" tabindex="-1"></a>   )) <span class="sc">%&gt;%</span></span>
<span id="cb360-7"><a href="lesson-5c-visual-data-exploration.html#cb360-7" aria-hidden="true" tabindex="-1"></a>   <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x =</span> Gr_Liv_Area, <span class="at">y =</span> Sale_Price)) <span class="sc">+</span></span>
<span id="cb360-8"><a href="lesson-5c-visual-data-exploration.html#cb360-8" aria-hidden="true" tabindex="-1"></a>   <span class="fu">geom_hex</span>(<span class="at">bins =</span> <span class="dv">50</span>, <span class="at">show.legend =</span> <span class="cn">FALSE</span>) <span class="sc">+</span></span>
<span id="cb360-9"><a href="lesson-5c-visual-data-exploration.html#cb360-9" aria-hidden="true" tabindex="-1"></a>   <span class="fu">facet_wrap</span>(<span class="sc">~</span>Central_Air)  <span class="sc">+</span></span>
<span id="cb360-10"><a href="lesson-5c-visual-data-exploration.html#cb360-10" aria-hidden="true" tabindex="-1"></a>   viridis<span class="sc">::</span><span class="fu">scale_fill_viridis</span>(<span class="at">option =</span> <span class="st">&quot;D&quot;</span>)</span></code></pre></div>
<p><img src="_main_files/figure-html/lesson-5-plot-ac2-1.png" width="768" style="display: block; margin: auto;" /></p>
<p>However, as before, when there are many levels in a categorical variable it becomes hard to compare differences by only incorporating color or shape features. An alternative is to create small multiples. Below we compare the relationship between <code>Sale_Price</code> and <code>Gr_Liv_Area</code> and how this relationship differs across the different house styles (<code>House_Style</code>).</p>
<div class="sourceCode" id="cb361"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb361-1"><a href="lesson-5c-visual-data-exploration.html#cb361-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(ames, <span class="fu">aes</span>(<span class="at">x =</span> Gr_Liv_Area, <span class="at">y =</span> Sale_Price)) <span class="sc">+</span></span>
<span id="cb361-2"><a href="lesson-5c-visual-data-exploration.html#cb361-2" aria-hidden="true" tabindex="-1"></a>   <span class="fu">geom_point</span>(<span class="at">alpha =</span> <span class="fl">0.2</span>) <span class="sc">+</span></span>
<span id="cb361-3"><a href="lesson-5c-visual-data-exploration.html#cb361-3" aria-hidden="true" tabindex="-1"></a>   <span class="fu">scale_x_log10</span>() <span class="sc">+</span></span>
<span id="cb361-4"><a href="lesson-5c-visual-data-exploration.html#cb361-4" aria-hidden="true" tabindex="-1"></a>   <span class="fu">scale_y_log10</span>(<span class="at">labels =</span> scales<span class="sc">::</span>dollar) <span class="sc">+</span></span>
<span id="cb361-5"><a href="lesson-5c-visual-data-exploration.html#cb361-5" aria-hidden="true" tabindex="-1"></a>   <span class="fu">facet_wrap</span>(<span class="sc">~</span> House_Style, <span class="at">nrow =</span> <span class="dv">2</span>) <span class="sc">+</span></span>
<span id="cb361-6"><a href="lesson-5c-visual-data-exploration.html#cb361-6" aria-hidden="true" tabindex="-1"></a>   <span class="fu">theme_bw</span>()</span></code></pre></div>
<p><img src="_main_files/figure-html/lesson-5-housestyle-1.png" width="960" style="display: block; margin: auto;" /></p>
<p>We can start to add several of the features discussed in this lesson to highlight multivariate features. For example, here we assess the relationship between sales price and above ground square footage for homes with and without central air conditioning and across the different housing styles. For each house style and central air category we can see where the values are clustered and how the linear relationship changes. For all home styles, houses with central air have a higher selling price with a steeper slope than those without central air. Also, those plots without density markings and linear lines for the no central air category (red) tell us that there are no more than one observation in these groups; so this identifies gaps across multivariate categories of interest.</p>
<div class="sourceCode" id="cb362"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb362-1"><a href="lesson-5c-visual-data-exploration.html#cb362-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(ames, <span class="fu">aes</span>(Gr_Liv_Area, Sale_Price, </span>
<span id="cb362-2"><a href="lesson-5c-visual-data-exploration.html#cb362-2" aria-hidden="true" tabindex="-1"></a>                 <span class="at">color =</span> Central_Air, <span class="at">shape =</span> Central_Air)) <span class="sc">+</span></span>
<span id="cb362-3"><a href="lesson-5c-visual-data-exploration.html#cb362-3" aria-hidden="true" tabindex="-1"></a>   <span class="fu">geom_point</span>(<span class="at">alpha =</span> <span class="fl">0.2</span>) <span class="sc">+</span></span>
<span id="cb362-4"><a href="lesson-5c-visual-data-exploration.html#cb362-4" aria-hidden="true" tabindex="-1"></a>   <span class="fu">geom_density2d</span>(<span class="at">alpha =</span> <span class="fl">0.5</span>) <span class="sc">+</span></span>
<span id="cb362-5"><a href="lesson-5c-visual-data-exploration.html#cb362-5" aria-hidden="true" tabindex="-1"></a>   <span class="fu">geom_smooth</span>(<span class="at">method =</span> <span class="st">&quot;lm&quot;</span>, <span class="at">se =</span> <span class="cn">FALSE</span>) <span class="sc">+</span></span>
<span id="cb362-6"><a href="lesson-5c-visual-data-exploration.html#cb362-6" aria-hidden="true" tabindex="-1"></a>   <span class="fu">scale_x_log10</span>() <span class="sc">+</span></span>
<span id="cb362-7"><a href="lesson-5c-visual-data-exploration.html#cb362-7" aria-hidden="true" tabindex="-1"></a>   <span class="fu">scale_y_log10</span>(<span class="at">labels =</span> scales<span class="sc">::</span>dollar) <span class="sc">+</span></span>
<span id="cb362-8"><a href="lesson-5c-visual-data-exploration.html#cb362-8" aria-hidden="true" tabindex="-1"></a>   <span class="fu">facet_wrap</span>(<span class="sc">~</span> House_Style, <span class="at">nrow =</span> <span class="dv">2</span>) <span class="sc">+</span></span>
<span id="cb362-9"><a href="lesson-5c-visual-data-exploration.html#cb362-9" aria-hidden="true" tabindex="-1"></a>   <span class="fu">ggtitle</span>(<span class="st">&quot;Sale Price vs. Above Ground Sq.Ft&quot;</span>,</span>
<span id="cb362-10"><a href="lesson-5c-visual-data-exploration.html#cb362-10" aria-hidden="true" tabindex="-1"></a>           <span class="at">subtitle =</span> <span class="st">&quot;How does central air and house style influence this relationship?&quot;</span>) <span class="sc">+</span></span>
<span id="cb362-11"><a href="lesson-5c-visual-data-exploration.html#cb362-11" aria-hidden="true" tabindex="-1"></a>   <span class="fu">theme_bw</span>()</span></code></pre></div>
<p><img src="_main_files/figure-html/lesson-5-central-house-syle-1.png" width="960" style="display: block; margin: auto;" /></p>
</div>
<div id="parallel-coordinate-plots" class="section level3 hasAnchor" number="20.5.2">
<h3><span class="header-section-number">20.5.2</span> Parallel coordinate plots<a href="lesson-5c-visual-data-exploration.html#parallel-coordinate-plots" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Parallel coordinate plots (PCPs) are also a great way to visualize continuous variables across multiple variables. In PCPs, a vertical axis is drawn for each variable. Then each observation is represented by drawing a line that connects its values on the different axis, creating a multivariate profile. To create a PCP, we can use the <code>ggparcoord()</code> function from the <strong>GGally</strong> package. By default, <code>GGally::ggparcoord()</code> will standardize the variables based on a <em>z-score</em> distribution; however, there are many options for scaling (see <code>?GGally::ggparcoord</code>). A benefit of using PCPs is that you can visualize observations across both continuous and categorical variables. In the example below we include <code>Overall_Qual</code>, an ordered factor with ten levels âVery Poorâ &lt; âPoorâ &lt; âFairâ &lt; â¦ &lt; âExcellentâ &lt; âVery Excellentâ having integer values of 1â10. When including a factor variable, <code>GGally::ggparcoord()</code> will use the factor integer levels as their corresponding value, so it is important to appropriately order any factors you want to include.</p>
<div class="sourceCode" id="cb363"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb363-1"><a href="lesson-5c-visual-data-exploration.html#cb363-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Variables of interest</span></span>
<span id="cb363-2"><a href="lesson-5c-visual-data-exploration.html#cb363-2" aria-hidden="true" tabindex="-1"></a>variables <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">&quot;Sale_Price&quot;</span>, <span class="st">&quot;Year_Built&quot;</span>, <span class="st">&quot;Year_Remod_Add&quot;</span>, <span class="st">&quot;Overall_Qual&quot;</span>)</span>
<span id="cb363-3"><a href="lesson-5c-visual-data-exploration.html#cb363-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb363-4"><a href="lesson-5c-visual-data-exploration.html#cb363-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Parallel coordinate plot</span></span>
<span id="cb363-5"><a href="lesson-5c-visual-data-exploration.html#cb363-5" aria-hidden="true" tabindex="-1"></a>ames <span class="sc">%&gt;%</span></span>
<span id="cb363-6"><a href="lesson-5c-visual-data-exploration.html#cb363-6" aria-hidden="true" tabindex="-1"></a>   <span class="fu">select</span>(variables) <span class="sc">%&gt;%</span></span>
<span id="cb363-7"><a href="lesson-5c-visual-data-exploration.html#cb363-7" aria-hidden="true" tabindex="-1"></a>   GGally<span class="sc">::</span><span class="fu">ggparcoord</span>(<span class="at">alpha =</span> <span class="fl">0.05</span>, <span class="at">scale =</span> <span class="st">&quot;center&quot;</span>)</span></code></pre></div>
<p><img src="_main_files/figure-html/lesson-5-parcoord1-1.png" width="768" style="display: block; margin: auto;" /></p>
<p>The darker bands in the above plot illustrate several features. The observations with higher sales prices tend to be built in more recent years, be remodeled in recent years and be categorized in the top half of the overall quality measures. In contracts, homes with lower sales prices tend to be more out-dated (based on older built and remodel dates) and have lower quality ratings. We also see some homes with exceptionally old build dates that have much newer remodel dates but still have just average quality ratings.</p>
<p>We can make this more explicit by adding a new variable to indicate if a sale price is above average. We can then tell <code>GGally::ggparcood()</code> to group by this new variable. Now we clearly see that above average sale prices are related to much newer homes.</p>
<div class="sourceCode" id="cb364"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb364-1"><a href="lesson-5c-visual-data-exploration.html#cb364-1" aria-hidden="true" tabindex="-1"></a>ames <span class="sc">%&gt;%</span></span>
<span id="cb364-2"><a href="lesson-5c-visual-data-exploration.html#cb364-2" aria-hidden="true" tabindex="-1"></a>   <span class="fu">select</span>(variables) <span class="sc">%&gt;%</span></span>
<span id="cb364-3"><a href="lesson-5c-visual-data-exploration.html#cb364-3" aria-hidden="true" tabindex="-1"></a>   <span class="fu">mutate</span>(<span class="at">Above_Avg =</span> Sale_Price <span class="sc">&gt;</span> <span class="fu">mean</span>(Sale_Price)) <span class="sc">%&gt;%</span></span>
<span id="cb364-4"><a href="lesson-5c-visual-data-exploration.html#cb364-4" aria-hidden="true" tabindex="-1"></a>   GGally<span class="sc">::</span><span class="fu">ggparcoord</span>(</span>
<span id="cb364-5"><a href="lesson-5c-visual-data-exploration.html#cb364-5" aria-hidden="true" tabindex="-1"></a>     <span class="at">alpha =</span> <span class="fl">0.05</span>,</span>
<span id="cb364-6"><a href="lesson-5c-visual-data-exploration.html#cb364-6" aria-hidden="true" tabindex="-1"></a>     <span class="at">scale =</span> <span class="st">&quot;center&quot;</span>,</span>
<span id="cb364-7"><a href="lesson-5c-visual-data-exploration.html#cb364-7" aria-hidden="true" tabindex="-1"></a>     <span class="at">columns =</span> <span class="dv">1</span><span class="sc">:</span><span class="dv">4</span>,</span>
<span id="cb364-8"><a href="lesson-5c-visual-data-exploration.html#cb364-8" aria-hidden="true" tabindex="-1"></a>     <span class="at">groupColumn =</span> <span class="st">&quot;Above_Avg&quot;</span></span>
<span id="cb364-9"><a href="lesson-5c-visual-data-exploration.html#cb364-9" aria-hidden="true" tabindex="-1"></a>   )</span></code></pre></div>
<p><img src="_main_files/figure-html/lesson-5-parcoord2-1.png" width="864" style="display: block; margin: auto;" /></p>
</div>
<div id="mosaic-plots" class="section level3 hasAnchor" number="20.5.3">
<h3><span class="header-section-number">20.5.3</span> Mosaic plots<a href="lesson-5c-visual-data-exploration.html#mosaic-plots" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Mosaic plots are a graphical method for visualizing data from two or more qualitative variables. In this visual the graphics area is divided up into rectangles proportional in size to the counts of the combinations they represent. Below we use <code>abbreviate</code> to shorten the labels but we can pull a few insights from the below:</p>
<ul>
<li>Left plot: we can see that far more homes that sold above the average sale price (<code>TRUE</code>) have attached garages (<code>Attc</code>) whereas far more homes that sold below average sale price have detached garages (<code>Dtch</code>).</li>
<li>Right plot: we can see that far more homes that sold below the average sale price have 1 car garages where almost all homes that sold above the average sale price have 2-3 car garages.</li>
</ul>
<div class="sourceCode" id="cb365"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb365-1"><a href="lesson-5c-visual-data-exploration.html#cb365-1" aria-hidden="true" tabindex="-1"></a>ames2 <span class="ot">&lt;-</span> ames <span class="sc">%&gt;%</span></span>
<span id="cb365-2"><a href="lesson-5c-visual-data-exploration.html#cb365-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb365-3"><a href="lesson-5c-visual-data-exploration.html#cb365-3" aria-hidden="true" tabindex="-1"></a>    <span class="at">Above_Avg =</span> Sale_Price <span class="sc">&gt;</span> <span class="fu">mean</span>(Sale_Price),</span>
<span id="cb365-4"><a href="lesson-5c-visual-data-exploration.html#cb365-4" aria-hidden="true" tabindex="-1"></a>    <span class="at">Garage_Type =</span> <span class="fu">abbreviate</span>(Garage_Type),</span>
<span id="cb365-5"><a href="lesson-5c-visual-data-exploration.html#cb365-5" aria-hidden="true" tabindex="-1"></a>    <span class="at">Garage_Qual =</span> <span class="fu">abbreviate</span>(Garage_Qual)</span>
<span id="cb365-6"><a href="lesson-5c-visual-data-exploration.html#cb365-6" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb365-7"><a href="lesson-5c-visual-data-exploration.html#cb365-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb365-8"><a href="lesson-5c-visual-data-exploration.html#cb365-8" aria-hidden="true" tabindex="-1"></a><span class="fu">par</span>(<span class="at">mfrow =</span> <span class="fu">c</span>(<span class="dv">1</span>, <span class="dv">2</span>))</span>
<span id="cb365-9"><a href="lesson-5c-visual-data-exploration.html#cb365-9" aria-hidden="true" tabindex="-1"></a><span class="fu">mosaicplot</span>(Above_Avg <span class="sc">~</span> Garage_Type, <span class="at">data =</span> ames2, <span class="at">las =</span> <span class="dv">1</span>)</span>
<span id="cb365-10"><a href="lesson-5c-visual-data-exploration.html#cb365-10" aria-hidden="true" tabindex="-1"></a><span class="fu">mosaicplot</span>(Above_Avg <span class="sc">~</span> Garage_Type <span class="sc">+</span> Garage_Cars, <span class="at">data =</span> ames2, <span class="at">las =</span> <span class="dv">1</span>)</span></code></pre></div>
<p><img src="_main_files/figure-html/lesson-5-mosaic-1.png" width="1344" style="display: block; margin: auto;" /></p>
</div>
<div id="tree-maps" class="section level3 hasAnchor" number="20.5.4">
<h3><span class="header-section-number">20.5.4</span> Tree maps<a href="lesson-5c-visual-data-exploration.html#tree-maps" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Tree maps are also a useful visualization aimed at assessing the hierarchical structure of data. Tree maps are primarily used to assess a numeric value across multiple categories. It can be useful to assess the counts or proportions of a categorical variable nested within other categorical variables. For example, we can use a tree map to visualize the above right mosaic plot that illustrates the number of homes sold above and below average sales price with different garage characteristics. Again, we can see in the tree map that houses with above average prices tend to have attached 2 and 3-car garages. Houses sold below average price have more attached 1-car garages and also have far more detached garages.</p>
<div class="sourceCode" id="cb366"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb366-1"><a href="lesson-5c-visual-data-exploration.html#cb366-1" aria-hidden="true" tabindex="-1"></a>ames <span class="sc">%&gt;%</span> </span>
<span id="cb366-2"><a href="lesson-5c-visual-data-exploration.html#cb366-2" aria-hidden="true" tabindex="-1"></a>   <span class="fu">mutate</span>(<span class="at">Above_Below =</span> <span class="fu">ifelse</span>(Sale_Price <span class="sc">&gt;</span> <span class="fu">mean</span>(Sale_Price), <span class="st">&quot;Above Avg&quot;</span>, <span class="st">&quot;Below Avg&quot;</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb366-3"><a href="lesson-5c-visual-data-exploration.html#cb366-3" aria-hidden="true" tabindex="-1"></a>   <span class="fu">count</span>(Garage_Type, Garage_Cars, Above_Below) <span class="sc">%&gt;%</span></span>
<span id="cb366-4"><a href="lesson-5c-visual-data-exploration.html#cb366-4" aria-hidden="true" tabindex="-1"></a>   treemap<span class="sc">::</span><span class="fu">treemap</span>(</span>
<span id="cb366-5"><a href="lesson-5c-visual-data-exploration.html#cb366-5" aria-hidden="true" tabindex="-1"></a>     <span class="at">index =</span> <span class="fu">c</span>(<span class="st">&quot;Above_Below&quot;</span>, <span class="st">&quot;Garage_Type&quot;</span>, <span class="st">&quot;Garage_Cars&quot;</span>),</span>
<span id="cb366-6"><a href="lesson-5c-visual-data-exploration.html#cb366-6" aria-hidden="true" tabindex="-1"></a>     <span class="at">vSize =</span> <span class="st">&quot;n&quot;</span></span>
<span id="cb366-7"><a href="lesson-5c-visual-data-exploration.html#cb366-7" aria-hidden="true" tabindex="-1"></a>   )</span></code></pre></div>
<p><img src="_main_files/figure-html/lesson-5-treemap-1.png" width="960" style="display: block; margin: auto;" /></p>
</div>
<div id="heat-maps" class="section level3 hasAnchor" number="20.5.5">
<h3><span class="header-section-number">20.5.5</span> Heat maps<a href="lesson-5c-visual-data-exploration.html#heat-maps" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>A <em>heat map</em> is essentially a false color image of a matrix or data set. Heat maps can be extremely useful in identifying clusters of values; a common use is in plotting a correlation matrix. In the example below we select all the numeric variables in <code>ames</code>, compute the correlation matrix between them, and visualize the results with a heat map. Bright/dark spots represent clusters of observations with similar correlations. We can see that <code>Sale_Price</code> (3rd row from bottom) has a relatively weak linear association with variables such as <code>BsmtFin_Sf_1</code>, <code>Bsmt_Unf_SF</code>, <code>Longitude</code>, and <code>Enclosed_Porch</code>. The larger correlations values for <code>Sale_Price</code> align with variables such as <code>Garage_Cars</code>, <code>Garage_Area</code>, and <code>First_Flr_SF</code>, etc.</p>
<div class="sourceCode" id="cb367"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb367-1"><a href="lesson-5c-visual-data-exploration.html#cb367-1" aria-hidden="true" tabindex="-1"></a>ames <span class="sc">%&gt;%</span></span>
<span id="cb367-2"><a href="lesson-5c-visual-data-exploration.html#cb367-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select_if</span>(is.numeric) <span class="sc">%&gt;%</span>          <span class="co"># select all the numeric columns</span></span>
<span id="cb367-3"><a href="lesson-5c-visual-data-exploration.html#cb367-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">cor</span>() <span class="sc">%&gt;%</span>                          <span class="co"># compute the correlation matrix</span></span>
<span id="cb367-4"><a href="lesson-5c-visual-data-exploration.html#cb367-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">heatmap</span>(                           </span>
<span id="cb367-5"><a href="lesson-5c-visual-data-exploration.html#cb367-5" aria-hidden="true" tabindex="-1"></a>    <span class="at">symm =</span> <span class="cn">TRUE</span>,                     <span class="co"># since correlation matrices are symmetric!</span></span>
<span id="cb367-6"><a href="lesson-5c-visual-data-exploration.html#cb367-6" aria-hidden="true" tabindex="-1"></a>    <span class="at">col =</span> viridis<span class="sc">::</span><span class="fu">inferno</span>(<span class="fu">nrow</span>(ames))</span>
<span id="cb367-7"><a href="lesson-5c-visual-data-exploration.html#cb367-7" aria-hidden="true" tabindex="-1"></a>  )  </span></code></pre></div>
<p><img src="_main_files/figure-html/lesson-5-heat-map-01-1.png" width="864" style="display: block; margin: auto;" /></p>
</div>
<div id="generalized-pairs-plot" class="section level3 hasAnchor" number="20.5.6">
<h3><span class="header-section-number">20.5.6</span> Generalized pairs plot<a href="lesson-5c-visual-data-exploration.html#generalized-pairs-plot" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>When dealing with a small data set (or subset of a large data set), it can be useful to construct a matrix of plots comparing two-way relationships across a number of variables. In the code chunk below we (i) select <code>Sale_Price</code> and all variables names that contain <code>"sf"</code> (i.e., all square footage variables), (ii) scale all variables, and (iii) display scatter plots and correlation values with the <code>GGally::ggpairs()</code> function. This can help us identify which features may have a potential relationship/association via numeric and visual means.</p>
<p>In this example we see a pretty good relationship between <code>Sale_Price</code> and the <code>Total_Bsmt_SF</code> and <code>First_Flr_SF</code> features along with a couple others.</p>
<div class="sourceCode" id="cb368"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb368-1"><a href="lesson-5c-visual-data-exploration.html#cb368-1" aria-hidden="true" tabindex="-1"></a>ames <span class="sc">%&gt;%</span></span>
<span id="cb368-2"><a href="lesson-5c-visual-data-exploration.html#cb368-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(Sale_Price, <span class="fu">contains</span>(<span class="st">&quot;sf&quot;</span>)) <span class="sc">%&gt;%</span>  <span class="co"># select column names containing &quot;sf&quot;</span></span>
<span id="cb368-3"><a href="lesson-5c-visual-data-exploration.html#cb368-3" aria-hidden="true" tabindex="-1"></a>  GGally<span class="sc">::</span><span class="fu">ggpairs</span>()</span></code></pre></div>
<p><img src="_main_files/figure-html/lesson-5-ggpairs-01-1.png" width="1152" style="display: block; margin: auto;" /></p>
</div>
<div id="knowledge-check-49" class="section level3 hasAnchor" number="20.5.7">
<h3><span class="header-section-number">20.5.7</span> Knowledge check<a href="lesson-5c-visual-data-exploration.html#knowledge-check-49" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<div class="todo">
<ol style="list-style-type: decimal">
<li>
Analyze the relationship between the quality features
(i.e.Â <code>Overall_Qual</code>, <code>Kitchen_Qual</code>,
<code>Bsmt_Qual</code>, <code>Exter_Qual</code>) and
<code>Sale_Price</code>. Which feature of these features appear to have
a relationship?
</li>
<li>
Assess the relationship between <code>Sale_Price</code>,
<code>Gr_Liv_Area</code>, and <code>Overall_Qual</code>. How would you
explain this relationship?
</li>
<li>
Which neighborhoods tend to have larger homes
(<code>Gr_Liv_Area</code>)? Which of these neighborhoods have higher
than average <code>Sale_Price</code> and which have lower than average
<code>Sale_Price</code>. Are there homes that appear to be much larger
than the rest of the homes in their neighborhood?
</li>
</ol>
</div>
</div>
</div>
<div id="data-quality" class="section level2 hasAnchor" number="20.6">
<h2><span class="header-section-number">20.6</span> Data quality<a href="lesson-5c-visual-data-exploration.html#data-quality" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>Data quality is an important issue for any project involving analyzing data. Data quality issues deserves an entire book in its own right, and a good reference is the <a href="https://qz.com/572338/the-quartz-guide-to-bad-data/">The Quartz guide to bad data</a>. In this section, we discuss one topic of particular importance: visualizing missing data.</p>
<p>It is important to understand the distribution of missing values (i.e., <code>NA</code>) is any data set. So far, we have been using a pre-processed version of the Ames housing data set (via the <code>AmesHousing::make_ames()</code> function). However, if we use the raw Ames housing data (via <code>AmesHousing::ames_raw</code>), there are actually 13,997 missing valuesâthere is at least one missing values in each row of the original data!</p>
<div class="sourceCode" id="cb369"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb369-1"><a href="lesson-5c-visual-data-exploration.html#cb369-1" aria-hidden="true" tabindex="-1"></a>ames_raw <span class="ot">&lt;-</span> AmesHousing<span class="sc">::</span>ames_raw</span>
<span id="cb369-2"><a href="lesson-5c-visual-data-exploration.html#cb369-2" aria-hidden="true" tabindex="-1"></a><span class="fu">sum</span>(<span class="fu">is.na</span>(ames_raw))</span>
<span id="cb369-3"><a href="lesson-5c-visual-data-exploration.html#cb369-3" aria-hidden="true" tabindex="-1"></a><span class="do">## [1] 13997</span></span></code></pre></div>
<p>It is important to understand the distribution of missing values in a data set in order to determine 1) if any variable(s) should be eliminated prior to analysis, or 2) if any values need to be <em>imputed</em><a href="#fn9" class="footnote-ref" id="fnref9"><sup>9</sup></a>.</p>
<p>We can use the <a href="https://naniar.njtierney.com/index.html"><strong>naniar</strong></a> package to assess missing data. For example, the below plot allows us to easily see where the majority of missing values occur (i.e., in the variables <code>Pool QC</code>, <code>Misc Feature</code>, <code>Alley</code>, <code>Fence</code>, and <code>Fireplace Qu</code>). Due to their high frequency of missingness, these variables would likely need to be removed prior to statistical analysis, or imputed (i.e., filled in with intelligent guesses).</p>
<div class="sourceCode" id="cb370"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb370-1"><a href="lesson-5c-visual-data-exploration.html#cb370-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(naniar)</span>
<span id="cb370-2"><a href="lesson-5c-visual-data-exploration.html#cb370-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb370-3"><a href="lesson-5c-visual-data-exploration.html#cb370-3" aria-hidden="true" tabindex="-1"></a><span class="fu">gg_miss_var</span>(ames_raw)</span></code></pre></div>
<p><img src="_main_files/figure-html/lesson-5-missing-n-1.png" width="576" style="display: block; margin: auto;" /></p>
<p>We can also spot obvious patterns of missingness. For example, plotting missing values across all variables and observations allow us to identify when missing values appear to occur within the same observations across certain features. For example, the below shows us that when missing values appear for one of the garage features nearly all other garage variables are also missing.</p>
<div class="sourceCode" id="cb371"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb371-1"><a href="lesson-5c-visual-data-exploration.html#cb371-1" aria-hidden="true" tabindex="-1"></a><span class="fu">vis_miss</span>(ames_raw)</span></code></pre></div>
<p><img src="_main_files/figure-html/lesson-5-missing-obs-1.png" width="1440" style="display: block; margin: auto;" /></p>
<p>Digging a little deeper into these variables, we might notice that <code>Garage_Cars</code> and <code>Garage_Area</code> contain the value <code>0</code> whenever the other <code>Garage_xx</code> variables have missing values (i.e.Â a value of <code>NA</code>). This might be because they did not have a way to identify houses with no garages when the data were originally collected; and therefore, all houses with no garage were identified by including nothing. Since this missingness is informative, it would be appropriate to impute <code>NA</code> with a new category level (e.g., <code>"None"</code>) for these garage variables. Circumstances like this tend to only arise upon careful descriptive and visual examination of the data!</p>
<div class="sourceCode" id="cb372"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb372-1"><a href="lesson-5c-visual-data-exploration.html#cb372-1" aria-hidden="true" tabindex="-1"></a>ames_raw <span class="sc">%&gt;%</span> </span>
<span id="cb372-2"><a href="lesson-5c-visual-data-exploration.html#cb372-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(<span class="fu">is.na</span>(<span class="st">`</span><span class="at">Garage Type</span><span class="st">`</span>)) <span class="sc">%&gt;%</span> </span>
<span id="cb372-3"><a href="lesson-5c-visual-data-exploration.html#cb372-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(<span class="fu">contains</span>(<span class="st">&quot;garage&quot;</span>))</span>
<span id="cb372-4"><a href="lesson-5c-visual-data-exploration.html#cb372-4" aria-hidden="true" tabindex="-1"></a><span class="do">## # A tibble: 157 Ã 7</span></span>
<span id="cb372-5"><a href="lesson-5c-visual-data-exploration.html#cb372-5" aria-hidden="true" tabindex="-1"></a><span class="do">##    `Garage Type` `Garage Yr Blt` `Garage Finish` `Garage Cars` `Garage Area` `Garage Qual`</span></span>
<span id="cb372-6"><a href="lesson-5c-visual-data-exploration.html#cb372-6" aria-hidden="true" tabindex="-1"></a><span class="do">##    &lt;chr&gt;                   &lt;int&gt; &lt;chr&gt;                   &lt;int&gt;         &lt;int&gt; &lt;chr&gt;        </span></span>
<span id="cb372-7"><a href="lesson-5c-visual-data-exploration.html#cb372-7" aria-hidden="true" tabindex="-1"></a><span class="do">##  1 &lt;NA&gt;                       NA &lt;NA&gt;                        0             0 &lt;NA&gt;         </span></span>
<span id="cb372-8"><a href="lesson-5c-visual-data-exploration.html#cb372-8" aria-hidden="true" tabindex="-1"></a><span class="do">##  2 &lt;NA&gt;                       NA &lt;NA&gt;                        0             0 &lt;NA&gt;         </span></span>
<span id="cb372-9"><a href="lesson-5c-visual-data-exploration.html#cb372-9" aria-hidden="true" tabindex="-1"></a><span class="do">##  3 &lt;NA&gt;                       NA &lt;NA&gt;                        0             0 &lt;NA&gt;         </span></span>
<span id="cb372-10"><a href="lesson-5c-visual-data-exploration.html#cb372-10" aria-hidden="true" tabindex="-1"></a><span class="do">##  4 &lt;NA&gt;                       NA &lt;NA&gt;                        0             0 &lt;NA&gt;         </span></span>
<span id="cb372-11"><a href="lesson-5c-visual-data-exploration.html#cb372-11" aria-hidden="true" tabindex="-1"></a><span class="do">##  5 &lt;NA&gt;                       NA &lt;NA&gt;                        0             0 &lt;NA&gt;         </span></span>
<span id="cb372-12"><a href="lesson-5c-visual-data-exploration.html#cb372-12" aria-hidden="true" tabindex="-1"></a><span class="do">##  6 &lt;NA&gt;                       NA &lt;NA&gt;                        0             0 &lt;NA&gt;         </span></span>
<span id="cb372-13"><a href="lesson-5c-visual-data-exploration.html#cb372-13" aria-hidden="true" tabindex="-1"></a><span class="do">##  7 &lt;NA&gt;                       NA &lt;NA&gt;                        0             0 &lt;NA&gt;         </span></span>
<span id="cb372-14"><a href="lesson-5c-visual-data-exploration.html#cb372-14" aria-hidden="true" tabindex="-1"></a><span class="do">##  8 &lt;NA&gt;                       NA &lt;NA&gt;                        0             0 &lt;NA&gt;         </span></span>
<span id="cb372-15"><a href="lesson-5c-visual-data-exploration.html#cb372-15" aria-hidden="true" tabindex="-1"></a><span class="do">##  9 &lt;NA&gt;                       NA &lt;NA&gt;                        0             0 &lt;NA&gt;         </span></span>
<span id="cb372-16"><a href="lesson-5c-visual-data-exploration.html#cb372-16" aria-hidden="true" tabindex="-1"></a><span class="do">## 10 &lt;NA&gt;                       NA &lt;NA&gt;                        0             0 &lt;NA&gt;         </span></span>
<span id="cb372-17"><a href="lesson-5c-visual-data-exploration.html#cb372-17" aria-hidden="true" tabindex="-1"></a><span class="do">## # â¦ with 147 more rows, and 1 more variable: `Garage Cond` &lt;chr&gt;</span></span></code></pre></div>
<p>We can visually assess combinations of missingness and intersections of missingness amongst variables with the <code>gg_miss_upset</code> function. For example, the below shows the relationships across missing values in our raw Ames data. We see that there are 917 observations where <code>Pool QC</code>, <code>Misc Feature</code>, <code>Alley</code>, and <code>Fence</code> are all missing. We can also see that when garage features are missing they are pretty much missing across all garage features (versus just one or two garage features missing values).</p>
<div class="tip">
<p>
You can control how many features to visualize with
<code>nsets</code>. By default it will pull the 5 features with the most
missing values.
</p>
</div>
<div class="sourceCode" id="cb373"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb373-1"><a href="lesson-5c-visual-data-exploration.html#cb373-1" aria-hidden="true" tabindex="-1"></a>ames_raw <span class="sc">%&gt;%</span></span>
<span id="cb373-2"><a href="lesson-5c-visual-data-exploration.html#cb373-2" aria-hidden="true" tabindex="-1"></a>   <span class="fu">gg_miss_upset</span>(<span class="at">nsets =</span> <span class="dv">10</span>)</span></code></pre></div>
<p><img src="_main_files/figure-html/lesson-5-missing-int-1.png" width="1152" style="display: block; margin: auto;" /></p>
<p>Data can be missing for different reasons. Perhaps the values were never recoded (or lost in translation), or it was recorded an error (a common feature of data enetered by hand). Regardless, it is important to identify and attempt to understand how missing values are distributed across a data set as it can provide insight into how to deal with these observations.</p>
<div id="knowledge-check-50" class="section level3 hasAnchor" number="20.6.1">
<h3><span class="header-section-number">20.6.1</span> Knowledge check<a href="lesson-5c-visual-data-exploration.html#knowledge-check-50" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<div class="todo">
<p>
Using the <code>nycflights13::flights</code> data: 1. Identify which
features have missing values? 2. How many missing values are in each of
these features? 3. Do there appear to be a relationship between the
missing values for these features? Do they tend to be missing at random
or do they tend to be missing in unison?
</p>
</div>
</div>
</div>
<div id="exercise" class="section level2 hasAnchor" number="20.7">
<h2><span class="header-section-number">20.7</span> Exercise<a href="lesson-5c-visual-data-exploration.html#exercise" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<div class="todo">
<p>
Using the <code>completejourney</code> data:
</p>
<ol style="list-style-type: decimal">
<li>
Use an inner join to join <code>transactions_sample</code>,
<code>products</code>, and <code>demographics</code> data.
</li>
<li>
Are there any missing values in this data?
</li>
<li>
Assess the distribution of the sales value, quantity, and discount
features. Are these features normally distributed or are they skewed? Do
there appear to have outliers? What are the most common bins of values
for these features and are there gaps across the value spectrum?
</li>
<li>
Assess the distribution of <code>department</code>s for each
transaction. Are there certain departments that have very few
observations?
</li>
<li>
Assess the relationship between <code>sales_value</code>,
<code>quantity</code>, and <code>department</code>. How would you
explain this relationship? Does <code>brand</code> have any influence in
these relationships?
</li>
<li>
Which departments tend to have larger sales values? Which of these
departments have higher than average sales values and which have lower
than average sales values. Are there departments that appear to much
larger quantities of transactions than the rest of the departments?
</li>
</ol>
</div>

</div>
</div>



<h3>References<a href="references.html#references" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<div id="refs" class="references csl-bib-body hanging-indent">
<div id="ref-van-flexible-2012" class="csl-entry">
Buuren, S. van. 2012. <em>Flexible Imputation of Missing Data</em>. Chapman &amp; Hall/CRC Interdisciplinary Statistics. Taylor &amp; Francis.
</div>
<div id="ref-R-mice" class="csl-entry">
van Buuren, Stef, and Karin Groothuis-Oudshoorn. 2011. <span>â<span class="nocase">mice</span>: Multivariate Imputation by Chained Equations in r.â</span> <em>Journal of Statistical Software</em> 45 (3): 1â67. <a href="https://doi.org/10.18637/jss.v045.i03">https://doi.org/10.18637/jss.v045.i03</a>.
</div>
</div>
<div class="footnotes">
<hr />
<ol start="9">
<li id="fn9"><p>Imputation essentially just means filling in missing values with an <em>intelligent guess</em>. We do not discuss missing value imputation in this lesson, but the interested reader is referred to <span class="citation">Buuren (<a href="#ref-van-flexible-2012" role="doc-biblioref">2012</a>)</span> and the R package <code>mice</code> <span class="citation">(<a href="#ref-R-mice" role="doc-biblioref">van Buuren and Groothuis-Oudshoorn 2011</a>)</span>.<a href="lesson-5c-visual-data-exploration.html#fnref9" class="footnote-back">â©ï¸</a></p></li>
</ol>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="lesson-5b-handling-factors.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="overview-5.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": false,
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": "https://github.com/bradleyboehmke/uc-bana-7025/edit/master/module-5/lesson-3.Rmd",
"text": "Edit"
},
"history": {
"link": null,
"text": null
},
"view": {
"link": null,
"text": null
},
"download": null,
"search": {
"engine": "fuse",
"options": null
},
"toc": {
"collapse": "section"
}
});
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "true";
    if (src === "" || src === "true") src = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:")
      if (/^https?:/.test(src))
        src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>
</body>

</html>
